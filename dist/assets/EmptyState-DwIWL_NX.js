const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/cloudinaryUpload-vqCefYaz.js","assets/main-5wCJ0shd.js","assets/main-BtcpJIrZ.css"])))=>i.map(i=>d[i]);
import{c as R,j as e,r as n,q as W,a as A,X as Se,L as Ae,B as z,_ as Le}from"./main-5wCJ0shd.js";import{c as le,b as Me,u as de,P as X,a as S,d as re}from"./index-XPl2RJU8.js";import{P as Oe,D as He}from"./index-DJGIH_vd.js";import{f as pe,R as $e,A as qe,C as ze,h as Fe,g as Be}from"./select-D68HeZiV.js";import{a as Ge,u as Ue}from"./index-DJsYT-OT.js";import{C as Ve}from"./check-b5qncWl4.js";import"./base44Client-BjweZdup.js";import{D as ue,a as he,b as me,c as xe}from"./dialog-BQt4A9EY.js";import{I as We,L as Q}from"./label-BGurCIwA.js";import{T as Xe}from"./textarea-BBItVPmi.js";import{e as Ke,C as U,P as V}from"./index-DxdNJ03y.js";import{m as q}from"./proxy-CaN4jGBq.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Kt=R("EllipsisVertical",Ye);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Yt=R("ExternalLink",Ze);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Zt=R("FileText",Je);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],I=R("GripVertical",Qe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Jt=R("Info",et);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Qt=R("Link2",tt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],er=R("Pencil",rt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=[["path",{d:"m12 14-1 1",key:"11onhr"}],["path",{d:"m13.75 18.25-1.25 1.42",key:"1yisr3"}],["path",{d:"M17.775 5.654a15.68 15.68 0 0 0-12.121 12.12",key:"1qtqk6"}],["path",{d:"M18.8 9.3a1 1 0 0 0 2.1 7.7",key:"fbbbr2"}],["path",{d:"M21.964 20.732a1 1 0 0 1-1.232 1.232l-18-5a1 1 0 0 1-.695-1.232A19.68 19.68 0 0 1 15.732 2.037a1 1 0 0 1 1.232.695z",key:"1hyfdd"}]],tr=R("Pizza",ot);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],at=R("Upload",st);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],rr=R("UtensilsCrossed",nt);var it=Symbol("radix.slottable");function ct(t){const o=({children:r})=>e.jsx(e.Fragment,{children:r});return o.displayName=`${t}.Slottable`,o.__radixId=it,o}var[K]=le("Tooltip",[pe]),Y=pe(),fe="TooltipProvider",lt=700,ee="tooltip.open",[dt,oe]=K(fe),ge=t=>{const{__scopeTooltip:o,delayDuration:r=lt,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:i}=t,l=n.useRef(!0),b=n.useRef(!1),c=n.useRef(0);return n.useEffect(()=>{const g=c.current;return()=>window.clearTimeout(g)},[]),e.jsx(dt,{scope:o,isOpenDelayedRef:l,delayDuration:r,onOpen:n.useCallback(()=>{window.clearTimeout(c.current),l.current=!1},[]),onClose:n.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>l.current=!0,s)},[s]),isPointerInTransitRef:b,onPointerInTransitChange:n.useCallback(g=>{b.current=g},[]),disableHoverableContent:a,children:i})};ge.displayName=fe;var F="Tooltip",[pt,B]=K(F),ye=t=>{const{__scopeTooltip:o,children:r,open:s,defaultOpen:a,onOpenChange:i,disableHoverableContent:l,delayDuration:b}=t,c=oe(F,t.__scopeTooltip),g=Y(o),[h,p]=n.useState(null),m=Me(),x=n.useRef(0),y=l??c.disableHoverableContent,k=b??c.delayDuration,N=n.useRef(!1),[j,f]=de({prop:s,defaultProp:a??!1,onChange:H=>{H?(c.onOpen(),document.dispatchEvent(new CustomEvent(ee))):c.onClose(),i?.(H)},caller:F}),E=n.useMemo(()=>j?N.current?"delayed-open":"instant-open":"closed",[j]),_=n.useCallback(()=>{window.clearTimeout(x.current),x.current=0,N.current=!1,f(!0)},[f]),P=n.useCallback(()=>{window.clearTimeout(x.current),x.current=0,f(!1)},[f]),O=n.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{N.current=!0,f(!0),x.current=0},k)},[k,f]);return n.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),e.jsx($e,{...g,children:e.jsx(pt,{scope:o,contentId:m,open:j,stateAttribute:E,trigger:h,onTriggerChange:p,onTriggerEnter:n.useCallback(()=>{c.isOpenDelayedRef.current?O():_()},[c.isOpenDelayedRef,O,_]),onTriggerLeave:n.useCallback(()=>{y?P():(window.clearTimeout(x.current),x.current=0)},[P,y]),onOpen:_,onClose:P,disableHoverableContent:y,children:r})})};ye.displayName=F;var te="TooltipTrigger",be=n.forwardRef((t,o)=>{const{__scopeTooltip:r,...s}=t,a=B(te,r),i=oe(te,r),l=Y(r),b=n.useRef(null),c=W(o,b,a.onTriggerChange),g=n.useRef(!1),h=n.useRef(!1),p=n.useCallback(()=>g.current=!1,[]);return n.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),e.jsx(qe,{asChild:!0,...l,children:e.jsx(X.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:c,onPointerMove:S(t.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),h.current=!0)}),onPointerLeave:S(t.onPointerLeave,()=>{a.onTriggerLeave(),h.current=!1}),onPointerDown:S(t.onPointerDown,()=>{a.open&&a.onClose(),g.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:S(t.onFocus,()=>{g.current||a.onOpen()}),onBlur:S(t.onBlur,a.onClose),onClick:S(t.onClick,a.onClose)})})});be.displayName=te;var se="TooltipPortal",[ut,ht]=K(se,{forceMount:void 0}),ve=t=>{const{__scopeTooltip:o,forceMount:r,children:s,container:a}=t,i=B(se,o);return e.jsx(ut,{scope:o,forceMount:r,children:e.jsx(re,{present:r||i.open,children:e.jsx(Oe,{asChild:!0,container:a,children:s})})})};ve.displayName=se;var $="TooltipContent",Ce=n.forwardRef((t,o)=>{const r=ht($,t.__scopeTooltip),{forceMount:s=r.forceMount,side:a="top",...i}=t,l=B($,t.__scopeTooltip);return e.jsx(re,{present:s||l.open,children:l.disableHoverableContent?e.jsx(je,{side:a,...i,ref:o}):e.jsx(mt,{side:a,...i,ref:o})})}),mt=n.forwardRef((t,o)=>{const r=B($,t.__scopeTooltip),s=oe($,t.__scopeTooltip),a=n.useRef(null),i=W(o,a),[l,b]=n.useState(null),{trigger:c,onClose:g}=r,h=a.current,{onPointerInTransitChange:p}=s,m=n.useCallback(()=>{b(null),p(!1)},[p]),x=n.useCallback((y,k)=>{const N=y.currentTarget,j={x:y.clientX,y:y.clientY},f=bt(j,N.getBoundingClientRect()),E=vt(j,f),_=Ct(k.getBoundingClientRect()),P=kt([...E,..._]);b(P),p(!0)},[p]);return n.useEffect(()=>()=>m(),[m]),n.useEffect(()=>{if(c&&h){const y=N=>x(N,h),k=N=>x(N,c);return c.addEventListener("pointerleave",y),h.addEventListener("pointerleave",k),()=>{c.removeEventListener("pointerleave",y),h.removeEventListener("pointerleave",k)}}},[c,h,x,m]),n.useEffect(()=>{if(l){const y=k=>{const N=k.target,j={x:k.clientX,y:k.clientY},f=c?.contains(N)||h?.contains(N),E=!jt(j,l);f?m():E&&(m(),g())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,h,l,g,m]),e.jsx(je,{...t,ref:i})}),[xt,ft]=K(F,{isInside:!1}),gt=ct("TooltipContent"),je=n.forwardRef((t,o)=>{const{__scopeTooltip:r,children:s,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:l,...b}=t,c=B($,r),g=Y(r),{onClose:h}=c;return n.useEffect(()=>(document.addEventListener(ee,h),()=>document.removeEventListener(ee,h)),[h]),n.useEffect(()=>{if(c.trigger){const p=m=>{m.target?.contains(c.trigger)&&h()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[c.trigger,h]),e.jsx(He,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:p=>p.preventDefault(),onDismiss:h,children:e.jsxs(ze,{"data-state":c.stateAttribute,...g,...b,ref:o,style:{...b.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(gt,{children:s}),e.jsx(xt,{scope:r,isInside:!0,children:e.jsx(Fe,{id:c.contentId,role:"tooltip",children:a||s})})]})})});Ce.displayName=$;var ke="TooltipArrow",yt=n.forwardRef((t,o)=>{const{__scopeTooltip:r,...s}=t,a=Y(r);return ft(ke,r).isInside?null:e.jsx(Be,{...a,...s,ref:o})});yt.displayName=ke;function bt(t,o){const r=Math.abs(o.top-t.y),s=Math.abs(o.bottom-t.y),a=Math.abs(o.right-t.x),i=Math.abs(o.left-t.x);switch(Math.min(r,s,a,i)){case i:return"left";case a:return"right";case r:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function vt(t,o,r=5){const s=[];switch(o){case"top":s.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":s.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":s.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":s.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return s}function Ct(t){const{top:o,right:r,bottom:s,left:a}=t;return[{x:a,y:o},{x:r,y:o},{x:r,y:s},{x:a,y:s}]}function jt(t,o){const{x:r,y:s}=t;let a=!1;for(let i=0,l=o.length-1;i<o.length;l=i++){const b=o[i],c=o[l],g=b.x,h=b.y,p=c.x,m=c.y;h>s!=m>s&&r<(p-g)*(s-h)/(m-h)+g&&(a=!a)}return a}function kt(t){const o=t.slice();return o.sort((r,s)=>r.x<s.x?-1:r.x>s.x?1:r.y<s.y?-1:r.y>s.y?1:0),Nt(o)}function Nt(t){if(t.length<=1)return t.slice();const o=[];for(let s=0;s<t.length;s++){const a=t[s];for(;o.length>=2;){const i=o[o.length-1],l=o[o.length-2];if((i.x-l.x)*(a.y-l.y)>=(i.y-l.y)*(a.x-l.x))o.pop();else break}o.push(a)}o.pop();const r=[];for(let s=t.length-1;s>=0;s--){const a=t[s];for(;r.length>=2;){const i=r[r.length-1],l=r[r.length-2];if((i.x-l.x)*(a.y-l.y)>=(i.y-l.y)*(a.x-l.x))r.pop();else break}r.push(a)}return r.pop(),o.length===1&&r.length===1&&o[0].x===r[0].x&&o[0].y===r[0].y?o:o.concat(r)}var wt=ge,Tt=ye,_t=be,Et=ve,Ne=Ce;const or=wt,sr=Tt,ar=_t,Pt=n.forwardRef(({className:t,sideOffset:o=4,...r},s)=>e.jsx(Et,{children:e.jsx(Ne,{ref:s,sideOffset:o,className:A("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Pt.displayName=Ne.displayName;var Z="Checkbox",[Rt]=le(Z),[Dt,ae]=Rt(Z);function It(t){const{__scopeCheckbox:o,checked:r,children:s,defaultChecked:a,disabled:i,form:l,name:b,onCheckedChange:c,required:g,value:h="on",internal_do_not_use_render:p}=t,[m,x]=de({prop:r,defaultProp:a??!1,onChange:c,caller:Z}),[y,k]=n.useState(null),[N,j]=n.useState(null),f=n.useRef(!1),E=y?!!l||!!y.closest("form"):!0,_={checked:m,disabled:i,setChecked:x,control:y,setControl:k,name:b,form:l,value:h,hasConsumerStoppedPropagationRef:f,required:g,defaultChecked:L(a)?!1:a,isFormControl:E,bubbleInput:N,setBubbleInput:j};return e.jsx(Dt,{scope:o,..._,children:St(p)?p(_):s})}var we="CheckboxTrigger",Te=n.forwardRef(({__scopeCheckbox:t,onKeyDown:o,onClick:r,...s},a)=>{const{control:i,value:l,disabled:b,checked:c,required:g,setControl:h,setChecked:p,hasConsumerStoppedPropagationRef:m,isFormControl:x,bubbleInput:y}=ae(we,t),k=W(a,h),N=n.useRef(c);return n.useEffect(()=>{const j=i?.form;if(j){const f=()=>p(N.current);return j.addEventListener("reset",f),()=>j.removeEventListener("reset",f)}},[i,p]),e.jsx(X.button,{type:"button",role:"checkbox","aria-checked":L(c)?"mixed":c,"aria-required":g,"data-state":De(c),"data-disabled":b?"":void 0,disabled:b,value:l,...s,ref:k,onKeyDown:S(o,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:S(r,j=>{p(f=>L(f)?!0:!f),y&&x&&(m.current=j.isPropagationStopped(),m.current||j.stopPropagation())})})});Te.displayName=we;var ne=n.forwardRef((t,o)=>{const{__scopeCheckbox:r,name:s,checked:a,defaultChecked:i,required:l,disabled:b,value:c,onCheckedChange:g,form:h,...p}=t;return e.jsx(It,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:b,required:l,onCheckedChange:g,name:s,form:h,value:c,internal_do_not_use_render:({isFormControl:m})=>e.jsxs(e.Fragment,{children:[e.jsx(Te,{...p,ref:o,__scopeCheckbox:r}),m&&e.jsx(Re,{__scopeCheckbox:r})]})})});ne.displayName=Z;var _e="CheckboxIndicator",Ee=n.forwardRef((t,o)=>{const{__scopeCheckbox:r,forceMount:s,...a}=t,i=ae(_e,r);return e.jsx(re,{present:s||L(i.checked)||i.checked===!0,children:e.jsx(X.span,{"data-state":De(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:o,style:{pointerEvents:"none",...t.style}})})});Ee.displayName=_e;var Pe="CheckboxBubbleInput",Re=n.forwardRef(({__scopeCheckbox:t,...o},r)=>{const{control:s,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:l,required:b,disabled:c,name:g,value:h,form:p,bubbleInput:m,setBubbleInput:x}=ae(Pe,t),y=W(r,x),k=Ge(i),N=Ue(s);n.useEffect(()=>{const f=m;if(!f)return;const E=window.HTMLInputElement.prototype,P=Object.getOwnPropertyDescriptor(E,"checked").set,O=!a.current;if(k!==i&&P){const H=new Event("click",{bubbles:O});f.indeterminate=L(i),P.call(f,L(i)?!1:i),f.dispatchEvent(H)}},[m,k,i,a]);const j=n.useRef(L(i)?!1:i);return e.jsx(X.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??j.current,required:b,disabled:c,name:g,value:h,form:p,...o,tabIndex:-1,ref:y,style:{...o.style,...N,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Re.displayName=Pe;function St(t){return typeof t=="function"}function L(t){return t==="indeterminate"}function De(t){return L(t)?"indeterminate":t?"checked":"unchecked"}const At=n.forwardRef(({className:t,...o},r)=>e.jsx(ne,{ref:r,className:A("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...o,children:e.jsx(Ee,{className:A("flex items-center justify-center text-current"),children:e.jsx(Ve,{className:"h-4 w-4"})})}));At.displayName=ne.displayName;function Lt({className:t,...o}){return e.jsx(We,{className:A("min-h-touch text-base",t),...o})}function Mt({className:t,...o}){return e.jsx(Xe,{className:A("min-h-[100px] text-base",t),...o})}function nr({isOpen:t,onClose:o,onSubmit:r,category:s=null,categoriesCount:a=0}){const[i,l]=n.useState({name:s?.name||"",description:s?.description||"",image:s?.image||"",order:s?.order??a}),[b,c]=n.useState(!1),g=async p=>{const m=p.target.files?.[0];if(m){c(!0);try{const{uploadToCloudinary:x}=await Le(async()=>{const{uploadToCloudinary:k}=await import("./cloudinaryUpload-vqCefYaz.js");return{uploadToCloudinary:k}},__vite__mapDeps([0,1,2])),y=await x(m,"categories");l(k=>({...k,image:y}))}catch(x){console.error("Erro ao fazer upload:",x),alert("Erro ao fazer upload da imagem")}finally{c(!1)}}},h=p=>{p.preventDefault(),i.name.trim()&&r(i)};return e.jsx(ue,{open:t,onOpenChange:o,children:e.jsxs(he,{className:"sm:max-w-lg max-w-[95vw]",children:[e.jsx(me,{children:e.jsx(xe,{children:s?"Editar Categoria":"Nova Categoria"})}),e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Q,{className:"text-sm font-medium mb-2 block",children:"Nome da Categoria *"}),e.jsx(Lt,{value:i.name,onChange:p=>l(m=>({...m,name:p.target.value})),placeholder:"Ex: Churrasco, Bebidas, Sobremesas",required:!0,autoFocus:!0})]}),e.jsxs("div",{children:[e.jsx(Q,{className:"text-sm font-medium mb-2 block",children:"Descrição (opcional)"}),e.jsx(Mt,{value:i.description,onChange:p=>l(m=>({...m,description:p.target.value})),placeholder:"Breve descrição da categoria...",rows:3}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Será exibida abaixo do nome da categoria no cardápio"})]}),e.jsxs("div",{children:[e.jsx(Q,{className:"text-sm font-medium mb-2 block",children:"Imagem da Categoria (opcional)"}),e.jsx("div",{className:"mt-2",children:i.image?e.jsxs("div",{className:"relative inline-block",children:[e.jsx("img",{src:i.image,alt:"Categoria",className:"w-24 h-24 sm:w-32 sm:h-32 object-cover rounded-lg border"}),e.jsx("button",{type:"button",onClick:()=>l(p=>({...p,image:""})),className:"absolute -top-2 -right-2 w-7 h-7 sm:w-6 sm:h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 min-h-touch min-w-touch",children:e.jsx(Se,{className:"w-4 h-4"})})]}):e.jsxs("label",{className:"cursor-pointer",children:[e.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 border-2 border-dashed rounded-lg flex flex-col items-center justify-center hover:border-orange-500 hover:bg-orange-50 transition-colors min-h-touch",children:b?e.jsx(Ae,{className:"w-5 h-5 sm:w-6 sm:h-6 animate-spin text-orange-500"}):e.jsxs(e.Fragment,{children:[e.jsx(at,{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-400"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Upload"})]})}),e.jsx("input",{type:"file",accept:"image/*",onChange:g,className:"hidden"})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[e.jsx(z,{type:"button",variant:"outline",onClick:o,className:"flex-1 min-h-touch",children:"Cancelar"}),e.jsx(z,{type:"submit",className:"flex-1 min-h-touch bg-orange-500 hover:bg-orange-600",children:s?"Salvar":"Criar"})]})]})]})})}function ir({isOpen:t,onClose:o,categories:r,dishes:s,complementGroups:a,onSave:i}){const[l,b]=n.useState([]),[c,g]=n.useState([]),[h,p]=n.useState([]),[m,x]=n.useState({}),[y,k]=n.useState(null),[N,j]=n.useState(null),[f,E]=n.useState(null),[_,P]=n.useState([]);n.useEffect(()=>{if(N){const v=c.find(u=>String(u.id)===String(N));P(Array.isArray(v?.complement_groups)?v.complement_groups:[])}else P([])},[N,c]),n.useEffect(()=>{if(t){const v=Array.isArray(r)?r:[],u=Array.isArray(s)?s:[],T=Array.isArray(a)?a:[];b([...v].sort((d,C)=>(d.order||0)-(C.order||0))),g([...u]),p([...T].sort((d,C)=>(d.order||0)-(C.order||0)));const w={};T.forEach(d=>{d.options&&(w[d.id]=[...d.options])}),x(w),k(null),j(null),E(null)}},[t,r,s,a]);const O=v=>{const{source:u,destination:T,type:w}=v;if(T&&!(u.droppableId===T.droppableId&&u.index===T.index)){if(w==="category"){const d=Array.from(l),[C]=d.splice(u.index,1);d.splice(T.index,0,C),b(d)}else if(w==="dish"){const d=Array.isArray(c)?c:[],C=d.filter(J=>J.category_id===y),D=d.filter(J=>J.category_id!==y),M=Array.from(C),[G]=M.splice(u.index,1);M.splice(T.index,0,G),g([...D,...M])}else if(w==="group"){const d=Array.from(h),[C]=d.splice(u.index,1);d.splice(T.index,0,C),p(d)}else if(w==="dish_groups"){const d=Array.from(_),[C]=d.splice(u.index,1);d.splice(T.index,0,C),P(d)}else if(w.startsWith("option-")){const d=w.replace("option-",""),C=Array.from(m[d]||[]),[D]=C.splice(u.index,1);C.splice(T.index,0,D),x(M=>({...M,[d]:C}))}}},H=()=>{const v=l.map((d,C)=>({...d,order:C})),u={};c.forEach(d=>{u[d.category_id]||(u[d.category_id]=[]),u[d.category_id].push(d)});const T=[];Object.entries(u).forEach(([d,C])=>{C.forEach((D,M)=>{const G={...D,order:M};String(D.id)===String(N)&&_.length&&(G.complement_groups=_),T.push(G)})});const w=h.map((d,C)=>({...d,order:C}));i({categories:v,dishes:T,groups:w,groupOptions:m})},Ie=Array.isArray(c)?c:[],ie=y?Ie.filter(v=>v.category_id===y):[],ce=f?(m[f]||[]).filter(v=>v.is_active!==!1):[];return e.jsx(ue,{open:t,onOpenChange:o,children:e.jsxs(he,{size:"large",className:"sm:max-w-6xl max-w-[95vw] max-h-[85vh] overflow-hidden",children:[e.jsxs(me,{children:[e.jsx(xe,{children:"Reordenar cardápio"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Para alterar a ordem dos itens ou categorias do seu cardápio, clique na opção desejada, segure e arraste."})]}),e.jsx(Ke,{onDragEnd:O,children:e.jsxs("div",{className:"grid grid-cols-4 gap-4 overflow-auto max-h-[calc(85vh-200px)] p-1",children:[e.jsxs("div",{className:"border-r pr-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 sticky top-0 bg-white pb-2",children:[e.jsx("h3",{className:"font-semibold text-sm",children:"Categorias"}),e.jsx(I,{className:"w-4 h-4 text-gray-400"})]}),e.jsx(U,{droppableId:"categories",type:"category",children:v=>e.jsxs("div",{...v.droppableProps,ref:v.innerRef,className:"space-y-2",children:[l.map((u,T)=>e.jsx(V,{draggableId:u.id,index:T,children:(w,d)=>e.jsx("div",{ref:w.innerRef,...w.draggableProps,...w.dragHandleProps,onClick:()=>{k(u.id),j(null),E(null)},className:`p-3 rounded-lg border cursor-pointer transition-all ${d.isDragging?"shadow-lg":""} ${y===u.id?"bg-orange-50 border-orange-300":"bg-white hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),e.jsx("span",{className:"text-sm truncate",children:u.name})]})})},u.id)),v.placeholder]})})]}),e.jsxs("div",{className:"border-r pr-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 sticky top-0 bg-white pb-2",children:[e.jsx("h3",{className:"font-semibold text-sm",children:"itens"}),e.jsx(I,{className:"w-4 h-4 text-gray-400"})]}),y?ie.length===0?e.jsx("p",{className:"text-xs text-gray-400 text-center py-8",children:"Nenhum item nesta categoria"}):e.jsx(U,{droppableId:"dishes",type:"dish",children:v=>e.jsxs("div",{...v.droppableProps,ref:v.innerRef,className:"space-y-2",children:[ie.map((u,T)=>e.jsx(V,{draggableId:u.id,index:T,children:(w,d)=>e.jsx("div",{ref:w.innerRef,...w.draggableProps,...w.dragHandleProps,onClick:()=>{j(u.id),E(null)},className:`p-3 rounded-lg border cursor-pointer transition-all ${d.isDragging?"shadow-lg":""} ${N===u.id?"bg-orange-50 border-orange-300":"bg-white hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),e.jsxs("span",{className:"text-sm truncate",children:[u.name," ",u.portion&&`(${u.portion})`]})]})})},u.id)),v.placeholder]})}):e.jsx("p",{className:"text-xs text-gray-400 text-center py-8",children:"Selecione uma categoria"})]}),e.jsxs("div",{className:"border-r pr-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 sticky top-0 bg-white pb-2",children:[e.jsx("h3",{className:"font-semibold text-sm",children:"Grupos de complementos"}),e.jsx(I,{className:"w-4 h-4 text-gray-400"})]}),N?_.length===0?e.jsx("p",{className:"text-xs text-gray-400 text-center py-8",children:"Nenhum grupo neste prato"}):e.jsx(U,{droppableId:"dish_groups",type:"dish_groups",children:v=>e.jsxs("div",{...v.droppableProps,ref:v.innerRef,className:"space-y-2",children:[_.map((u,T)=>{const d=(a||[]).find(C=>String(C.id)===String(u.group_id))?.name||u.group_id;return e.jsx(V,{draggableId:String(u.group_id),index:T,children:(C,D)=>e.jsx("div",{ref:C.innerRef,...C.draggableProps,...C.dragHandleProps,onClick:()=>E(u.group_id),className:`p-3 rounded-lg border cursor-pointer transition-all ${D.isDragging?"shadow-lg":""} ${f===u.group_id?"bg-orange-50 border-orange-300":"bg-white hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),e.jsx("span",{className:"text-sm truncate",children:d})]})})},u.group_id)}),v.placeholder]})}):e.jsx("p",{className:"text-xs text-gray-400 text-center py-8",children:"Selecione um prato"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 sticky top-0 bg-white pb-2",children:[e.jsx("h3",{className:"font-semibold text-sm",children:"Complementos"}),e.jsx(I,{className:"w-4 h-4 text-gray-400"})]}),f?ce.length===0?e.jsx("p",{className:"text-xs text-gray-400 text-center py-8",children:"Nenhum complemento"}):e.jsx(U,{droppableId:`options-${f}`,type:`option-${f}`,children:v=>e.jsxs("div",{...v.droppableProps,ref:v.innerRef,className:"space-y-2",children:[ce.map((u,T)=>e.jsx(V,{draggableId:`${f}-${u.id}`,index:T,children:(w,d)=>e.jsx("div",{ref:w.innerRef,...w.draggableProps,...w.dragHandleProps,className:`p-3 rounded-lg border bg-white transition-all ${d.isDragging?"shadow-lg":"hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),e.jsx("span",{className:"text-sm truncate",children:u.name})]})})},u.id)),v.placeholder]})}):e.jsx("p",{className:"text-xs text-gray-400 text-center py-8",children:"Selecione um grupo"})]})]})}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[e.jsx(z,{variant:"outline",onClick:o,className:"flex-1",children:"Cancelar"}),e.jsx(z,{onClick:H,className:"flex-1 bg-orange-500 hover:bg-orange-600",children:"Salvar"})]})]})})}function cr({icon:t,title:o,description:r,action:s,actionLabel:a,className:i,iconSize:l="w-16 h-16"}){return e.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:A("flex flex-col items-center justify-center py-12 px-4 text-center",i),children:[t&&e.jsx(q.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.1,type:"spring",stiffness:200},className:A("mb-4 p-4 rounded-full bg-gradient-to-br","from-gray-100 to-gray-200 dark:from-slate-800 dark:to-slate-700"),children:e.jsx(t,{className:A(l,"text-gray-400 dark:text-slate-400")})}),o&&e.jsx(q.h3,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-lg font-semibold dark:text-slate-100 text-gray-900 mb-2",children:o}),r&&e.jsx(q.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-sm dark:text-slate-400 text-gray-500 mb-6 max-w-md",children:r}),s&&a&&e.jsx(q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},children:e.jsx(z,{onClick:s,className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-200",children:a})})]})}export{At as C,Kt as E,Zt as F,I as G,Jt as I,Qt as L,Lt as M,tr as P,ir as R,or as T,rr as U,at as a,er as b,nr as c,sr as d,ar as e,Pt as f,Yt as g,cr as h};
