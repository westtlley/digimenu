import{t as Od,r as be}from"./main-5wCJ0shd.js";const Va=Object.prototype.toString;function ht(e){switch(Va.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return je(e,Error)}}function on(e,t){return Va.call(e)===`[object ${t}]`}function ai(e){return on(e,"ErrorEvent")}function Zi(e){return on(e,"DOMError")}function Nd(e){return on(e,"DOMException")}function De(e){return on(e,"String")}function ci(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function ui(e){return e===null||ci(e)||typeof e!="object"&&typeof e!="function"}function bt(e){return on(e,"Object")}function Lr(e){return typeof Event<"u"&&je(e,Event)}function Dd(e){return typeof Element<"u"&&je(e,Element)}function Ld(e){return on(e,"RegExp")}function Nn(e){return!!(e&&e.then&&typeof e.then=="function")}function Pd(e){return bt(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function Ka(e){return typeof e=="number"&&e!==e}function je(e,t){try{return e instanceof t}catch{return!1}}function Xa(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function zt(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function ls(e,t){let n=e;const r=n.length;if(r<=150)return n;t>r&&(t=r);let s=Math.max(t-60,0);s<5&&(s=0);let i=Math.min(s+140,r);return i>r-5&&(i=r),i===r&&(s=Math.max(i-140,0)),n=n.slice(s,i),s>0&&(n=`'{snip} ${n}`),i<r&&(n+=" {snip}"),n}function mr(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const s=e[r];try{Xa(s)?n.push("[VueViewModel]"):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function $d(e,t,n=!1){return De(e)?Ld(t)?t.test(e):De(t)?n?e===t:e.includes(t):!1:!1}function an(e,t=[],n=!1){return t.some(r=>$d(e,r,n))}function Ja(e,t,n=250,r,s,i,o){if(!i.exception||!i.exception.values||!o||!je(o.originalException,Error))return;const a=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;a&&(i.exception.values=Fd(xs(e,t,s,o.originalException,r,i.exception.values,a,0),n))}function xs(e,t,n,r,s,i,o,a){if(i.length>=n+1)return i;let c=[...i];if(je(r[s],Error)){Qi(o,a);const u=e(t,r[s]),l=c.length;eo(u,s,l,a),c=xs(e,t,n,r[s],s,[u,...c],u,l)}return Array.isArray(r.errors)&&r.errors.forEach((u,l)=>{if(je(u,Error)){Qi(o,a);const d=e(t,u),f=c.length;eo(d,`errors[${l}]`,f,a),c=xs(e,t,n,u,s,[d,...c],d,f)}}),c}function Qi(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function eo(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function Fd(e,t){return e.map(n=>(n.value&&(n.value=zt(n.value,t)),n))}function Kn(e){return e&&e.Math==Math?e:void 0}const M=typeof globalThis=="object"&&Kn(globalThis)||typeof window=="object"&&Kn(window)||typeof self=="object"&&Kn(self)||typeof global=="object"&&Kn(global)||(function(){return this})()||{};function li(){return M}function Za(e,t,n){const r=n||M,s=r.__SENTRY__=r.__SENTRY__||{};return s[e]||(s[e]=t())}const Gt=li(),Bd=80;function tt(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let i=0,o=0;const a=" > ",c=a.length;let u;const l=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||Bd;for(;n&&i++<r&&(u=Hd(n,l),!(u==="html"||i>1&&o+s.length*c+u.length>=d));)s.push(u),o+=u.length,n=n.parentNode;return s.reverse().join(a)}catch{return"<unknown>"}}function Hd(e,t){const n=e,r=[];let s,i,o,a,c;if(!n||!n.tagName)return"";if(Gt.HTMLElement&&n instanceof HTMLElement&&n.dataset&&n.dataset.sentryComponent)return n.dataset.sentryComponent;r.push(n.tagName.toLowerCase());const u=t&&t.length?t.filter(d=>n.getAttribute(d)).map(d=>[d,n.getAttribute(d)]):null;if(u&&u.length)u.forEach(d=>{r.push(`[${d[0]}="${d[1]}"]`)});else if(n.id&&r.push(`#${n.id}`),s=n.className,s&&De(s))for(i=s.split(/\s+/),c=0;c<i.length;c++)r.push(`.${i[c]}`);const l=["aria-label","type","name","title","alt"];for(c=0;c<l.length;c++)o=l[c],a=n.getAttribute(o),a&&r.push(`[${o}="${a}"]`);return r.join("")}function Qa(){try{return Gt.document.location.href}catch{return""}}function ec(e){return Gt.document&&Gt.document.querySelector?Gt.document.querySelector(e):null}function tc(e){if(!Gt.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}const cn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Ud="Sentry Logger ",gr=["debug","info","warn","error","log","assert","trace"],_r={};function nt(e){if(!("console"in M))return e();const t=M.console,n={},r=Object.keys(_r);r.forEach(s=>{const i=_r[s];n[s]=t[s],t[s]=i});try{return e()}finally{r.forEach(s=>{t[s]=n[s]})}}function jd(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return cn?gr.forEach(n=>{t[n]=(...r)=>{e&&nt(()=>{M.console[n](`${Ud}[${n}]:`,...r)})}}):gr.forEach(n=>{t[n]=()=>{}}),t}const m=jd(),Wd=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function zd(e){return e==="http"||e==="https"}function wt(e,t=!1){const{host:n,path:r,pass:s,port:i,projectId:o,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${o}`}function nc(e){const t=Wd.exec(e);if(!t){nt(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,s="",i,o="",a]=t.slice(1);let c="",u=a;const l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){const d=u.match(/^\d+/);d&&(u=d[0])}return rc({host:i,pass:s,path:c,projectId:u,port:o,protocol:n,publicKey:r})}function rc(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Gd(e){if(!cn)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(m.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?zd(r)?t&&isNaN(parseInt(t,10))?(m.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(m.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(m.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function sc(e){const t=typeof e=="string"?nc(e):rc(e);if(!(!t||!Gd(t)))return t}class Oe extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}function ce(e,t,n){if(!(t in e))return;const r=e[t],s=n(r);typeof s=="function"&&ic(s,r),e[t]=s}function We(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{cn&&m.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function ic(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,We(e,"__sentry_original__",t)}catch{}}function di(e){return e.__sentry_original__}function qd(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function oc(e){if(ht(e))return{message:e.message,name:e.name,stack:e.stack,...no(e)};if(Lr(e)){const t={type:e.type,target:to(e.target),currentTarget:to(e.currentTarget),...no(e)};return typeof CustomEvent<"u"&&je(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function to(e){try{return Dd(e)?tt(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function no(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function Yd(e,t=40){const n=Object.keys(oc(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return zt(n[0],t);for(let r=n.length;r>0;r--){const s=n.slice(0,r).join(", ");if(!(s.length>t))return r===n.length?s:zt(s,t)}return""}function ue(e){return As(e,new Map)}function As(e,t){if(Vd(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const s of Object.keys(e))typeof e[s]<"u"&&(r[s]=As(e[s],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(s=>{r.push(As(s,t))}),r}return e}function Vd(e){if(!bt(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}const ac=50,ro=/\(error: (.*)\)/,so=/captureMessage|captureException/;function cc(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0)=>{const s=[],i=n.split(`
`);for(let o=r;o<i.length;o++){const a=i[o];if(a.length>1024)continue;const c=ro.test(a)?a.replace(ro,"$1"):a;if(!c.match(/\S*Error: /)){for(const u of t){const l=u(c);if(l){s.push(l);break}}if(s.length>=ac)break}}return Xd(s)}}function Kd(e){return Array.isArray(e)?cc(...e):e}function Xd(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop(),t.reverse(),so.test(t[t.length-1].function||"")&&(t.pop(),so.test(t[t.length-1].function||"")&&t.pop()),t.slice(0,ac).map(n=>({...n,filename:n.filename||t[t.length-1].filename,function:n.function||"?"}))}const ds="<anonymous>";function ze(e){try{return!e||typeof e!="function"?ds:e.name||ds}catch{return ds}}const lr={},io={};function kt(e,t){lr[e]=lr[e]||[],lr[e].push(t)}function Rt(e,t){io[e]||(t(),io[e]=!0)}function Ce(e,t){const n=e&&lr[e];if(n)for(const r of n)try{r(t)}catch(s){cn&&m.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${ze(r)}
Error:`,s)}}function uc(e){const t="console";kt(t,e),Rt(t,Jd)}function Jd(){"console"in M&&gr.forEach(function(e){e in M.console&&ce(M.console,e,function(t){return _r[e]=t,function(...n){Ce("console",{args:n,level:e});const s=_r[e];s&&s.apply(M.console,n)}})})}function z(){const e=M,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function lc(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Ze(e){const{message:t,event_id:n}=e;if(t)return t;const r=lc(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Ms(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function Et(e,t){const n=lc(e);if(!n)return;const r={type:"generic",handled:!0},s=n.mechanism;if(n.mechanism={...r,...s,...t},t&&"data"in t){const i={...s&&s.data,...t.data};n.mechanism.data=i}}function Zd(e,t,n=5){if(t.lineno===void 0)return;const r=e.length,s=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,s-n),s).map(i=>ls(i,0)),t.context_line=ls(e[Math.min(r-1,s)],t.colno||0),t.post_context=e.slice(Math.min(s+1,r),s+1+n).map(i=>ls(i,0))}function oo(e){if(e&&e.__sentry_captured__)return!0;try{We(e,"__sentry_captured__",!0)}catch{}return!1}function dc(e){return Array.isArray(e)?e:[e]}const Dt=M,Qd=1e3;let ao,Os,Ns;function fc(e){kt("dom",e),Rt("dom",ef)}function ef(){if(!Dt.document)return;const e=Ce.bind(null,"dom"),t=co(e,!0);Dt.document.addEventListener("click",t,!1),Dt.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=Dt[n]&&Dt[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(ce(r,"addEventListener",function(s){return function(i,o,a){if(i==="click"||i=="keypress")try{const c=this,u=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},l=u[i]=u[i]||{refCount:0};if(!l.handler){const d=co(e);l.handler=d,s.call(this,i,d,a)}l.refCount++}catch{}return s.call(this,i,o,a)}}),ce(r,"removeEventListener",function(s){return function(i,o,a){if(i==="click"||i=="keypress")try{const c=this,u=c.__sentry_instrumentation_handlers__||{},l=u[i];l&&(l.refCount--,l.refCount<=0&&(s.call(this,i,l.handler,a),l.handler=void 0,delete u[i]),Object.keys(u).length===0&&delete c.__sentry_instrumentation_handlers__)}catch{}return s.call(this,i,o,a)}}))})}function tf(e){if(e.type!==Os)return!1;try{if(!e.target||e.target._sentryId!==Ns)return!1}catch{}return!0}function nf(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function co(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=rf(n);if(nf(n.type,r))return;We(n,"_sentryCaptured",!0),r&&!r._sentryId&&We(r,"_sentryId",z());const s=n.type==="keypress"?"input":n.type;tf(n)||(e({event:n,name:s,global:t}),Os=n.type,Ns=r?r._sentryId:void 0),clearTimeout(ao),ao=Dt.setTimeout(()=>{Ns=void 0,Os=void 0},Qd)}}function rf(e){try{return e.target}catch{return null}}const yr=li();function pc(){if(!("fetch"in yr))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function Ds(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function hc(){if(typeof EdgeRuntime=="string")return!0;if(!pc())return!1;if(Ds(yr.fetch))return!0;let e=!1;const t=yr.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Ds(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){cn&&m.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function sf(){return"ReportingObserver"in yr}function Pr(e){const t="fetch";kt(t,e),Rt(t,of)}function of(){hc()&&ce(M,"fetch",function(e){return function(...t){const{method:n,url:r}=af(t),s={args:t,fetchData:{method:n,url:r},startTimestamp:Date.now()};return Ce("fetch",{...s}),e.apply(M,t).then(i=>{const o={...s,endTimestamp:Date.now(),response:i};return Ce("fetch",o),i},i=>{const o={...s,endTimestamp:Date.now(),error:i};throw Ce("fetch",o),i})}})}function Ls(e,t){return!!e&&typeof e=="object"&&!!e[t]}function uo(e){return typeof e=="string"?e:e?Ls(e,"url")?e.url:e.toString?e.toString():"":""}function af(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:uo(n),method:Ls(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:uo(t),method:Ls(t,"method")?String(t.method).toUpperCase():"GET"}}let Xn=null;function mc(e){const t="error";kt(t,e),Rt(t,cf)}function cf(){Xn=M.onerror,M.onerror=function(e,t,n,r,s){return Ce("error",{column:r,error:s,line:n,msg:e,url:t}),Xn&&!Xn.__SENTRY_LOADER__?Xn.apply(this,arguments):!1},M.onerror.__SENTRY_INSTRUMENTED__=!0}let Jn=null;function gc(e){const t="unhandledrejection";kt(t,e),Rt(t,uf)}function uf(){Jn=M.onunhandledrejection,M.onunhandledrejection=function(e){return Ce("unhandledrejection",e),Jn&&!Jn.__SENTRY_LOADER__?Jn.apply(this,arguments):!0},M.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const Zn=li();function lf(){const e=Zn.chrome,t=e&&e.app&&e.app.runtime,n="history"in Zn&&!!Zn.history.pushState&&!!Zn.history.replaceState;return!t&&n}const gn=M;let Qn;function Dn(e){const t="history";kt(t,e),Rt(t,df)}function df(){if(!lf())return;const e=gn.onpopstate;gn.onpopstate=function(...n){const r=gn.location.href,s=Qn;if(Qn=r,Ce("history",{from:s,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const s=r.length>2?r[2]:void 0;if(s){const i=Qn,o=String(s);Qn=o,Ce("history",{from:i,to:o})}return n.apply(this,r)}}ce(gn.history,"pushState",t),ce(gn.history,"replaceState",t)}const ff=M,He="__sentry_xhr_v3__";function $r(e){kt("xhr",e),Rt("xhr",pf)}function pf(){if(!ff.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;ce(e,"open",function(t){return function(...n){const r=Date.now(),s=De(n[0])?n[0].toUpperCase():void 0,i=hf(n[1]);if(!s||!i)return t.apply(this,n);this[He]={method:s,url:i,request_headers:{}},s==="POST"&&i.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const o=()=>{const a=this[He];if(a&&this.readyState===4){try{a.status_code=this.status}catch{}const c={args:[s,i],endTimestamp:Date.now(),startTimestamp:r,xhr:this};Ce("xhr",c)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?ce(this,"onreadystatechange",function(a){return function(...c){return o(),a.apply(this,c)}}):this.addEventListener("readystatechange",o),ce(this,"setRequestHeader",function(a){return function(...c){const[u,l]=c,d=this[He];return d&&De(u)&&De(l)&&(d.request_headers[u.toLowerCase()]=l),a.apply(this,c)}}),t.apply(this,n)}}),ce(e,"send",function(t){return function(...n){const r=this[He];if(!r)return t.apply(this,n);n[0]!==void 0&&(r.body=n[0]);const s={args:[r.method,r.url],startTimestamp:Date.now(),xhr:this};return Ce("xhr",s),t.apply(this,n)}})}function hf(e){if(De(e))return e;try{return e.toString()}catch{}}function mf(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function gf(){return"npm"}function _f(){return!mf()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Ps(){return typeof window<"u"&&(!_f()||yf())}function yf(){return M.process!==void 0&&M.process.type==="renderer"}function Sf(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(s){if(e)return t.has(s)?!0:(t.add(s),!1);for(let i=0;i<t.length;i++)if(t[i]===s)return!0;return t.push(s),!1}function r(s){if(e)t.delete(s);else for(let i=0;i<t.length;i++)if(t[i]===s){t.splice(i,1);break}}return[n,r]}function we(e,t=100,n=1/0){try{return $s("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function _c(e,t=3,n=100*1024){const r=we(e,t);return Tf(r)>n?_c(e,t-1,n):r}function $s(e,t,n=1/0,r=1/0,s=Sf()){const[i,o]=s;if(t==null||["number","boolean","string"].includes(typeof t)&&!Ka(t))return t;const a=bf(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(i(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const p=u.toJSON();return $s("",p,c-1,r,s)}catch{}const l=Array.isArray(t)?[]:{};let d=0;const f=oc(t);for(const p in f){if(!Object.prototype.hasOwnProperty.call(f,p))continue;if(d>=r){l[p]="[MaxProperties ~]";break}const h=f[p];l[p]=$s(p,h,c-1,r,s),d++}return o(t),l}function bf(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(Xa(t))return"[VueViewModel]";if(Pd(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${ze(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=Ef(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function Ef(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function vf(e){return~-encodeURI(e).split(/%..|./).length}function Tf(e){return vf(JSON.stringify(e))}function If(e,t){let n=0;for(let r=e.length-1;r>=0;r--){const s=e[r];s==="."?e.splice(r,1):s===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}const wf=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function kf(e){const t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=wf.exec(t);return n?n.slice(1):[]}function lo(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){const s=r>=0?e[r]:"/";s&&(t=`${s}/${t}`,n=s.charAt(0)==="/")}return t=If(t.split("/").filter(r=>!!r),!n).join("/"),(n?"/":"")+t||"."}function fo(e){let t=0;for(;t<e.length&&e[t]==="";t++);let n=e.length-1;for(;n>=0&&e[n]==="";n--);return t>n?[]:e.slice(t,n-t+1)}function Rf(e,t){e=lo(e).slice(1),t=lo(t).slice(1);const n=fo(e.split("/")),r=fo(t.split("/")),s=Math.min(n.length,r.length);let i=s;for(let a=0;a<s;a++)if(n[a]!==r[a]){i=a;break}let o=[];for(let a=i;a<n.length;a++)o.push("..");return o=o.concat(r.slice(i)),o.join("/")}function Cf(e,t){return kf(e)[2]}var Fe;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(Fe||(Fe={}));function Vt(e){return new _e(t=>{t(e)})}function fi(e){return new _e((t,n)=>{n(e)})}class _e{constructor(t){_e.prototype.__init.call(this),_e.prototype.__init2.call(this),_e.prototype.__init3.call(this),_e.prototype.__init4.call(this),this._state=Fe.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new _e((r,s)=>{this._handlers.push([!1,i=>{if(!t)r(i);else try{r(t(i))}catch(o){s(o)}},i=>{if(!n)s(i);else try{r(n(i))}catch(o){s(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new _e((n,r)=>{let s,i;return this.then(o=>{i=!1,s=o,t&&t()},o=>{i=!0,s=o,t&&t()}).then(()=>{if(i){r(s);return}n(s)})})}__init(){this._resolve=t=>{this._setResult(Fe.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(Fe.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===Fe.PENDING){if(Nn(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Fe.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Fe.RESOLVED&&n[1](this._value),this._state===Fe.REJECTED&&n[2](this._value),n[0]=!0)})}}}function xf(e){const t=[];function n(){return e===void 0||t.length<e}function r(o){return t.splice(t.indexOf(o),1)[0]}function s(o){if(!n())return fi(new Oe("Not adding Promise because buffer limit was reached."));const a=o();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function i(o){return new _e((a,c)=>{let u=t.length;if(!u)return a(!0);const l=setTimeout(()=>{o&&o>0&&a(!1)},o);t.forEach(d=>{Vt(d).then(()=>{--u||(clearTimeout(l),a(!0))},c)})})}return{$:t,add:s,drain:i}}function mt(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function Af(e){return e.split(/[\?#]/,1)[0]}function po(e){return e.split(/\\?\//).filter(t=>t.length>0&&t!==",").length}const Mf=["fatal","error","warning","log","info","debug"];function yc(e){return e==="warn"?"warning":Mf.includes(e)?e:"log"}const Sc=1e3;function Ln(){return Date.now()/Sc}function Of(){const{performance:e}=M;if(!e||!e.now)return Ln;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/Sc}const Le=Of(),de=(()=>{const{performance:e}=M;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=s<t,o=e.timing&&e.timing.navigationStart,c=typeof o=="number"?Math.abs(o+n-r):t,u=c<t;return i||u?s<=c?e.timeOrigin:o:r})(),Fs="baggage",bc="sentry-",Nf=/^sentry-/,Df=8192;function Ec(e){if(!De(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce((r,s)=>{const i=ho(s);for(const o of Object.keys(i))r[o]=i[o];return r},{});else{if(!e)return;t=ho(e)}const n=Object.entries(t).reduce((r,[s,i])=>{if(s.match(Nf)){const o=s.slice(bc.length);r[o]=i}return r},{});if(Object.keys(n).length>0)return n}function vc(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,s])=>(s&&(n[`${bc}${r}`]=s),n),{});return Lf(t)}function ho(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(t[n]=r,t),{})}function Lf(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],s)=>{const i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=s===0?i:`${t},${i}`;return o.length>Df?(cn&&m.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):o},"")}const Pf=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function pi(e){if(!e)return;const t=e.match(Pf);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function $f(e,t){const n=pi(e),r=Ec(t),{traceId:s,parentSpanId:i,parentSampled:o}=n||{};return n?{traceparentData:n,dynamicSamplingContext:r||{},propagationContext:{traceId:s||z(),parentSpanId:i||z().substring(16),spanId:z().substring(16),sampled:o,dsc:r||{}}}:{traceparentData:n,dynamicSamplingContext:void 0,propagationContext:{traceId:s||z(),spanId:z().substring(16)}}}function Tc(e,t){const n=pi(e),r=Ec(t),{traceId:s,parentSpanId:i,parentSampled:o}=n||{};return n?{traceId:s||z(),parentSpanId:i||z().substring(16),spanId:z().substring(16),sampled:o,dsc:r||{}}:{traceId:s||z(),spanId:z().substring(16)}}function hi(e=z(),t=z().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function qe(e,t=[]){return[e,t]}function Ff(e,t){const[n,r]=e;return[n,[...r,t]]}function Kt(e,t){const n=e[1];for(const r of n){const s=r[0].type;if(t(r,s))return!0}return!1}function Bf(e,t){return Kt(e,(n,r)=>t.includes(r))}function Bs(e,t){return(t||new TextEncoder).encode(e)}function Ic(e,t){const[n,r]=e;let s=JSON.stringify(n);function i(o){typeof s=="string"?s=typeof o=="string"?s+o:[Bs(s,t),o]:s.push(typeof o=="string"?Bs(o,t):o)}for(const o of r){const[a,c]=o;if(i(`
${JSON.stringify(a)}
`),typeof c=="string"||c instanceof Uint8Array)i(c);else{let u;try{u=JSON.stringify(c)}catch{u=JSON.stringify(we(c))}i(u)}}return typeof s=="string"?s:Hf(s)}function Hf(e){const t=e.reduce((s,i)=>s+i.length,0),n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function Uf(e,t,n){let r=typeof e=="string"?t.encode(e):e;function s(c){const u=r.subarray(0,c);return r=r.subarray(c+1),u}function i(){let c=r.indexOf(10);return c<0&&(c=r.length),JSON.parse(n.decode(s(c)))}const o=i(),a=[];for(;r.length;){const c=i(),u=typeof c.length=="number"?c.length:void 0;a.push([c,u?s(u):i()])}return[o,a]}function jf(e,t){const n=typeof e.data=="string"?Bs(e.data,t):e.data;return[ue({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const Wf={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function mo(e){return Wf[e]}function mi(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function wc(e,t,n,r){const s=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:wt(r)},...s&&{trace:ue({...s})}}}function zf(e,t,n){const r=[{type:"client_report"},{timestamp:Ln(),discarded_events:e}];return qe(t?{dsn:t}:{},[r])}const Gf=60*1e3;function kc(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?Gf:r-t}function qf(e,t){return e[t]||e.all||0}function Rc(e,t,n=Date.now()){return qf(e,t)>n}function Cc(e,{statusCode:t,headers:n},r=Date.now()){const s={...e},i=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(i)for(const a of i.trim().split(",")){const[c,u,,,l]=a.split(":",5),d=parseInt(c,10),f=(isNaN(d)?60:d)*1e3;if(!u)s.all=r+f;else for(const p of u.split(";"))p==="metric_bucket"?(!l||l.split(";").includes("custom"))&&(s[p]=r+f):s[p]=r+f}else o?s.all=r+kc(o,r):t===429&&(s.all=r+60*1e3);return s}function Yf(e,t){return e(t.stack||"",1)}function Vf(e,t){const n={type:t.name||t.constructor.name,value:t.message},r=Yf(e,t);return r.length&&(n.stacktrace={frames:r}),n}function Kf(e,t){return e??t()}function dr(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(t,...o)),t=void 0)}return n}const I=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Pn="production";function gi(){return Za("globalEventProcessors",()=>[])}function Xf(e){gi().push(e)}function Sr(e,t,n,r=0){return new _e((s,i)=>{const o=e[r];if(t===null||typeof o!="function")s(t);else{const a=o({...t},n);I&&o.id&&a===null&&m.log(`Event processor "${o.id}" dropped event`),Nn(a)?a.then(c=>Sr(e,c,n,r+1).then(s)).then(null,i):Sr(e,a,n,r+1).then(s).then(null,i)}})}function xc(e){const t=Le(),n={sid:z(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Jf(n)};return e&&vt(n,e),n}function vt(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Le(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:z()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Ac(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),vt(e,n)}function Jf(e){return ue({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}const Zf=0,Mc=1;function _i(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:s,parent_span_id:i,status:o,tags:a,origin:c}=H(e);return ue({data:r,op:s,parent_span_id:i,span_id:t,status:o,tags:a,trace_id:n,origin:c})}function Fr(e){const{traceId:t,spanId:n}=e.spanContext(),r=yi(e);return hi(t,n,r)}function Br(e){return typeof e=="number"?go(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?go(e.getTime()):Le()}function go(e){return e>9999999999?e/1e3:e}function H(e){return Qf(e)?e.getSpanJSON():typeof e.toJSON=="function"?e.toJSON():{}}function Qf(e){return typeof e.getSpanJSON=="function"}function yi(e){const{traceFlags:t}=e.spanContext();return!!(t&Mc)}function Si(e,t,n,r,s,i){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||z(),timestamp:t.timestamp||Ln()},u=n.integrations||e.integrations.map(b=>b.name);ep(c,e),rp(c,u),t.type===void 0&&tp(c,e.stackParser);const l=ip(r,n.captureContext);n.mechanism&&Et(c,n.mechanism);const d=s&&s.getEventProcessors?s.getEventProcessors():[],f=Lc().getScopeData();if(i){const b=i.getScopeData();Eo(f,b)}if(l){const b=l.getScopeData();Eo(f,b)}const p=[...n.attachments||[],...f.attachments];p.length&&(n.attachments=p),Dc(c,f);const h=[...d,...gi(),...f.eventProcessors];return Sr(h,c,n).then(b=>(b&&np(b),typeof o=="number"&&o>0?sp(b,o,a):b))}function ep(e,t){const{environment:n,release:r,dist:s,maxValueLength:i=250}=t;"environment"in e||(e.environment="environment"in t?n:Pn),e.release===void 0&&r!==void 0&&(e.release=r),e.dist===void 0&&s!==void 0&&(e.dist=s),e.message&&(e.message=zt(e.message,i));const o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=zt(o.value,i));const a=e.request;a&&a.url&&(a.url=zt(a.url,i))}const _o=new WeakMap;function tp(e,t){const n=M._sentryDebugIds;if(!n)return;let r;const s=_o.get(t);s?r=s:(r=new Map,_o.set(t,r));const i=Object.keys(n).reduce((o,a)=>{let c;const u=r.get(a);u?c=u:(c=t(a),r.set(a,c));for(let l=c.length-1;l>=0;l--){const d=c[l];if(d.filename){o[d.filename]=n[a];break}}return o},{});try{e.exception.values.forEach(o=>{o.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=i[a.filename])})})}catch{}}function np(e){const t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(s=>{s.debug_id&&(s.abs_path?t[s.abs_path]=s.debug_id:s.filename&&(t[s.filename]=s.debug_id),delete s.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.keys(t).forEach(r=>{n.push({type:"sourcemap",code_file:r,debug_id:t[r]})})}function rp(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function sp(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(s=>({...s,...s.data&&{data:we(s.data,t,n)}}))},...e.user&&{user:we(e.user,t,n)},...e.contexts&&{contexts:we(e.contexts,t,n)},...e.extra&&{extra:we(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=we(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(s=>{const i=H(s).data;return i&&(s.data=we(i,t,n)),s})),r}function ip(e,t){if(!t)return e;const n=e?e.clone():new Ue;return n.update(t),n}function op(e){if(e)return ap(e)?{captureContext:e}:up(e)?{captureContext:e}:e}function ap(e){return e instanceof Ue||typeof e=="function"}const cp=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function up(e){return Object.keys(e).some(t=>cp.includes(t))}function $n(e,t){return G().captureException(e,op(t))}function Hs(e,t){const n=typeof t=="string"?t:void 0,r=typeof t!="string"?{captureContext:t}:void 0;return G().captureMessage(e,n,r)}function Hr(e,t){return G().captureEvent(e,t)}function vT(e){G().configureScope(e)}function rt(e,t){G().addBreadcrumb(e,t)}function lp(e,t){G().setContext(e,t)}function TT(e){G().setExtras(e)}function IT(e,t){G().setExtra(e,t)}function wT(e){G().setTags(e)}function kT(e,t){G().setTag(e,t)}function RT(e){G().setUser(e)}function it(...e){const t=G();if(e.length===2){const[n,r]=e;return n?t.withScope(()=>(t.getStackTop().scope=n,r(n))):t.withScope(r)}return t.withScope(e[0])}function CT(e){return jr(()=>e(Pe()))}function yo(e,t){return it(n=>(n.setSpan(e),t(n)))}function xT(e,t){return G().startTransaction({...e},t)}async function AT(e){const t=x();return t?t.flush(e):(I&&m.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function MT(e){const t=x();return t?t.close(e):(I&&m.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function OT(){return G().lastEventId()}function x(){return G().getClient()}function NT(){return!!x()}function se(){return G().getScope()}function So(e){const t=x(),n=Pe(),r=se(),{release:s,environment:i=Pn}=t&&t.getOptions()||{},{userAgent:o}=M.navigator||{},a=xc({release:s,environment:i,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...e}),c=n.getSession();return c&&c.status==="ok"&&vt(c,{status:"exited"}),Oc(),n.setSession(a),r.setSession(a),a}function Oc(){const e=Pe(),t=se(),n=t.getSession()||e.getSession();n&&Ac(n),Nc(),e.setSession(),t.setSession()}function Nc(){const e=Pe(),t=se(),n=x(),r=t.getSession()||e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}function bo(e=!1){if(e){Oc();return}Nc()}function Xt(e){return e.transaction}function Ur(e,t,n){const r=t.getOptions(),{publicKey:s}=t.getDsn()||{},{segment:i}=n&&n.getUser()||{},o=ue({environment:r.environment||Pn,release:r.release,user_segment:i,public_key:s,trace_id:e});return t.emit&&t.emit("createDsc",o),o}function Jt(e){const t=x();if(!t)return{};const n=Ur(H(e).trace_id||"",t,se()),r=Xt(e);if(!r)return n;const s=r&&r._frozenDynamicSamplingContext;if(s)return s;const{sampleRate:i,source:o}=r.metadata;i!=null&&(n.sample_rate=`${i}`);const a=H(r);return o&&o!=="url"&&(n.transaction=a.description),n.sampled=String(yi(r)),t.emit&&t.emit("createDsc",n),n}function Dc(e,t){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=t;dp(e,t),r&&hp(e,r),mp(e,n),fp(e,s),pp(e,i)}function Eo(e,t){const{extra:n,tags:r,user:s,contexts:i,level:o,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:l,attachments:d,propagationContext:f,transactionName:p,span:h}=t;_n(e,"extra",n),_n(e,"tags",r),_n(e,"user",s),_n(e,"contexts",i),_n(e,"sdkProcessingMetadata",a),o&&(e.level=o),p&&(e.transactionName=p),h&&(e.span=h),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),l.length&&(e.eventProcessors=[...e.eventProcessors,...l]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...f}}function _n(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}function dp(e,t){const{extra:n,tags:r,user:s,contexts:i,level:o,transactionName:a}=t,c=ue(n);c&&Object.keys(c).length&&(e.extra={...c,...e.extra});const u=ue(r);u&&Object.keys(u).length&&(e.tags={...u,...e.tags});const l=ue(s);l&&Object.keys(l).length&&(e.user={...l,...e.user});const d=ue(i);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts}),o&&(e.level=o),a&&(e.transaction=a)}function fp(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function pp(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function hp(e,t){e.contexts={trace:_i(t),...e.contexts};const n=Xt(t);if(n){e.sdkProcessingMetadata={dynamicSamplingContext:Jt(t),...e.sdkProcessingMetadata};const r=H(n).description;r&&(e.tags={transaction:r,...e.tags})}}function mp(e,t){e.fingerprint=e.fingerprint?dc(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}const gp=100;let fs;class Ue{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=vo()}static clone(t){return t?t.clone():new Ue}clone(){const t=new Ue;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._span=this._span,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t}setClient(t){this._client=t}getClient(){return this._client}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&vt(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const t=this._span;return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t;if(n instanceof Ue){const r=n.getScopeData();this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&Object.keys(r.user).length&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint.length&&(this._fingerprint=r.fingerprint),n.getRequestSession()&&(this._requestSession=n.getRequestSession()),r.propagationContext&&(this._propagationContext=r.propagationContext)}else if(bt(n)){const r=t;this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint&&(this._fingerprint=r.fingerprint),r.requestSession&&(this._requestSession=r.requestSession),r.propagationContext&&(this._propagationContext=r.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=vo(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:gp;if(r<=0)return this;const s={timestamp:Ln(),...t},i=this._breadcrumbs;return i.push(s),this._breadcrumbs=i.length>r?i.slice(-r):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:t,_attachments:n,_contexts:r,_tags:s,_extra:i,_user:o,_level:a,_fingerprint:c,_eventProcessors:u,_propagationContext:l,_sdkProcessingMetadata:d,_transactionName:f,_span:p}=this;return{breadcrumbs:t,attachments:n,contexts:r,tags:s,extra:i,user:o,level:a,fingerprint:c||[],eventProcessors:u,propagationContext:l,sdkProcessingMetadata:d,transactionName:f,span:p}}applyToEvent(t,n={},r=[]){Dc(t,this.getScopeData());const s=[...r,...gi(),...this._eventProcessors];return Sr(s,t,n)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:z();if(!this._client)return m.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...n,event_id:r},this),r}captureMessage(t,n,r){const s=r&&r.event_id?r.event_id:z();if(!this._client)return m.warn("No client configured on scope - will not capture message!"),s;const i=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:s},this),s}captureEvent(t,n){const r=n&&n.event_id?n.event_id:z();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(m.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function Lc(){return fs||(fs=new Ue),fs}function vo(){return{traceId:z(),spanId:z().substring(16)}}const Us="7.120.4",Pc=parseFloat(Us),_p=100;class $c{constructor(t,n,r,s=Pc){this._version=s;let i;n?i=n:(i=new Ue,i.setClient(t));let o;r?o=r:(o=new Ue,o.setClient(t)),this._stack=[{scope:i}],t&&this.bindClient(t),this._isolationScope=o}isOlderThan(t){return this._version<t}bindClient(t){const n=this.getStackTop();n.client=t,n.scope.setClient(t),t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){const t=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){const n=this.pushScope();let r;try{r=t(n)}catch(s){throw this.popScope(),s}return Nn(r)?r.then(s=>(this.popScope(),s),s=>{throw this.popScope(),s}):(this.popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,n){const r=this._lastEventId=n&&n.event_id?n.event_id:z(),s=new Error("Sentry syntheticException");return this.getScope().captureException(t,{originalException:t,syntheticException:s,...n,event_id:r}),r}captureMessage(t,n,r){const s=this._lastEventId=r&&r.event_id?r.event_id:z(),i=new Error(t);return this.getScope().captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:s}),s}captureEvent(t,n){const r=n&&n.event_id?n.event_id:z();return t.type||(this._lastEventId=r),this.getScope().captureEvent(t,{...n,event_id:r}),r}lastEventId(){return this._lastEventId}addBreadcrumb(t,n){const{scope:r,client:s}=this.getStackTop();if(!s)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=_p}=s.getOptions&&s.getOptions()||{};if(o<=0)return;const c={timestamp:Ln(),...t},u=i?nt(()=>i(c,n)):c;u!==null&&(s.emit&&s.emit("beforeAddBreadcrumb",u,n),r.addBreadcrumb(u,o))}setUser(t){this.getScope().setUser(t),this.getIsolationScope().setUser(t)}setTags(t){this.getScope().setTags(t),this.getIsolationScope().setTags(t)}setExtras(t){this.getScope().setExtras(t),this.getIsolationScope().setExtras(t)}setTag(t,n){this.getScope().setTag(t,n),this.getIsolationScope().setTag(t,n)}setExtra(t,n){this.getScope().setExtra(t,n),this.getIsolationScope().setExtra(t,n)}setContext(t,n){this.getScope().setContext(t,n),this.getIsolationScope().setContext(t,n)}configureScope(t){const{scope:n,client:r}=this.getStackTop();r&&t(n)}run(t){const n=To(this);try{t(this)}finally{To(n)}}getIntegration(t){const n=this.getClient();if(!n)return null;try{return n.getIntegration(t)}catch{return I&&m.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,n){const r=this._callExtensionMethod("startTransaction",t,n);return I&&!r&&(this.getClient()?m.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):m.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),r}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){const n=this.getStackTop().scope,r=n.getSession();r&&Ac(r),this._sendSessionUpdate(),n.setSession()}startSession(t){const{scope:n,client:r}=this.getStackTop(),{release:s,environment:i=Pn}=r&&r.getOptions()||{},{userAgent:o}=M.navigator||{},a=xc({release:s,environment:i,user:n.getUser(),...o&&{userAgent:o},...t}),c=n.getSession&&n.getSession();return c&&c.status==="ok"&&vt(c,{status:"exited"}),this.endSession(),n.setSession(a),a}shouldSendDefaultPii(){const t=this.getClient(),n=t&&t.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){const{scope:t,client:n}=this.getStackTop(),r=t.getSession();r&&n&&n.captureSession&&n.captureSession(r)}_callExtensionMethod(t,...n){const s=un().__SENTRY__;if(s&&s.extensions&&typeof s.extensions[t]=="function")return s.extensions[t].apply(this,n);I&&m.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}function un(){return M.__SENTRY__=M.__SENTRY__||{extensions:{},hub:void 0},M}function To(e){const t=un(),n=js(t);return Fc(t,e),n}function G(){const e=un();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return yp(e)}function Pe(){return G().getIsolationScope()}function yp(e=un()){return(!Sp(e)||js(e).isOlderThan(Pc))&&Fc(e,new $c),js(e)}function jr(e,t={}){const n=un();return n.__SENTRY__&&n.__SENTRY__.acs?n.__SENTRY__.acs.runWithAsyncContext(e,t):e()}function Sp(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function js(e){return Za("hub",()=>new $c,e)}function Fc(e,t){if(!e)return!1;const n=e.__SENTRY__=e.__SENTRY__||{};return n.hub=t,!0}function Ge(e){return(e||G()).getScope().getTransaction()}const DT=pi;let Io=!1;function bp(){Io||(Io=!0,mc(Ws),gc(Ws))}function Ws(){const e=Ge();if(e){const t="internal_error";I&&m.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}Ws.tag="sentry_tracingErrorCallback";var wo;(function(e){e.Ok="ok";const n="deadline_exceeded";e.DeadlineExceeded=n;const r="unauthenticated";e.Unauthenticated=r;const s="permission_denied";e.PermissionDenied=s;const i="not_found";e.NotFound=i;const o="resource_exhausted";e.ResourceExhausted=o;const a="invalid_argument";e.InvalidArgument=a;const c="unimplemented";e.Unimplemented=c;const u="unavailable";e.Unavailable=u;const l="internal_error";e.InternalError=l;const d="unknown_error";e.UnknownError=d;const f="cancelled";e.Cancelled=f;const p="already_exists";e.AlreadyExists=p;const h="failed_precondition";e.FailedPrecondition=h;const _="aborted";e.Aborted=_;const b="out_of_range";e.OutOfRange=b;const g="data_loss";e.DataLoss=g})(wo||(wo={}));function Bc(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}const LT=Bc;function bi(e,t){e.setTag("http.status_code",String(t)),e.setData("http.response.status_code",t);const n=Bc(t);n!=="unknown_error"&&e.setStatus(n)}function Ei(e,t,n=()=>{}){let r;try{r=e()}catch(s){throw t(s),n(),s}return Ep(r,t,n)}function Ep(e,t,n){return Nn(e)?e.then(r=>(n(),r),r=>{throw t(r),n(),r}):(n(),e)}function ln(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=x(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function PT(e,t,n=()=>{},r=()=>{}){const s=G(),i=se(),o=i.getSpan(),a=zr(e),c=Wr(s,{parentSpan:o,spanContext:a,forceTransaction:!1,scope:i});return i.setSpan(c),Ei(()=>t(c),u=>{c&&c.setStatus("internal_error"),n(u,c)},()=>{c&&c.end(),i.setSpan(o),r()})}function $T(e,t){const n=zr(e);return jr(()=>it(e.scope,r=>{const s=G(),i=r.getSpan(),a=e.onlyIfParent&&!i?void 0:Wr(s,{parentSpan:i,spanContext:n,forceTransaction:e.forceTransaction,scope:r});return Ei(()=>t(a),()=>{if(a){const{status:c}=H(a);(!c||c==="ok")&&a.setStatus("internal_error")}},()=>a&&a.end())}))}function FT(e,t){const n=zr(e);return jr(()=>it(e.scope,r=>{const s=G(),i=r.getSpan(),a=e.onlyIfParent&&!i?void 0:Wr(s,{parentSpan:i,spanContext:n,forceTransaction:e.forceTransaction,scope:r});function c(){a&&a.end()}return Ei(()=>t(a,c),()=>{if(a&&a.isRecording()){const{status:u}=H(a);(!u||u==="ok")&&a.setStatus("internal_error")}})}))}function gt(e){if(!ln())return;const t=zr(e),n=G(),r=e.scope?e.scope.getSpan():dn();if(e.onlyIfParent&&!r)return;const o=(e.scope||se()).clone();return Wr(n,{parentSpan:r,spanContext:t,forceTransaction:e.forceTransaction,scope:o})}function dn(){return se().getSpan()}const BT=({sentryTrace:e,baggage:t},n)=>{const r=se(),{traceparentData:s,dynamicSamplingContext:i,propagationContext:o}=$f(e,t);r.setPropagationContext(o),I&&s&&m.log(`[Tracing] Continuing trace ${s.traceId}.`);const a={...s,metadata:ue({dynamicSamplingContext:i})};return n?jr(()=>n(a)):a};function Wr(e,{parentSpan:t,spanContext:n,forceTransaction:r,scope:s}){if(!ln())return;const i=Pe();let o;if(t&&!r)o=t.startChild(n);else if(t){const a=Jt(t),{traceId:c,spanId:u}=t.spanContext(),l=yi(t);o=e.startTransaction({traceId:c,parentSpanId:u,parentSampled:l,...n,metadata:{dynamicSamplingContext:a,...n.metadata}})}else{const{traceId:a,dsc:c,parentSpanId:u,sampled:l}={...i.getPropagationContext(),...s.getPropagationContext()};o=e.startTransaction({traceId:a,parentSpanId:u,parentSampled:l,...n,metadata:{dynamicSamplingContext:c,...n.metadata}})}return s.setSpan(o),vp(o,s,i),o}function zr(e){if(e.startTime){const t={...e};return t.startTimestamp=Br(e.startTime),delete t.startTime,t}return e}const Hc="_sentryScope",Uc="_sentryIsolationScope";function vp(e,t,n){e&&(We(e,Uc,n),We(e,Hc,t))}function Tp(e){return{scope:e[Hc],isolationScope:e[Uc]}}let bn;function jc(e){return bn?bn.get(e):void 0}function Wc(e){const t=jc(e);if(!t)return;const n={};for(const[,[r,s]]of t)n[r]||(n[r]=[]),n[r].push(ue(s));return n}function Ip(e,t,n,r,s,i){const o=dn();if(o){const a=jc(o)||new Map,c=`${e}:${t}@${r}`,u=a.get(i);if(u){const[,l]=u;a.set(i,[c,{min:Math.min(l.min,n),max:Math.max(l.max,n),count:l.count+=1,sum:l.sum+=n,tags:l.tags}])}else a.set(i,[c,{min:n,max:n,count:1,sum:n,tags:s}]);bn||(bn=new WeakMap),bn.set(o,a)}}const re="sentry.source",$t="sentry.sample_rate",Re="sentry.op",Se="sentry.origin",wp="profile_id";class zc{constructor(t=1e3){this._maxlen=t,this.spans=[]}add(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)}}class Gr{constructor(t={}){this._traceId=t.traceId||z(),this._spanId=t.spanId||z().substring(16),this._startTime=t.startTimestamp||Le(),this.tags=t.tags?{...t.tags}:{},this.data=t.data?{...t.data}:{},this.instrumenter=t.instrumenter||"sentry",this._attributes={},this.setAttributes({[Se]:t.origin||"manual",[Re]:t.op,...t.attributes}),this._name=t.name||t.description,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.status&&(this._status=t.status),t.endTimestamp&&(this._endTime=t.endTimestamp),t.exclusiveTime!==void 0&&(this._exclusiveTime=t.exclusiveTime),this._measurements=t.measurements?{...t.measurements}:{}}get name(){return this._name||""}set name(t){this.updateName(t)}get description(){return this._name}set description(t){this._name=t}get traceId(){return this._traceId}set traceId(t){this._traceId=t}get spanId(){return this._spanId}set spanId(t){this._spanId=t}set parentSpanId(t){this._parentSpanId=t}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(t){this._sampled=t}get attributes(){return this._attributes}set attributes(t){this._attributes=t}get startTimestamp(){return this._startTime}set startTimestamp(t){this._startTime=t}get endTimestamp(){return this._endTime}set endTimestamp(t){this._endTime=t}get status(){return this._status}set status(t){this._status=t}get op(){return this._attributes[Re]}set op(t){this.setAttribute(Re,t)}get origin(){return this._attributes[Se]}set origin(t){this.setAttribute(Se,t)}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?Mc:Zf}}startChild(t){const n=new Gr({...t,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n);const r=Xt(this);if(n.transaction=r,I&&r){const s=t&&t.op||"< unknown op >",i=H(n).description||"< unknown name >",o=r.spanContext().spanId,a=`[Tracing] Starting '${s}' span on transaction '${i}' (${o}).`;m.log(a),this._logMessage=a}return n}setTag(t,n){return this.tags={...this.tags,[t]:n},this}setData(t,n){return this.data={...this.data,[t]:n},this}setAttribute(t,n){n===void 0?delete this._attributes[t]:this._attributes[t]=n}setAttributes(t){Object.keys(t).forEach(n=>this.setAttribute(n,t[n]))}setStatus(t){return this._status=t,this}setHttpStatus(t){return bi(this,t),this}setName(t){this.updateName(t)}updateName(t){return this._name=t,this}isSuccess(){return this._status==="ok"}finish(t){return this.end(t)}end(t){if(this._endTime)return;const n=Xt(this);if(I&&n&&n.spanContext().spanId!==this._spanId){const r=this._logMessage;r&&m.log(r.replace("Starting","Finishing"))}this._endTime=Br(t)}toTraceparent(){return Fr(this)}toContext(){return ue({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(t){return this.data=t.data||{},this._name=t.name||t.description,this._endTime=t.endTimestamp,this.op=t.op,this._parentSpanId=t.parentSpanId,this._sampled=t.sampled,this._spanId=t.spanId||this._spanId,this._startTime=t.startTimestamp||this._startTime,this._status=t.status,this.tags=t.tags||{},this._traceId=t.traceId||this._traceId,this}getTraceContext(){return _i(this)}getSpanJSON(){return ue({data:this._getData(),description:this._name,op:this._attributes[Re],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Se],_metrics_summary:Wc(this),profile_id:this._attributes[wp],exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:t,_attributes:n}=this,r=Object.keys(t).length>0,s=Object.keys(n).length>0;if(!(!r&&!s))return r&&s?{...t,...n}:r?t:n}}class Gc extends Gr{constructor(t,n){super(t),this._contexts={},this._hub=n||G(),this._name=t.name||"",this._metadata={...t.metadata},this._trimEnd=t.trimEnd,this.transaction=this;const r=this._metadata.dynamicSamplingContext;r&&(this._frozenDynamicSamplingContext={...r})}get name(){return this._name}set name(t){this.setName(t)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[re]&&{source:this._attributes[re]},...this._attributes[$t]&&{sampleRate:this._attributes[$t]}}}set metadata(t){this._metadata=t}setName(t,n="custom"){this._name=t,this.setAttribute(re,n)}updateName(t){return this._name=t,this}initSpanRecorder(t=1e3){this.spanRecorder||(this.spanRecorder=new zc(t)),this.spanRecorder.add(this)}setContext(t,n){n===null?delete this._contexts[t]:this._contexts[t]=n}setMeasurement(t,n,r=""){this._measurements[t]={value:n,unit:r}}setMetadata(t){this._metadata={...this._metadata,...t}}end(t){const n=Br(t),r=this._finishTransaction(n);if(r)return this._hub.captureEvent(r)}toContext(){const t=super.toContext();return ue({...t,name:this._name,trimEnd:this._trimEnd})}updateWithContext(t){return super.updateWithContext(t),this._name=t.name||"",this._trimEnd=t.trimEnd,this}getDynamicSamplingContext(){return Jt(this)}setHub(t){this._hub=t}getProfileId(){if(this._contexts!==void 0&&this._contexts.profile!==void 0)return this._contexts.profile.profile_id}_finishTransaction(t){if(this._endTime!==void 0)return;this._name||(I&&m.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(t);const n=this._hub.getClient();if(n&&n.emit&&n.emit("finishTransaction",this),this._sampled!==!0){I&&m.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),n&&n.recordDroppedEvent("sample_rate","transaction");return}const r=this.spanRecorder?this.spanRecorder.spans.filter(l=>l!==this&&H(l).timestamp):[];if(this._trimEnd&&r.length>0){const l=r.map(d=>H(d).timestamp).filter(Boolean);this._endTime=l.reduce((d,f)=>d>f?d:f)}const{scope:s,isolationScope:i}=Tp(this),{metadata:o}=this,{source:a}=o,c={contexts:{...this._contexts,trace:_i(this)},spans:r,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...o,capturedSpanScope:s,capturedSpanIsolationScope:i,...ue({dynamicSamplingContext:Jt(this)})},_metrics_summary:Wc(this),...a&&{transaction_info:{source:a}}};return Object.keys(this._measurements).length>0&&(I&&m.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),c.measurements=this._measurements),I&&m.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),c}}const En={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},kp="finishReason",Mt=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class Rp extends zc{constructor(t,n,r,s){super(s),this._pushActivity=t,this._popActivity=n,this.transactionSpanId=r}add(t){if(t.spanContext().spanId!==this.transactionSpanId){const n=t.end;t.end=(...r)=>(this._popActivity(t.spanContext().spanId),n.apply(t,r)),H(t).timestamp===void 0&&this._pushActivity(t.spanContext().spanId)}super.add(t)}}class Cp extends Gc{constructor(t,n,r=En.idleTimeout,s=En.finalTimeout,i=En.heartbeatInterval,o=!1,a=!1){super(t,n),this._idleHub=n,this._idleTimeout=r,this._finalTimeout=s,this._heartbeatInterval=i,this._onScope=o,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=Mt[4],this._autoFinishAllowed=!a,o&&(I&&m.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),n.getScope().setSpan(this)),a||this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=Mt[3],this.end())},this._finalTimeout)}end(t){const n=Br(t);if(this._finished=!0,this.activities={},this.op==="ui.action.click"&&this.setAttribute(kp,this._finishReason),this.spanRecorder){I&&m.log("[Tracing] finishing IdleTransaction",new Date(n*1e3).toISOString(),this.op);for(const r of this._beforeFinishCallbacks)r(this,n);this.spanRecorder.spans=this.spanRecorder.spans.filter(r=>{if(r.spanContext().spanId===this.spanContext().spanId)return!0;H(r).timestamp||(r.setStatus("cancelled"),r.end(n),I&&m.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(r,void 0,2)));const{start_timestamp:s,timestamp:i}=H(r),o=s&&s<n,a=(this._finalTimeout+this._idleTimeout)/1e3,c=i&&s&&i-s<a;if(I){const u=JSON.stringify(r,void 0,2);o?c||m.log("[Tracing] discarding Span since it finished after Transaction final timeout",u):m.log("[Tracing] discarding Span since it happened after Transaction was finished",u)}return o&&c}),I&&m.log("[Tracing] flushing IdleTransaction")}else I&&m.log("[Tracing] No active IdleTransaction");if(this._onScope){const r=this._idleHub.getScope();r.getTransaction()===this&&r.setSpan(void 0)}return super.end(t)}registerBeforeFinishCallback(t){this._beforeFinishCallbacks.push(t)}initSpanRecorder(t){if(!this.spanRecorder){const n=s=>{this._finished||this._pushActivity(s)},r=s=>{this._finished||this._popActivity(s)};this.spanRecorder=new Rp(n,r,this.spanContext().spanId,t),I&&m.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(t,{restartOnChildSpanChange:n}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=n===!1,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&(this._finishReason=Mt[5],this.end(t)))}setFinishReason(t){this._finishReason=t}sendAutoFinishSignal(){this._autoFinishAllowed||(I&&m.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(t){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&(this._finishReason=Mt[1],this.end(t))},this._idleTimeout)}_pushActivity(t){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),I&&m.log(`[Tracing] pushActivity: ${t}`),this.activities[t]=!0,I&&m.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(t){if(this.activities[t]&&(I&&m.log(`[Tracing] popActivity ${t}`),delete this.activities[t],I&&m.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){const n=Le();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason=Mt[5],this.end(n)):this._restartIdleTimeout(n+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?this._autoFinishAllowed&&(I&&m.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=Mt[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){I&&m.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}}function qc(e,t,n){if(!ln(t))return e.sampled=!1,e;if(e.sampled!==void 0)return e.setAttribute($t,Number(e.sampled)),e;let r;return typeof t.tracesSampler=="function"?(r=t.tracesSampler(n),e.setAttribute($t,Number(r))):n.parentSampled!==void 0?r=n.parentSampled:typeof t.tracesSampleRate<"u"?(r=t.tracesSampleRate,e.setAttribute($t,Number(r))):(r=1,e.setAttribute($t,r)),Yc(r)?r?(e.sampled=Math.random()<r,e.sampled?(I&&m.log(`[Tracing] starting ${e.op} transaction - ${H(e).description}`),e):(I&&m.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),e)):(I&&m.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),e.sampled=!1,e):(I&&m.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function Yc(e){return Ka(e)||!(typeof e=="number"||typeof e=="boolean")?(I&&m.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e<0||e>1?(I&&m.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function xp(){const t=this.getScope().getSpan();return t?{"sentry-trace":Fr(t)}:{}}function Ap(e,t){const n=this.getClient(),r=n&&n.getOptions()||{},s=r.instrumenter||"sentry",i=e.instrumenter||"sentry";s!==i&&(I&&m.error(`A transaction was started with instrumenter=\`${i}\`, but the SDK is configured with the \`${s}\` instrumenter.
The transaction will not be sampled. Please use the ${s} instrumentation to start transactions.`),e.sampled=!1);let o=new Gc(e,this);return o=qc(o,r,{name:e.name,parentSampled:e.parentSampled,transactionContext:e,attributes:{...e.data,...e.attributes},...t}),o.isRecording()&&o.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",o),o}function br(e,t,n,r,s,i,o,a=!1){const c=e.getClient(),u=c&&c.getOptions()||{};let l=new Cp(t,e,n,r,o,s,a);return l=qc(l,u,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...i}),l.isRecording()&&l.initSpanRecorder(u._experiments&&u._experiments.maxSpans),c&&c.emit&&c.emit("startTransaction",l),l}function Vc(){const e=un();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=Ap),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=xp),bp())}function Mp(e,t,n){const r=Ge();r&&r.setMeasurement(e,t,n)}function Op(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function Np(e,t,n,r){const s=mi(n),i={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!r&&t&&{dsn:wt(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return qe(i,[o])}function Kc(e,t,n,r){const s=mi(n),i=e.type&&e.type!=="replay_event"?e.type:"event";Op(e,n&&n.sdk);const o=wc(e,s,r,t);return delete e.sdkProcessingMetadata,qe(o,[[{type:i},e]])}const Dp="7";function Xc(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Lp(e){return`${Xc(e)}${e.projectId}/envelope/`}function Pp(e,t){return qd({sentry_key:e.publicKey,sentry_version:Dp,...t&&{sentry_client:`${t.name}/${t.version}`}})}function Jc(e,t={}){const n=typeof t=="string"?t:t.tunnel,r=typeof t=="string"||!t._metadata?void 0:t._metadata.sdk;return n||`${Lp(e)}?${Pp(e,r)}`}function $p(e,t){const n=sc(e);if(!n)return"";const r=`${Xc(n)}embed/error-page/`;let s=`dsn=${wt(n)}`;for(const i in t)if(i!=="dsn"&&i!=="onClose")if(i==="user"){const o=t.user;if(!o)continue;o.name&&(s+=`&name=${encodeURIComponent(o.name)}`),o.email&&(s+=`&email=${encodeURIComponent(o.email)}`)}else s+=`&${encodeURIComponent(i)}=${encodeURIComponent(t[i])}`;return`${r}?${s}`}const ko=[];function Fp(e){const t={};return e.forEach(n=>{const{name:r}=n,s=t[r];s&&!s.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.keys(t).map(n=>t[n])}function Bp(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...t,...n]:typeof n=="function"?r=dc(n(t)):r=t;const s=Fp(r),i=Up(s,o=>o.name==="Debug");if(i!==-1){const[o]=s.splice(i,1);s.push(o)}return s}function Hp(e,t){const n={};return t.forEach(r=>{r&&Zc(e,r,n)}),n}function Ro(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function Zc(e,t,n){if(n[t.name]){I&&m.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,ko.indexOf(t.name)===-1&&(t.setupOnce(Xf,G),ko.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),e.on&&typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,i)=>r(s,i,e))}if(e.addEventProcessor&&typeof t.processEvent=="function"){const r=t.processEvent.bind(t),s=(i,o)=>r(i,o,e);s.id=t.name,e.addEventProcessor(s)}I&&m.log(`Integration installed: ${t.name}`)}function HT(e){const t=x();if(!t||!t.addIntegration){I&&m.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);return}t.addIntegration(e)}function Up(e,t){for(let n=0;n<e.length;n++)if(t(e[n])===!0)return n;return-1}function te(e,t){const n=function(...s){return t(...s)};return n.id=e,n}function jp(e,t,n,r){const s=Object.entries(ue(r)).sort((i,o)=>i[0].localeCompare(o[0]));return`${e}${t}${n}${s}`}function Wp(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return t>>>0}function zp(e){let t="";for(const n of e){const r=Object.entries(n.tags),s=r.length>0?`|#${r.map(([i,o])=>`${i}:${o}`).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${s}|T${n.timestamp}
`}return t}function Gp(e){return e.replace(/[^\w]+/gi,"_")}function qp(e){return e.replace(/[^\w\-.]+/gi,"_")}function Yp(e){return e.replace(/[^\w\-./]+/gi,"")}const Vp=[[`
`,"\\n"],["\r","\\r"],["	","\\t"],["\\","\\\\"],["|","\\u{7c}"],[",","\\u{2c}"]];function Kp(e){for(const[t,n]of Vp)if(e===t)return n;return e}function Xp(e){return[...e].reduce((t,n)=>t+Kp(n),"")}function Jp(e){const t={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=Yp(n);t[r]=Xp(String(e[n]))}return t}function Zp(e,t,n,r){const s={sent_at:new Date().toISOString()};n&&n.sdk&&(s.sdk={name:n.sdk.name,version:n.sdk.version}),r&&t&&(s.dsn=wt(t));const i=Qp(e);return qe(s,[i])}function Qp(e){const t=zp(e);return[{type:"statsd",length:t.length},t]}const Co="Not capturing exception because it's already been captured.";class eh{constructor(t){if(this._options=t,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=sc(t.dsn):I&&m.warn("No DSN provided, client will not send events."),this._dsn){const n=Jc(this._dsn,t);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){if(oo(t)){I&&m.log(Co);return}let s=n&&n.event_id;return this._process(this.eventFromException(t,n).then(i=>this._captureEvent(i,n,r)).then(i=>{s=i})),s}captureMessage(t,n,r,s){let i=r&&r.event_id;const o=ci(t)?t:String(t),a=ui(t)?this.eventFromMessage(o,n,r):this.eventFromException(t,r);return this._process(a.then(c=>this._captureEvent(c,r,s)).then(c=>{i=c})),i}captureEvent(t,n,r){if(n&&n.originalException&&oo(n.originalException)){I&&m.log(Co);return}let s=n&&n.event_id;const o=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,n,o||r).then(a=>{s=a})),s}captureSession(t){typeof t.release!="string"?I&&m.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),vt(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(s=>r&&s))):Vt(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}setupIntegrations(t){(t&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(t){return this.getIntegrationByName(t)}getIntegrationByName(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch{return I&&m.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}addIntegration(t){const n=this._integrations[t.name];Zc(this,t,this._integrations),n||Ro(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=Kc(t,this._dsn,this._options._metadata,this._options.tunnel);for(const i of n.attachments||[])r=Ff(r,jf(i,this._options.transportOptions&&this._options.transportOptions.textEncoder));const s=this._sendEnvelope(r);s&&s.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){const n=Np(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const s=typeof r=="number"?r:1,i=`${t}:${n}`;I&&m.log(`Recording outcome: "${i}"${s>1?` (${s} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+s}}captureAggregateMetrics(t){I&&m.log(`Flushing aggregated metrics, number of metrics: ${t.length}`);const n=Zp(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}on(t,n){this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(n)}emit(t,...n){this._hooks[t]&&this._hooks[t].forEach(r=>r(...n))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=Hp(this,t),Ro(this,t),this._integrationsInitialized=!0}_updateSessionFromEvent(t,n){let r=!1,s=!1;const i=n.exception&&n.exception.values;if(i){s=!0;for(const c of i){const u=c.mechanism;if(u&&u.handled===!1){r=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(vt(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new _e(n=>{let r=0;const s=1,i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),n(!0)):(r+=s,t&&r>=t&&(clearInterval(i),n(!1)))},s)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,s=Pe()){const i=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",t,n),Si(i,t,n,r,this,s).then(a=>{if(a===null)return a;const c={...s.getPropagationContext(),...r?r.getPropagationContext():void 0};if(!(a.contexts&&a.contexts.trace)&&c){const{traceId:l,spanId:d,parentSpanId:f,dsc:p}=c;a.contexts={trace:{trace_id:l,span_id:d,parent_span_id:f},...a.contexts};const h=p||Ur(l,this,r);a.sdkProcessingMetadata={dynamicSamplingContext:h,...a.sdkProcessingMetadata}}return a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(s=>s.event_id,s=>{if(I){const i=s;i.logLevel==="log"?m.log(i.message):m.warn(i)}})}_processEvent(t,n,r){const s=this.getOptions(),{sampleRate:i}=s,o=eu(t),a=Qc(t),c=t.type||"error",u=`before send for type \`${c}\``;if(a&&typeof i=="number"&&Math.random()>i)return this.recordDroppedEvent("sample_rate","error",t),fi(new Oe(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const l=c==="replay_event"?"replay":c,f=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,f).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",l,t),new Oe("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return p;const _=nh(s,p,n);return th(_,u)}).then(p=>{if(p===null){if(this.recordDroppedEvent("before_send",l,t),o){const g=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",g)}throw new Oe(`${u} returned \`null\`, will not send event.`,"log")}const h=r&&r.getSession();if(!o&&h&&this._updateSessionFromEvent(h,p),o){const b=p.sdkProcessingMetadata&&p.sdkProcessingMetadata.spanCountBeforeProcessing||0,g=p.spans?p.spans.length:0,S=b-g;S>0&&this.recordDroppedEvent("before_send","span",S)}const _=p.transaction_info;if(o&&_&&p.transaction!==t.transaction){const b="custom";p.transaction_info={..._,source:b}}return this.sendEvent(p,n),p}).then(null,p=>{throw p instanceof Oe?p:(this.captureException(p,{data:{__sentry__:!0},originalException:p}),new Oe(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)return this._transport.send(t).then(null,n=>{I&&m.error("Error while sending event:",n)});I&&m.error("Transport disabled")}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.keys(t).map(n=>{const[r,s]=n.split(":");return{reason:r,category:s,quantity:t[n]}})}}function th(e,t){const n=`${t} must return \`null\` or a valid event.`;if(Nn(e))return e.then(r=>{if(!bt(r)&&r!==null)throw new Oe(n);return r},r=>{throw new Oe(`${t} rejected with ${r}`)});if(!bt(e)&&e!==null)throw new Oe(n);return e}function nh(e,t,n){const{beforeSend:r,beforeSendTransaction:s}=e;if(Qc(t)&&r)return r(t,n);if(eu(t)&&s){if(t.spans){const i=t.spans.length;t.sdkProcessingMetadata={...t.sdkProcessingMetadata,spanCountBeforeProcessing:i}}return s(t,n)}return t}function Qc(e){return e.type===void 0}function eu(e){return e.type==="transaction"}function rh(e){const t=x();!t||!t.addEventProcessor||t.addEventProcessor(e)}const tu="c",nu="g",vi="s",ru="d",sh=5e3;class ih{constructor(t){this._value=t}get weight(){return 1}add(t){this._value+=t}toString(){return`${this._value}`}}class oh{constructor(t){this._last=t,this._min=t,this._max=t,this._sum=t,this._count=1}get weight(){return 5}add(t){this._last=t,t<this._min&&(this._min=t),t>this._max&&(this._max=t),this._sum+=t,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}}class ah{constructor(t){this._value=[t]}get weight(){return this._value.length}add(t){this._value.push(t)}toString(){return this._value.join(":")}}class ch{constructor(t){this.first=t,this._value=new Set([t])}get weight(){return this._value.size}add(t){this._value.add(t)}toString(){return Array.from(this._value).map(t=>typeof t=="string"?Wp(t):t).join(":")}}const uh={[tu]:ih,[nu]:oh,[ru]:ah,[vi]:ch};function lh(e,t){t.debug===!0&&(I?m.enable():nt(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),se().update(t.initialScope);const r=new e(t);dh(r),fh(r)}function dh(e){const n=G().getStackTop();n.client=e,n.scope.setClient(e)}function fh(e){e.init?e.init():e.setupIntegrations&&e.setupIntegrations()}const ph=30;function su(e,t,n=xf(e.bufferSize||ph)){let r={};const s=o=>n.drain(o);function i(o){const a=[];if(Kt(o,(d,f)=>{const p=mo(f);if(Rc(r,p)){const h=xo(d,f);e.recordDroppedEvent("ratelimit_backoff",p,h)}else a.push(d)}),a.length===0)return Vt();const c=qe(o[0],a),u=d=>{Kt(c,(f,p)=>{const h=xo(f,p);e.recordDroppedEvent(d,mo(p),h)})},l=()=>t({body:Ic(c,e.textEncoder)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&I&&m.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=Cc(r,d),d),d=>{throw u("network_error"),d});return n.add(l).then(d=>d,d=>{if(d instanceof Oe)return I&&m.error("Skipped sending event because buffer is full."),u("queue_overflow"),Vt();throw d})}return i.__sentry__baseTransport__=!0,{send:i,flush:s}}function xo(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}const hh=100,Ao=5e3,mh=36e5;function ps(e,t){I&&m.info(`[Offline]: ${e}`,t)}function gh(e){return t=>{const n=e(t),r=t.createStore?t.createStore(t):void 0;let s=Ao,i;function o(l,d,f){return Bf(l,["replay_event","replay_recording","client_report"])?!1:t.shouldStore?t.shouldStore(l,d,f):!0}function a(l){r&&(i&&clearTimeout(i),i=setTimeout(async()=>{i=void 0;const d=await r.pop();d&&(ps("Attempting to send previously queued event"),u(d).catch(f=>{ps("Failed to retry sending",f)}))},l),typeof i!="number"&&i.unref&&i.unref())}function c(){i||(a(s),s=Math.min(s*2,mh))}async function u(l){try{const d=await n.send(l);let f=hh;if(d){if(d.headers&&d.headers["retry-after"])f=kc(d.headers["retry-after"]);else if((d.statusCode||0)>=400)return d}return a(f),s=Ao,d}catch(d){if(r&&await o(l,d,s))return await r.insert(l),c(),ps("Error sending. Event queued",d),{};throw d}}return t.flushAtStartup&&c(),{send:u,flush:l=>n.flush(l)}}}function iu(e,t){let n;return Kt(e,(r,s)=>(t.includes(s)&&(n=Array.isArray(r)?r[1]:void 0),!!n)),n}function _h(e,t){return n=>{const r=e(n);return{...r,send:async s=>{const i=iu(s,["event","transaction","profile","replay_event"]);return i&&(i.release=t),r.send(s)}}}}function yh(e,t){return qe(t?{...e[0],dsn:t}:e[0],e[1])}function UT(e,t){return n=>{const r=e(n),s=new Map;function i(c,u){const l=u?`${c}:${u}`:c;let d=s.get(l);if(!d){const f=nc(c);if(!f)return;const p=Jc(f,n.tunnel);d=u?_h(e,u)({...n,url:p}):e({...n,url:p}),s.set(l,d)}return[c,d]}async function o(c){function u(f){const p=f&&f.length?f:["event"];return iu(c,p)}const l=t({envelope:c,getEvent:u}).map(f=>typeof f=="string"?i(f,void 0):i(f.dsn,f.release)).filter(f=>!!f);return l.length===0&&l.push(["",r]),(await Promise.all(l.map(([f,p])=>p.send(yh(c,f)))))[0]}async function a(c){const u=[await r.flush(c)];for(const[,l]of s)u.push(await l.flush(c));return u.every(l=>l)}return{send:o,flush:a}}}function Sh(e,t){const n={sent_at:new Date().toISOString()};t&&(n.dsn=wt(t));const r=e.map(bh);return qe(n,r)}function bh(e){return[{type:"span"},e]}function ou(e,t){const n=t&&Th(t)?t.getClient():t,r=n&&n.getDsn(),s=n&&n.getOptions().tunnel;return vh(e,r)||Eh(e,s)}function Eh(e,t){return t?Mo(e)===Mo(t):!1}function vh(e,t){return t?e.includes(t.host):!1}function Mo(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function Th(e){return e.getClient!==void 0}function jT(e,...t){const n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n}function au(e,t,n=[t],r="npm"){const s=e._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${t}`,packages:n.map(i=>({name:`${r}:@sentry/${i}`,version:Us})),version:Us}),e._metadata=s}const cu=new Map,Oo=new Set;function Ih(e){if(M._sentryModuleMetadata)for(const t of Object.keys(M._sentryModuleMetadata)){const n=M._sentryModuleMetadata[t];if(Oo.has(t))continue;Oo.add(t);const r=e(t);for(const s of r.reverse())if(s.filename){cu.set(s.filename,n);break}}}function wh(e,t){return Ih(e),cu.get(t)}function kh(e,t){try{t.exception.values.forEach(n=>{if(n.stacktrace)for(const r of n.stacktrace.frames||[]){if(!r.filename)continue;const s=wh(e,r.filename);s&&(r.module_metadata=s)}})}catch{}}function Rh(e){try{e.exception.values.forEach(t=>{if(t.stacktrace)for(const n of t.stacktrace.frames||[])delete n.module_metadata})}catch{}}const uu="ModuleMetadata",Ch=(()=>({name:uu,setupOnce(){},setup(e){typeof e.on=="function"&&e.on("beforeEnvelope",t=>{Kt(t,(n,r)=>{if(r==="event"){const s=Array.isArray(n)?n[1]:void 0;s&&(Rh(s),n[1]=s)}})})},processEvent(e,t,n){const r=n.getOptions().stackParser;return kh(r,e),e}})),xh=Ch,WT=te(uu,xh),Ah=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],Mh=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],lu="InboundFilters",Oh=((e={})=>({name:lu,setupOnce(){},processEvent(t,n,r){const s=r.getOptions(),i=Dh(e,s);return Lh(t,i)?null:t}})),du=Oh,Nh=te(lu,du);function Dh(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Ah],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:Mh],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function Lh(e,t){return t.ignoreInternal&&Uh(e)?(I&&m.warn(`Event dropped due to being internal Sentry Error.
Event: ${Ze(e)}`),!0):Ph(e,t.ignoreErrors)?(I&&m.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Ze(e)}`),!0):$h(e,t.ignoreTransactions)?(I&&m.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Ze(e)}`),!0):Fh(e,t.denyUrls)?(I&&m.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Ze(e)}.
Url: ${Er(e)}`),!0):Bh(e,t.allowUrls)?!1:(I&&m.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Ze(e)}.
Url: ${Er(e)}`),!0)}function Ph(e,t){return e.type||!t||!t.length?!1:Hh(e).some(n=>an(n,t))}function $h(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?an(n,t):!1}function Fh(e,t){if(!t||!t.length)return!1;const n=Er(e);return n?an(n,t):!1}function Bh(e,t){if(!t||!t.length)return!0;const n=Er(e);return n?an(n,t):!0}function Hh(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),I&&t.length===0&&m.error(`Could not extract message for event ${Ze(e)}`),t}function Uh(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function jh(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Er(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?jh(t):null}catch{return I&&m.error(`Cannot extract url for event ${Ze(e)}`),null}}let No;const fu="FunctionToString",Do=new WeakMap,Wh=(()=>({name:fu,setupOnce(){No=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=di(this),n=Do.has(x())&&t!==void 0?t:this;return No.apply(n,e)}}catch{}},setup(e){Do.set(e,!0)}})),pu=Wh,zh=te(fu,pu),Gh="cause",qh=5,hu="LinkedErrors",Yh=((e={})=>{const t=e.limit||qh,n=e.key||Gh;return{name:hu,setupOnce(){},preprocessEvent(r,s,i){const o=i.getOptions();Ja(Vf,o.stackParser,o.maxValueLength,n,t,r,s)}}}),Vh=Yh,Kh=te(hu,Vh),Xh=Object.freeze(Object.defineProperty({__proto__:null,FunctionToString:zh,InboundFilters:Nh,LinkedErrors:Kh},Symbol.toStringTag,{value:"Module"}));class Jh{constructor(t){this._client=t,this._buckets=new Map,this._interval=setInterval(()=>this.flush(),sh)}add(t,n,r,s="none",i={},o=Le()){const a=Math.floor(o),c=qp(n),u=Jp(i),l=Gp(s),d=jp(t,c,l,u);let f=this._buckets.get(d);const p=f&&t===vi?f.metric.weight:0;f?(f.metric.add(r),f.timestamp<a&&(f.timestamp=a)):(f={metric:new uh[t](r),timestamp:a,metricType:t,name:c,unit:l,tags:u},this._buckets.set(d,f));const h=typeof r=="string"?f.metric.weight-p:r;Ip(t,c,h,l,i,d)}flush(){if(this._buckets.size!==0){if(this._client.captureAggregateMetrics){const t=Array.from(this._buckets).map(([,n])=>n);this._client.captureAggregateMetrics(t)}this._buckets.clear()}}close(){clearInterval(this._interval),this.flush()}}const mu="MetricsAggregator",Zh=(()=>({name:mu,setupOnce(){},setup(e){e.metricsAggregator=new Jh(e)}})),gu=Zh,Qh=te(mu,gu);function qr(e,t,n,r={}){const s=x(),i=se();if(s){if(!s.metricsAggregator){I&&m.warn("No metrics aggregator enabled. Please add the MetricsAggregator integration to use metrics APIs");return}const{unit:o,tags:a,timestamp:c}=r,{release:u,environment:l}=s.getOptions(),d=i.getTransaction(),f={};u&&(f.release=u),l&&(f.environment=l),d&&(f.transaction=H(d).description||""),I&&m.log(`Adding value of ${n} to ${e} metric ${t}`),s.metricsAggregator.add(e,t,n,o,{...f,...a},c)}}function em(e,t=1,n){qr(tu,e,t,n)}function tm(e,t,n){qr(ru,e,t,n)}function nm(e,t,n){qr(vi,e,t,n)}function rm(e,t,n){qr(nu,e,t,n)}const zT={increment:em,distribution:tm,set:nm,gauge:rm,MetricsAggregator:Qh,metricsAggregatorIntegration:gu},sm=Xh,P=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,R=M;function _u(){R.document?R.document.addEventListener("visibilitychange",()=>{const e=Ge();if(R.document.hidden&&e){const t="cancelled",{op:n,status:r}=H(e);P&&m.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${n}`),r||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.end()}}):P&&m.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const Fn=(e,t,n)=>{let r,s;return i=>{t.value>=0&&(i||n)&&(s=t.value-(r||0),(s||r===void 0)&&(r=t.value,t.delta=s,e(t)))}},im=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,om=()=>{const e=R.performance.timing,t=R.performance.navigation.type,n={entryType:"navigation",startTime:0,type:t==2?"back_forward":t===1?"reload":"navigate"};for(const r in e)r!=="navigationStart"&&r!=="toJSON"&&(n[r]=Math.max(e[r]-e.navigationStart,0));return n},Yr=()=>R.__WEB_VITALS_POLYFILL__?R.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||om()):R.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],Ti=()=>{const e=Yr();return e&&e.activationStart||0},Bn=(e,t)=>{const n=Yr();let r="navigate";return n&&(R.document&&R.document.prerendering||Ti()>0?r="prerender":r=n.type.replace(/_/g,"-")),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:im(),navigationType:r}},fn=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(s=>{t(s.getEntries())});return r.observe({type:e,buffered:!0,...n}),r}}catch{}},Hn=(e,t)=>{const n=r=>{(r.type==="pagehide"||R.document.visibilityState==="hidden")&&(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};R.document&&(addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0))},am=(e,t={})=>{const n=Bn("CLS",0);let r,s=0,i=[];const o=c=>{c.forEach(u=>{if(!u.hadRecentInput){const l=i[0],d=i[i.length-1];s&&i.length!==0&&u.startTime-d.startTime<1e3&&u.startTime-l.startTime<5e3?(s+=u.value,i.push(u)):(s=u.value,i=[u]),s>n.value&&(n.value=s,n.entries=i,r&&r())}})},a=fn("layout-shift",o);if(a){r=Fn(e,n,t.reportAllChanges);const c=()=>{o(a.takeRecords()),r(!0)};return Hn(c),c}};let vr=-1;const cm=()=>{R.document&&R.document.visibilityState&&(vr=R.document.visibilityState==="hidden"&&!R.document.prerendering?0:1/0)},um=()=>{Hn(({timeStamp:e})=>{vr=e},!0)},Ii=()=>(vr<0&&(cm(),um()),{get firstHiddenTime(){return vr}}),lm=e=>{const t=Ii(),n=Bn("FID");let r;const s=a=>{a.startTime<t.firstHiddenTime&&(n.value=a.processingStart-a.startTime,n.entries.push(a),r(!0))},i=a=>{a.forEach(s)},o=fn("first-input",i);r=Fn(e,n),o&&Hn(()=>{i(o.takeRecords()),o.disconnect()},!0)};let yu=0,hs=1/0,er=0;const dm=e=>{e.forEach(t=>{t.interactionId&&(hs=Math.min(hs,t.interactionId),er=Math.max(er,t.interactionId),yu=er?(er-hs)/7+1:0)})};let zs;const fm=()=>zs?yu:performance.interactionCount||0,pm=()=>{"interactionCount"in performance||zs||(zs=fn("event",dm,{type:"event",buffered:!0,durationThreshold:0}))},Su=()=>fm(),Lo=10,Be=[],ms={},Po=e=>{const t=Be[Be.length-1],n=ms[e.interactionId];if(n||Be.length<Lo||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{const r={id:e.interactionId,latency:e.duration,entries:[e]};ms[r.id]=r,Be.push(r)}Be.sort((r,s)=>s.latency-r.latency),Be.splice(Lo).forEach(r=>{delete ms[r.id]})}},hm=()=>{const e=Math.min(Be.length-1,Math.floor(Su()/50));return Be[e]},mm=(e,t)=>{t=t||{},pm();const n=Bn("INP");let r;const s=o=>{o.forEach(c=>{c.interactionId&&Po(c),c.entryType==="first-input"&&!Be.some(l=>l.entries.some(d=>c.duration===d.duration&&c.startTime===d.startTime))&&Po(c)});const a=hm();a&&a.latency!==n.value&&(n.value=a.latency,n.entries=a.entries,r())},i=fn("event",s,{durationThreshold:t.durationThreshold||40});r=Fn(e,n,t.reportAllChanges),i&&(i.observe({type:"first-input",buffered:!0}),Hn(()=>{s(i.takeRecords()),n.value<0&&Su()>0&&(n.value=0,n.entries=[]),r(!0)}))},$o={},gm=e=>{const t=Ii(),n=Bn("LCP");let r;const s=o=>{const a=o[o.length-1];if(a){const c=Math.max(a.startTime-Ti(),0);c<t.firstHiddenTime&&(n.value=c,n.entries=[a],r())}},i=fn("largest-contentful-paint",s);if(i){r=Fn(e,n);const o=()=>{$o[n.id]||(s(i.takeRecords()),i.disconnect(),$o[n.id]=!0,r(!0))};return["keydown","click"].forEach(a=>{R.document&&addEventListener(a,o,{once:!0,capture:!0})}),Hn(o,!0),o}},Gs=e=>{R.document&&(R.document.prerendering?addEventListener("prerenderingchange",()=>Gs(e),!0):R.document.readyState!=="complete"?addEventListener("load",()=>Gs(e),!0):setTimeout(e,0))},_m=(e,t)=>{t=t||{};const n=Bn("TTFB"),r=Fn(e,n,t.reportAllChanges);Gs(()=>{const s=Yr();if(s){if(n.value=Math.max(s.responseStart-Ti(),0),n.value<0||n.value>performance.now())return;n.entries=[s],r(!0)}})},vn={},Tr={};let bu,Eu,vu,Tu,Iu;function ym(e,t=!1){return Un("cls",e,vm,bu,t)}function wu(e,t=!1){return Un("lcp",e,Im,vu,t)}function Sm(e){return Un("ttfb",e,wm,Tu)}function bm(e){return Un("fid",e,Tm,Eu)}function Em(e){return Un("inp",e,km,Iu)}function st(e,t){return ku(e,t),Tr[e]||(Rm(e),Tr[e]=!0),Ru(e,t)}function pn(e,t){const n=vn[e];if(!(!n||!n.length))for(const r of n)try{r(t)}catch(s){P&&m.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${ze(r)}
Error:`,s)}}function vm(){return am(e=>{pn("cls",{metric:e}),bu=e},{reportAllChanges:!0})}function Tm(){return lm(e=>{pn("fid",{metric:e}),Eu=e})}function Im(){return gm(e=>{pn("lcp",{metric:e}),vu=e})}function wm(){return _m(e=>{pn("ttfb",{metric:e}),Tu=e})}function km(){return mm(e=>{pn("inp",{metric:e}),Iu=e})}function Un(e,t,n,r,s=!1){ku(e,t);let i;return Tr[e]||(i=n(),Tr[e]=!0),r&&t({metric:r}),Ru(e,t,s?i:void 0)}function Rm(e){const t={};e==="event"&&(t.durationThreshold=0),fn(e,n=>{pn(e,{entries:n})},t)}function ku(e,t){vn[e]=vn[e]||[],vn[e].push(t)}function Ru(e,t,n){return()=>{n&&n();const r=vn[e];if(!r)return;const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}function gs(e){return typeof e=="number"&&isFinite(e)}function Zt(e,{startTimestamp:t,...n}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...n})}const Cm=2147483647;function ae(e){return e/1e3}function wi(){return R&&R.addEventListener&&R.performance}let Fo=0,ee={},Ae,Tn;function Cu(){const e=wi();if(e&&de){e.mark&&R.performance.mark("sentry-tracing-init");const t=Mm(),n=xm(),r=Am(),s=Om();return()=>{t(),n(),r(),s()}}return()=>{}}function xu(){st("longtask",({entries:e})=>{for(const t of e){const n=Ge();if(!n)return;const r=ae(de+t.startTime),s=ae(t.duration);n.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+s})}})}function Au(){st("event",({entries:e})=>{for(const t of e){const n=Ge();if(!n)return;if(t.name==="click"){const r=ae(de+t.startTime),s=ae(t.duration),i={description:tt(t.target),op:`ui.interaction.${t.name}`,origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+s},o=tc(t.target);o&&(i.attributes={"ui.component_name":o}),n.startChild(i)}}})}function Mu(e,t){if(wi()&&de){const r=Nm(e,t);return()=>{r()}}return()=>{}}function xm(){return ym(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(P&&m.log("[Measurements] Adding CLS"),ee.cls={value:e.value,unit:""},Tn=t)},!0)}function Am(){return wu(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(P&&m.log("[Measurements] Adding LCP"),ee.lcp={value:e.value,unit:"millisecond"},Ae=t)},!0)}function Mm(){return bm(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=ae(de),r=ae(t.startTime);P&&m.log("[Measurements] Adding FID"),ee.fid={value:e.value,unit:"millisecond"},ee["mark.fid"]={value:n+r,unit:"second"}})}function Om(){return Sm(({metric:e})=>{e.entries[e.entries.length-1]&&(P&&m.log("[Measurements] Adding TTFB"),ee.ttfb={value:e.value,unit:"millisecond"})})}const Bo={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function Nm(e,t){return Em(({metric:n})=>{if(n.value===void 0)return;const r=n.entries.find(E=>E.duration===n.value&&Bo[E.name]!==void 0),s=x();if(!r||!s)return;const i=Bo[r.name],o=s.getOptions(),a=ae(de+r.startTime),c=ae(n.value),u=r.interactionId!==void 0?e[r.interactionId]:void 0;if(u===void 0)return;const{routeName:l,parentContext:d,activeTransaction:f,user:p,replayId:h}=u,_=p!==void 0?p.email||p.id||p.ip_address:void 0,b=f!==void 0?f.getProfileId():void 0,g=new Gr({startTimestamp:a,endTimestamp:a+c,op:`ui.interaction.${i}`,name:tt(r.target),attributes:{release:o.release,environment:o.environment,transaction:l,..._!==void 0&&_!==""?{user:_}:{},...b!==void 0?{profile_id:b}:{},...h!==void 0?{replay_id:h}:{}},exclusiveTime:n.value,measurements:{inp:{value:n.value,unit:"millisecond"}}}),S=Um(d,o,t);if(S&&Math.random()<S){const E=g?Sh([g],s.getDsn()):void 0,T=s&&s.getTransport();T&&E&&T.send(E).then(null,y=>{P&&m.error("Error while sending interaction:",y)});return}})}function Ou(e){const t=wi();if(!t||!R.performance.getEntries||!de)return;P&&m.log("[Tracing] Adding & adjusting spans using Performance API");const n=ae(de),r=t.getEntries(),{op:s,start_timestamp:i}=H(e);if(r.slice(Fo).forEach(o=>{const a=ae(o.startTime),c=ae(o.duration);if(!(e.op==="navigation"&&i&&n+a<i))switch(o.entryType){case"navigation":{Lm(e,o,n);break}case"mark":case"paint":case"measure":{Dm(e,o,a,c,n);const u=Ii(),l=o.startTime<u.firstHiddenTime;o.name==="first-paint"&&l&&(P&&m.log("[Measurements] Adding FP"),ee.fp={value:o.startTime,unit:"millisecond"}),o.name==="first-contentful-paint"&&l&&(P&&m.log("[Measurements] Adding FCP"),ee.fcp={value:o.startTime,unit:"millisecond"});break}case"resource":{$m(e,o,o.name,a,c,n);break}}}),Fo=Math.max(r.length-1,0),Fm(e),s==="pageload"){Hm(ee),["fcp","fp","lcp"].forEach(a=>{if(!ee[a]||!i||n>=i)return;const c=ee[a].value,u=n+ae(c),l=Math.abs((u-i)*1e3),d=l-c;P&&m.log(`[Measurements] Normalized ${a} from ${c} to ${l} (${d})`),ee[a].value=l});const o=ee["mark.fid"];o&&ee.fid&&(Zt(e,{description:"first input delay",endTimestamp:o.value+ae(ee.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:o.value}),delete ee["mark.fid"]),"fcp"in ee||delete ee.cls,Object.keys(ee).forEach(a=>{Mp(a,ee[a].value,ee[a].unit)}),Bm(e)}Ae=void 0,Tn=void 0,ee={}}function Dm(e,t,n,r,s){const i=s+n,o=i+r;return Zt(e,{description:t.name,endTimestamp:o,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:i}),i}function Lm(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{tr(e,t,r,n)}),tr(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),tr(e,t,"fetch",n,"cache","domainLookupStart"),tr(e,t,"domainLookup",n,"DNS"),Pm(e,t,n)}function tr(e,t,n,r,s,i){const o=i?t[i]:t[`${n}End`],a=t[`${n}Start`];!a||!o||Zt(e,{op:"browser",origin:"auto.browser.browser.metrics",description:s||n,startTimestamp:r+ae(a),endTimestamp:r+ae(o)})}function Pm(e,t,n){t.responseEnd&&(Zt(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+ae(t.requestStart),endTimestamp:n+ae(t.responseEnd)}),Zt(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+ae(t.responseStart),endTimestamp:n+ae(t.responseEnd)}))}function $m(e,t,n,r,s,i){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const o=mt(n),a={};_s(a,t,"transferSize","http.response_transfer_size"),_s(a,t,"encodedBodySize","http.response_content_length"),_s(a,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(a["resource.render_blocking_status"]=t.renderBlockingStatus),o.protocol&&(a["url.scheme"]=o.protocol.split(":").pop()),o.host&&(a["server.address"]=o.host),a["url.same_origin"]=n.includes(R.location.origin);const c=i+r,u=c+s;Zt(e,{description:n.replace(R.location.origin,""),endTimestamp:u,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:c,data:a})}function Fm(e){const t=R.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),gs(n.rtt)&&(ee["connection.rtt"]={value:n.rtt,unit:"millisecond"})),gs(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`),gs(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}function Bm(e){Ae&&(P&&m.log("[Measurements] Adding LCP Data"),Ae.element&&e.setTag("lcp.element",tt(Ae.element)),Ae.id&&e.setTag("lcp.id",Ae.id),Ae.url&&e.setTag("lcp.url",Ae.url.trim().slice(0,200)),e.setTag("lcp.size",Ae.size)),Tn&&Tn.sources&&(P&&m.log("[Measurements] Adding CLS Data"),Tn.sources.forEach((t,n)=>e.setTag(`cls.source.${n+1}`,tt(t.node))))}function _s(e,t,n,r){const s=t[n];s!=null&&s<Cm&&(e[r]=s)}function Hm(e){const t=Yr();if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(P&&m.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function Um(e,t,n){if(!ln(t))return!1;let r;return e!==void 0&&typeof t.tracesSampler=="function"?r=t.tracesSampler({transactionContext:e,name:e.name,parentSampled:e.parentSampled,attributes:{...e.data,...e.attributes},location:R.location}):e!==void 0&&e.sampled!==void 0?r=e.sampled:typeof t.tracesSampleRate<"u"?r=t.tracesSampleRate:r=1,Yc(r)?r===!0?n:r===!1?0:r*n:(P&&m.warn("[Tracing] Discarding interaction span because of invalid sample rate."),!1)}function jm(e,t,n,r,s="auto.http.browser"){if(!ln()||!e.fetchData)return;const i=t(e.fetchData.url);if(e.endTimestamp&&i){const p=e.fetchData.__span;if(!p)return;const h=r[p];h&&(Gm(h,e),delete r[p]);return}const o=se(),a=x(),{method:c,url:u}=e.fetchData,l=zm(u),d=l?mt(l).host:void 0,f=i?gt({name:`${c} ${u}`,onlyIfParent:!0,attributes:{url:u,type:"fetch","http.method":c,"http.url":l,"server.address":d,[Se]:s},op:"http.client"}):void 0;if(f&&(e.fetchData.__span=f.spanContext().spanId,r[f.spanContext().spanId]=f),n(e.fetchData.url)&&a){const p=e.args[0];e.args[1]=e.args[1]||{};const h=e.args[1];h.headers=Wm(p,a,o,h,f)}return f}function Wm(e,t,n,r,s){const i=s||n.getSpan(),o=Pe(),{traceId:a,spanId:c,sampled:u,dsc:l}={...o.getPropagationContext(),...n.getPropagationContext()},d=i?Fr(i):hi(a,c,u),f=vc(l||(i?Jt(i):Ur(a,t,n))),p=r.headers||(typeof Request<"u"&&je(e,Request)?e.headers:void 0);if(p)if(typeof Headers<"u"&&je(p,Headers)){const h=new Headers(p);return h.append("sentry-trace",d),f&&h.append(Fs,f),h}else if(Array.isArray(p)){const h=[...p,["sentry-trace",d]];return f&&h.push([Fs,f]),h}else{const h="baggage"in p?p.baggage:void 0,_=[];return Array.isArray(h)?_.push(...h):h&&_.push(h),f&&_.push(f),{...p,"sentry-trace":d,baggage:_.length>0?_.join(","):void 0}}else return{"sentry-trace":d,baggage:f}}function zm(e){try{return new URL(e).href}catch{return}}function Gm(e,t){if(t.response){bi(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus("internal_error");e.end()}const qs=["localhost",/^\/(?!\/)/],Ir={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:qs,tracePropagationTargets:qs};function Nu(e){const{traceFetch:t,traceXHR:n,tracePropagationTargets:r,tracingOrigins:s,shouldCreateSpanForRequest:i,enableHTTPTimings:o}={traceFetch:Ir.traceFetch,traceXHR:Ir.traceXHR,...e},a=typeof i=="function"?i:l=>!0,c=l=>Km(l,r||s),u={};t&&Pr(l=>{const d=jm(l,a,c,u);if(d){const f=Du(l.fetchData.url),p=f?mt(f).host:void 0;d.setAttributes({"http.url":f,"server.address":p})}o&&d&&Ho(d)}),n&&$r(l=>{const d=Xm(l,a,c,u);o&&d&&Ho(d)})}function qm(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function Ho(e){const{url:t}=H(e).data||{};if(!t||typeof t!="string")return;const n=st("resource",({entries:r})=>{r.forEach(s=>{qm(s)&&s.name.endsWith(t)&&(Vm(s).forEach(o=>e.setAttribute(...o)),setTimeout(n))})})}function Ym(e){let t="unknown",n="unknown",r="";for(const s of e){if(s==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(s))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=s}return r===e&&(t=r),{name:t,version:n}}function xe(e=0){return((de||performance.timeOrigin)+e)/1e3}function Vm(e){const{name:t,version:n}=Ym(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),de?[...r,["http.request.redirect_start",xe(e.redirectStart)],["http.request.fetch_start",xe(e.fetchStart)],["http.request.domain_lookup_start",xe(e.domainLookupStart)],["http.request.domain_lookup_end",xe(e.domainLookupEnd)],["http.request.connect_start",xe(e.connectStart)],["http.request.secure_connection_start",xe(e.secureConnectionStart)],["http.request.connection_end",xe(e.connectEnd)],["http.request.request_start",xe(e.requestStart)],["http.request.response_start",xe(e.responseStart)],["http.request.response_end",xe(e.responseEnd)]]:r}function Km(e,t){return an(e,t||qs)}function Xm(e,t,n,r){const s=e.xhr,i=s&&s[He];if(!ln()||!s||s.__sentry_own_request__||!i)return;const o=t(i.url);if(e.endTimestamp&&o){const p=s.__sentry_xhr_span_id__;if(!p)return;const h=r[p];h&&i.status_code!==void 0&&(bi(h,i.status_code),h.end(),delete r[p]);return}const a=se(),c=Pe(),u=Du(i.url),l=u?mt(u).host:void 0,d=o?gt({name:`${i.method} ${i.url}`,onlyIfParent:!0,attributes:{type:"xhr","http.method":i.method,"http.url":u,url:i.url,"server.address":l,[Se]:"auto.http.browser"},op:"http.client"}):void 0;d&&(s.__sentry_xhr_span_id__=d.spanContext().spanId,r[s.__sentry_xhr_span_id__]=d);const f=x();if(s.setRequestHeader&&n(i.url)&&f){const{traceId:p,spanId:h,sampled:_,dsc:b}={...c.getPropagationContext(),...a.getPropagationContext()},g=d?Fr(d):hi(p,h,_),S=vc(b||(d?Jt(d):Ur(p,f,a)));Jm(s,g,S)}return d}function Jm(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(Fs,n)}catch{}}function Du(e){try{return new URL(e,R.location.origin).href}catch{return}}function Zm(e,t=!0,n=!0){if(!R||!R.location){P&&m.warn("Could not initialize routing instrumentation due to invalid location");return}let r=R.location.href,s;t&&(s=e({name:R.location.pathname,startTimestamp:de?de/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),n&&Dn(({to:i,from:o})=>{if(o===void 0&&r&&r.indexOf(i)!==-1){r=void 0;return}o!==i&&(r=void 0,s&&(P&&m.log(`[Tracing] Finishing current transaction with op: ${s.op}`),s.end()),s=e({name:R.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))})}const Qm="BrowserTracing",eg={...En,markBackgroundTransactions:!0,routingInstrumentation:Zm,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...Ir},Uo=10;class GT{constructor(t){this.name=Qm,this._hasSetTracePropagationTargets=!1,Vc(),P&&(this._hasSetTracePropagationTargets=!!(t&&(t.tracePropagationTargets||t.tracingOrigins))),this.options={...eg,...t},this.options._experiments.enableLongTask!==void 0&&(this.options.enableLongTask=this.options._experiments.enableLongTask),t&&!t.tracePropagationTargets&&t.tracingOrigins&&(this.options.tracePropagationTargets=t.tracingOrigins),this._collectWebVitals=Cu(),this._interactionIdToRouteNameMapping={},this.options.enableInp&&Mu(this._interactionIdToRouteNameMapping,this.options.interactionsSampleRate),this.options.enableLongTask&&xu(),this.options._experiments.enableInteractions&&Au(),this._latestRoute={name:void 0,context:void 0}}setupOnce(t,n){this._getCurrentHub=n;const s=n().getClient(),i=s&&s.getOptions(),{routingInstrumentation:o,startTransactionOnLocationChange:a,startTransactionOnPageLoad:c,markBackgroundTransactions:u,traceFetch:l,traceXHR:d,shouldCreateSpanForRequest:f,enableHTTPTimings:p,_experiments:h}=this.options,_=i&&i.tracePropagationTargets,b=_||this.options.tracePropagationTargets;P&&this._hasSetTracePropagationTargets&&_&&m.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),o(g=>{const S=this._createRouteTransaction(g);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(S,g,n),S},c,a),u&&_u(),h.enableInteractions&&this._registerInteractionListener(),this.options.enableInp&&this._registerInpInteractionListener(),Nu({traceFetch:l,traceXHR:d,tracePropagationTargets:b,shouldCreateSpanForRequest:f,enableHTTPTimings:p})}_createRouteTransaction(t){if(!this._getCurrentHub){P&&m.warn(`[Tracing] Did not create ${t.op} transaction because _getCurrentHub is invalid.`);return}const n=this._getCurrentHub(),{beforeNavigate:r,idleTimeout:s,finalTimeout:i,heartbeatInterval:o}=this.options,a=t.op==="pageload";let c;if(a){const p=a?jo("sentry-trace"):"",h=a?jo("baggage"):void 0,{traceId:_,dsc:b,parentSpanId:g,sampled:S}=Tc(p,h);c={traceId:_,parentSpanId:g,parentSampled:S,...t,metadata:{...t.metadata,dynamicSamplingContext:b},trimEnd:!0}}else c={trimEnd:!0,...t};const u=typeof r=="function"?r(c):c,l=u===void 0?{...c,sampled:!1}:u;l.metadata=l.name!==c.name?{...l.metadata,source:"custom"}:l.metadata,this._latestRoute.name=l.name,this._latestRoute.context=l,l.sampled===!1&&P&&m.log(`[Tracing] Will not send ${l.op} transaction because of beforeNavigate.`),P&&m.log(`[Tracing] Starting ${l.op} transaction on scope`);const{location:d}=R,f=br(n,l,s,i,!0,{location:d},o,a);return a&&R.document&&(R.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(R.document.readyState)&&f.sendAutoFinishSignal()}),["interactive","complete"].includes(R.document.readyState)&&f.sendAutoFinishSignal()),f.registerBeforeFinishCallback(p=>{this._collectWebVitals(),Ou(p)}),f}_registerInteractionListener(){let t;const n=()=>{const{idleTimeout:r,finalTimeout:s,heartbeatInterval:i}=this.options,o="ui.action.click",a=Ge();if(a&&a.op&&["navigation","pageload"].includes(a.op)){P&&m.warn(`[Tracing] Did not create ${o} transaction because a pageload or navigation transaction is in progress.`);return}if(t&&(t.setFinishReason("interactionInterrupted"),t.end(),t=void 0),!this._getCurrentHub){P&&m.warn(`[Tracing] Did not create ${o} transaction because _getCurrentHub is invalid.`);return}if(!this._latestRoute.name){P&&m.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`);return}const c=this._getCurrentHub(),{location:u}=R,l={name:this._latestRoute.name,op:o,trimEnd:!0,data:{[re]:this._latestRoute.context?tg(this._latestRoute.context):"url"}};t=br(c,l,r,s,!0,{location:u},i)};["click"].forEach(r=>{R.document&&addEventListener(r,n,{once:!1,capture:!0})})}_registerInpInteractionListener(){const t=({entries:n})=>{const r=x(),s=r!==void 0&&r.getIntegrationByName!==void 0?r.getIntegrationByName("Replay"):void 0,i=s!==void 0?s.getReplayId():void 0,o=Ge(),a=se(),c=a!==void 0?a.getUser():void 0;n.forEach(u=>{if(ng(u)){const l=u.interactionId;if(l===void 0)return;const d=this._interactionIdToRouteNameMapping[l],f=u.duration,p=u.startTime,h=Object.keys(this._interactionIdToRouteNameMapping),_=h.length>0?h.reduce((b,g)=>this._interactionIdToRouteNameMapping[b].duration<this._interactionIdToRouteNameMapping[g].duration?b:g):void 0;if(u.entryType==="first-input"&&h.map(g=>this._interactionIdToRouteNameMapping[g]).some(g=>g.duration===f&&g.startTime===p)||!l)return;if(d)d.duration=Math.max(d.duration,f);else if(h.length<Uo||_===void 0||f>this._interactionIdToRouteNameMapping[_].duration){const b=this._latestRoute.name,g=this._latestRoute.context;b&&g&&(_&&Object.keys(this._interactionIdToRouteNameMapping).length>=Uo&&delete this._interactionIdToRouteNameMapping[_],this._interactionIdToRouteNameMapping[l]={routeName:b,duration:f,parentContext:g,user:c,activeTransaction:o,replayId:i,startTime:p})}}})};st("event",t),st("first-input",t)}}function jo(e){const t=ec(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function tg(e){const t=e.attributes&&e.attributes[re],n=e.data&&e.data[re],r=e.metadata&&e.metadata.source;return t||n||r}function ng(e){return"duration"in e}const rg="BrowserTracing",sg={...En,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...Ir},Vr=((e={})=>{const t=P?!!(e.tracePropagationTargets||e.tracingOrigins):!1;Vc(),!e.tracePropagationTargets&&e.tracingOrigins&&(e.tracePropagationTargets=e.tracingOrigins);const n={...sg,...e},r=Cu(),s={};n.enableInp&&Mu(s,n.interactionsSampleRate),n.enableLongTask&&xu(),n._experiments.enableInteractions&&Au();const i={name:void 0,context:void 0};function o(a){const c=G(),{beforeStartSpan:u,idleTimeout:l,finalTimeout:d,heartbeatInterval:f}=n,p=a.op==="pageload";let h;if(p){const S=p?Wo("sentry-trace"):"",E=p?Wo("baggage"):void 0,{traceId:T,dsc:y,parentSpanId:v,sampled:A}=Tc(S,E);h={traceId:T,parentSpanId:v,parentSampled:A,...a,metadata:{...a.metadata,dynamicSamplingContext:y},trimEnd:!0}}else h={trimEnd:!0,...a};const _=u?u(h):h;_.metadata=_.name!==h.name?{..._.metadata,source:"custom"}:_.metadata,i.name=_.name,i.context=_,_.sampled===!1&&P&&m.log(`[Tracing] Will not send ${_.op} transaction because of beforeNavigate.`),P&&m.log(`[Tracing] Starting ${_.op} transaction on scope`);const{location:b}=R,g=br(c,_,l,d,!0,{location:b},f,p);return p&&R.document&&(R.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(R.document.readyState)&&g.sendAutoFinishSignal()}),["interactive","complete"].includes(R.document.readyState)&&g.sendAutoFinishSignal()),g.registerBeforeFinishCallback(S=>{r(),Ou(S)}),g}return{name:rg,setupOnce:()=>{},afterAllSetup(a){const c=a.getOptions(),{markBackgroundSpan:u,traceFetch:l,traceXHR:d,shouldCreateSpanForRequest:f,enableHTTPTimings:p,_experiments:h}=n,_=c&&c.tracePropagationTargets,b=_||n.tracePropagationTargets;P&&t&&_&&m.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used.");let g,S=R.location&&R.location.href;if(a.on&&(a.on("startNavigationSpan",E=>{g&&(P&&m.log(`[Tracing] Finishing current transaction with op: ${H(g).op}`),g.end()),g=o({op:"navigation",...E})}),a.on("startPageLoadSpan",E=>{g&&(P&&m.log(`[Tracing] Finishing current transaction with op: ${H(g).op}`),g.end()),g=o({op:"pageload",...E})})),n.instrumentPageLoad&&a.emit&&R.location){const E={name:R.location.pathname,startTimestamp:de?de/1e3:void 0,origin:"auto.pageload.browser",attributes:{[re]:"url"}};jn(a,E)}n.instrumentNavigation&&a.emit&&R.location&&Dn(({to:E,from:T})=>{if(T===void 0&&S&&S.indexOf(E)!==-1){S=void 0;return}if(T!==E){S=void 0;const y={name:R.location.pathname,origin:"auto.navigation.browser",attributes:{[re]:"url"}};Wn(a,y)}}),u&&_u(),h.enableInteractions&&ig(n,i),n.enableInp&&ag(s,i),Nu({traceFetch:l,traceXHR:d,tracePropagationTargets:b,shouldCreateSpanForRequest:f,enableHTTPTimings:p})},options:n}});function jn(e,t){if(!e.emit)return;e.emit("startPageLoadSpan",t);const n=dn();return(n&&H(n).op)==="pageload"?n:void 0}function Wn(e,t){if(!e.emit)return;e.emit("startNavigationSpan",t);const n=dn();return(n&&H(n).op)==="navigation"?n:void 0}function Wo(e){const t=ec(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function ig(e,t){let n;const r=()=>{const{idleTimeout:s,finalTimeout:i,heartbeatInterval:o}=e,a="ui.action.click",c=Ge();if(c&&c.op&&["navigation","pageload"].includes(c.op)){P&&m.warn(`[Tracing] Did not create ${a} transaction because a pageload or navigation transaction is in progress.`);return}if(n&&(n.setFinishReason("interactionInterrupted"),n.end(),n=void 0),!t.name){P&&m.warn(`[Tracing] Did not create ${a} transaction because _latestRouteName is missing.`);return}const{location:u}=R,l={name:t.name,op:a,trimEnd:!0,data:{[re]:t.context?cg(t.context):"url"}};n=br(G(),l,s,i,!0,{location:u},o)};["click"].forEach(s=>{R.document&&addEventListener(s,r,{once:!1,capture:!0})})}function og(e){return"duration"in e}const zo=10;function ag(e,t){const n=({entries:r})=>{const s=x(),i=s!==void 0&&s.getIntegrationByName!==void 0?s.getIntegrationByName("Replay"):void 0,o=i!==void 0?i.getReplayId():void 0,a=Ge(),c=se(),u=c!==void 0?c.getUser():void 0;r.forEach(l=>{if(og(l)){const d=l.interactionId;if(d===void 0)return;const f=e[d],p=l.duration,h=l.startTime,_=Object.keys(e),b=_.length>0?_.reduce((g,S)=>e[g].duration<e[S].duration?g:S):void 0;if(l.entryType==="first-input"&&_.map(S=>e[S]).some(S=>S.duration===p&&S.startTime===h)||!d)return;if(f)f.duration=Math.max(f.duration,p);else if(_.length<zo||b===void 0||p>e[b].duration){const g=t.name,S=t.context;g&&S&&(b&&Object.keys(e).length>=zo&&delete e[b],e[d]={routeName:g,duration:p,parentContext:S,user:u,activeTransaction:a,replayId:o,startTime:h})}}})};st("event",n),st("first-input",n)}function cg(e){const t=e.attributes&&e.attributes[re],n=e.data&&e.data[re],r=e.metadata&&e.metadata.source;return t||n||r}const w=M;let Ys=0;function Lu(){return Ys>0}function ug(){Ys++,setTimeout(()=>{Ys--})}function Tt(e,t={},n){if(typeof e!="function")return e;try{const s=e.__sentry_wrapped__;if(s)return typeof s=="function"?s:e;if(di(e))return e}catch{return e}const r=function(){const s=Array.prototype.slice.call(arguments);try{const i=s.map(o=>Tt(o,t));return e.apply(this,i)}catch(i){throw ug(),it(o=>{o.addEventProcessor(a=>(t.mechanism&&(Ms(a,void 0),Et(a,t.mechanism)),a.extra={...a.extra,arguments:s},a)),$n(i)}),i}};try{for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}catch{}ic(r,e),We(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}const F=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Pu(e,t){const n=ki(e,t),r={type:t&&t.name,value:pg(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function lg(e,t,n,r){const s=x(),i=s&&s.getOptions().normalizeDepth,o={exception:{values:[{type:Lr(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:gg(t,{isUnhandledRejection:r})}]},extra:{__serialized__:_c(t,i)}};if(n){const a=ki(e,n);a.length&&(o.exception.values[0].stacktrace={frames:a})}return o}function ys(e,t){return{exception:{values:[Pu(e,t)]}}}function ki(e,t){const n=t.stacktrace||t.stack||"",r=fg(t);try{return e(n,r)}catch{}return[]}const dg=/Minified React error #\d+;/i;function fg(e){if(e){if(typeof e.framesToPop=="number")return e.framesToPop;if(dg.test(e.message))return 1}return 0}function pg(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function hg(e,t,n,r){const s=n&&n.syntheticException||void 0,i=Ri(e,t,s,r);return Et(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),Vt(i)}function mg(e,t,n="info",r,s){const i=r&&r.syntheticException||void 0,o=Vs(e,t,i,s);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),Vt(o)}function Ri(e,t,n,r,s){let i;if(ai(t)&&t.error)return ys(e,t.error);if(Zi(t)||Nd(t)){const o=t;if("stack"in t)i=ys(e,t);else{const a=o.name||(Zi(o)?"DOMError":"DOMException"),c=o.message?`${a}: ${o.message}`:a;i=Vs(e,c,n,r),Ms(i,c)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return ht(t)?ys(e,t):bt(t)||Lr(t)?(i=lg(e,t,n,s),Et(i,{synthetic:!0}),i):(i=Vs(e,t,n,r),Ms(i,`${t}`),Et(i,{synthetic:!0}),i)}function Vs(e,t,n,r){const s={};if(r&&n){const i=ki(e,n);i.length&&(s.exception={values:[{value:t,stacktrace:{frames:i}}]})}if(ci(t)){const{__sentry_template_string__:i,__sentry_template_values__:o}=t;return s.logentry={message:i,params:o},s}return s.message=t,s}function gg(e,{isUnhandledRejection:t}){const n=Yd(e),r=t?"promise rejection":"exception";return ai(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Lr(e)?`Event \`${_g(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function _g(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function yg(e,{metadata:t,tunnel:n,dsn:r}){const s={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:wt(r)}},i=Sg(e);return qe(s,[i])}function Sg(e){return[{type:"user_report"},e]}class bg extends eh{constructor(t){const n=w.SENTRY_SDK_SOURCE||gf();au(t,"browser",["browser"],n),super(t),t.sendClientReports&&w.document&&w.document.addEventListener("visibilitychange",()=>{w.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return hg(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return mg(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){F&&m.warn("SDK not enabled, will not capture user feedback.");return}const n=yg(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}_flushOutcomes(){const t=this._clearOutcomes();if(t.length===0){F&&m.log("No outcomes to send");return}if(!this._dsn){F&&m.log("No dsn provided, will not send outcomes");return}F&&m.log("Sending outcomes:",t);const n=zf(t,this._options.tunnel&&wt(this._dsn));this._sendEnvelope(n)}}let Sn;function Eg(){if(Sn)return Sn;if(Ds(w.fetch))return Sn=w.fetch.bind(w);const e=w.document;let t=w.fetch;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(n){F&&m.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return Sn=t.bind(w)}function vg(){Sn=void 0}function Tg(e,t=Eg()){let n=0,r=0;function s(i){const o=i.body.length;n+=o,r++;const a={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{return t(e.url,a).then(c=>(n-=o,r--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return vg(),n-=o,r--,fi(c)}}return su(e,s)}const Ig=4;function wg(e){function t(n){return new _e((r,s)=>{const i=new XMLHttpRequest;i.onerror=s,i.onreadystatechange=()=>{i.readyState===Ig&&r({statusCode:i.status,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")}})},i.open("POST",e.url);for(const o in e.headers)Object.prototype.hasOwnProperty.call(e.headers,o)&&i.setRequestHeader(o,e.headers[o]);i.send(n.body)})}return su(e,t)}const hn="?",kg=10,Rg=20,Cg=30,xg=40,Ag=50;function zn(e,t,n,r){const s={filename:e,function:t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const Mg=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Og=/\((\S*)(?::(\d+))(?::(\d+))\)/,Ng=e=>{const t=Mg.exec(e);if(t){if(t[2]&&t[2].indexOf("eval")===0){const i=Og.exec(t[2]);i&&(t[2]=i[1],t[3]=i[2],t[4]=i[3])}const[r,s]=$u(t[1]||hn,t[2]);return zn(s,r,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}},Dg=[Cg,Ng],Lg=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Pg=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,$g=e=>{const t=Lg.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const i=Pg.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let r=t[3],s=t[1]||hn;return[s,r]=$u(s,r),zn(r,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},Fg=[Ag,$g],Bg=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Hg=e=>{const t=Bg.exec(e);return t?zn(t[2],t[1]||hn,+t[3],t[4]?+t[4]:void 0):void 0},Ug=[xg,Hg],jg=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,Wg=e=>{const t=jg.exec(e);return t?zn(t[2],t[3]||hn,+t[1]):void 0},qT=[kg,Wg],zg=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,Gg=e=>{const t=zg.exec(e);return t?zn(t[5],t[3]||t[4]||hn,+t[1],+t[2]):void 0},YT=[Rg,Gg],qg=[Dg,Fg,Ug],Yg=cc(...qg),$u=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:hn,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},nr=1024,Fu="Breadcrumbs",Vg=((e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:Fu,setupOnce(){},setup(n){t.console&&uc(Zg(n)),t.dom&&fc(Jg(n,t.dom)),t.xhr&&$r(Qg(n)),t.fetch&&Pr(e_(n)),t.history&&Dn(t_(n)),t.sentry&&n.on&&n.on("beforeSendEvent",Xg(n))}}}),Bu=Vg,Kg=te(Fu,Bu);function Xg(e){return function(n){x()===e&&rt({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Ze(n)},{event:n})}}function Jg(e,t){return function(r){if(x()!==e)return;let s,i,o=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>nr&&(F&&m.warn(`\`dom.maxStringLength\` cannot exceed ${nr}, but a value of ${a} was configured. Sentry will use ${nr} instead.`),a=nr),typeof o=="string"&&(o=[o]);try{const u=r.event,l=n_(u)?u.target:u;s=tt(l,{keyAttrs:o,maxStringLength:a}),i=tc(l)}catch{s="<unknown>"}if(s.length===0)return;const c={category:`ui.${r.name}`,message:s};i&&(c.data={"ui.component_name":i}),rt(c,{event:r.event,name:r.name,global:r.global})}}function Zg(e){return function(n){if(x()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:yc(n.level),message:mr(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${mr(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;rt(r,{input:n.args,level:n.level})}}function Qg(e){return function(n){if(x()!==e)return;const{startTimestamp:r,endTimestamp:s}=n,i=n.xhr[He];if(!r||!s||!i)return;const{method:o,url:a,status_code:c,body:u}=i,l={method:o,url:a,status_code:c},d={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:s};rt({category:"xhr",data:l,type:"http"},d)}}function e_(e){return function(n){if(x()!==e)return;const{startTimestamp:r,endTimestamp:s}=n;if(s&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const i=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:s};rt({category:"fetch",data:i,level:"error",type:"http"},o)}else{const i=n.response,o={...n.fetchData,status_code:i&&i.status},a={input:n.args,response:i,startTimestamp:r,endTimestamp:s};rt({category:"fetch",data:o,type:"http"},a)}}}function t_(e){return function(n){if(x()!==e)return;let r=n.from,s=n.to;const i=mt(w.location.href);let o=r?mt(r):void 0;const a=mt(s);(!o||!o.path)&&(o=i),i.protocol===a.protocol&&i.host===a.host&&(s=a.relative),i.protocol===o.protocol&&i.host===o.host&&(r=o.relative),rt({category:"navigation",data:{from:r,to:s}})}}function n_(e){return!!e&&!!e.target}const Hu="Dedupe",r_=(()=>{let e;return{name:Hu,setupOnce(){},processEvent(t){if(t.type)return t;try{if(i_(t,e))return F&&m.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}}),Uu=r_,s_=te(Hu,Uu);function i_(e,t){return t?!!(o_(e,t)||a_(e,t)):!1}function o_(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!Wu(e,t)||!ju(e,t))}function a_(e,t){const n=Go(t),r=Go(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!Wu(e,t)||!ju(e,t))}function ju(e,t){let n=qo(e),r=qo(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const i=r[s],o=n[s];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function Wu(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function Go(e){return e.exception&&e.exception.values&&e.exception.values[0]}function qo(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch{return}}const zu="GlobalHandlers",c_=((e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:zu,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(l_(n),Yo("onerror")),t.onunhandledrejection&&(d_(n),Yo("onunhandledrejection"))}}}),Gu=c_,u_=te(zu,Gu);function l_(e){mc(t=>{const{stackParser:n,attachStacktrace:r}=Yu();if(x()!==e||Lu())return;const{msg:s,url:i,line:o,column:a,error:c}=t,u=c===void 0&&De(s)?h_(s,i,o,a):qu(Ri(n,c||s,void 0,r,!1),i,o,a);u.level="error",Hr(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}function d_(e){gc(t=>{const{stackParser:n,attachStacktrace:r}=Yu();if(x()!==e||Lu())return;const s=f_(t),i=ui(s)?p_(s):Ri(n,s,void 0,r,!0);i.level="error",Hr(i,{originalException:s,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function f_(e){if(ui(e))return e;const t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return e}function p_(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function h_(e,t,n,r){const s=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let i=ai(e)?e.message:e,o="Error";const a=i.match(s);return a&&(o=a[1],i=a[2]),qu({exception:{values:[{type:o,value:i}]}},t,n,r)}function qu(e,t,n,r){const s=e.exception=e.exception||{},i=s.values=s.values||[],o=i[0]=i[0]||{},a=o.stacktrace=o.stacktrace||{},c=a.frames=a.frames||[],u=isNaN(parseInt(r,10))?void 0:r,l=isNaN(parseInt(n,10))?void 0:n,d=De(t)&&t.length>0?t:Qa();return c.length===0&&c.push({colno:u,filename:d,function:"?",in_app:!0,lineno:l}),e}function Yo(e){F&&m.log(`Global Handler attached: ${e}`)}function Yu(){const e=x();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const Vu="HttpContext",m_=(()=>({name:Vu,setupOnce(){},preprocessEvent(e){if(!w.navigator&&!w.location&&!w.document)return;const t=e.request&&e.request.url||w.location&&w.location.href,{referrer:n}=w.document||{},{userAgent:r}=w.navigator||{},s={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...e.request,...t&&{url:t},headers:s};e.request=i}})),Ku=m_,g_=te(Vu,Ku),__="cause",y_=5,Xu="LinkedErrors",S_=((e={})=>{const t=e.limit||y_,n=e.key||__;return{name:Xu,setupOnce(){},preprocessEvent(r,s,i){const o=i.getOptions();Ja(Pu,o.stackParser,o.maxValueLength,n,t,r,s)}}}),Ju=S_,b_=te(Xu,Ju),E_=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Zu="TryCatch",v_=((e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:Zu,setupOnce(){t.setTimeout&&ce(w,"setTimeout",Vo),t.setInterval&&ce(w,"setInterval",Vo),t.requestAnimationFrame&&ce(w,"requestAnimationFrame",I_),t.XMLHttpRequest&&"XMLHttpRequest"in w&&ce(XMLHttpRequest.prototype,"send",w_);const n=t.eventTarget;n&&(Array.isArray(n)?n:E_).forEach(k_)}}}),Qu=v_,T_=te(Zu,Qu);function Vo(e){return function(...t){const n=t[0];return t[0]=Tt(n,{mechanism:{data:{function:ze(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function I_(e){return function(t){return e.apply(this,[Tt(t,{mechanism:{data:{function:"requestAnimationFrame",handler:ze(e)},handled:!1,type:"instrument"}})])}}function w_(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&ce(n,s,function(i){const o={mechanism:{data:{function:s,handler:ze(i)},handled:!1,type:"instrument"}},a=di(i);return a&&(o.mechanism.data.handler=ze(a)),Tt(i,o)})}),e.apply(this,t)}}function k_(e){const t=w,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(ce(n,"addEventListener",function(r){return function(s,i,o){try{typeof i.handleEvent=="function"&&(i.handleEvent=Tt(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:ze(i),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[s,Tt(i,{mechanism:{data:{function:"addEventListener",handler:ze(i),target:e},handled:!1,type:"instrument"}}),o])}}),ce(n,"removeEventListener",function(r){return function(s,i,o){const a=i;try{const c=a&&a.__sentry_wrapped__;c&&r.call(this,s,c,o)}catch{}return r.call(this,s,a,o)}}))}const R_=[du(),pu(),Qu(),Bu(),Gu(),Ju(),Uu(),Ku()];function C_(e){return[...R_]}function x_(e={}){e.defaultIntegrations===void 0&&(e.defaultIntegrations=C_()),e.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(e.release=__SENTRY_RELEASE__),w.SENTRY_RELEASE&&w.SENTRY_RELEASE.id&&(e.release=w.SENTRY_RELEASE.id)),e.autoSessionTracking===void 0&&(e.autoSessionTracking=!0),e.sendClientReports===void 0&&(e.sendClientReports=!0);const t={...e,stackParser:Kd(e.stackParser||Yg),integrations:Bp(e),transport:e.transport||(pc()?Tg:wg)};lh(bg,t),e.autoSessionTracking&&A_()}const Ko=(e={},t=G())=>{if(!w.document){F&&m.error("Global document not defined in showReportDialog call");return}const{client:n,scope:r}=t.getStackTop(),s=e.dsn||n&&n.getDsn();if(!s){F&&m.error("DSN not configured for showReportDialog call");return}r&&(e.user={...r.getUser(),...e.user}),e.eventId||(e.eventId=t.lastEventId());const i=w.document.createElement("script");i.async=!0,i.crossOrigin="anonymous",i.src=$p(s,e),e.onLoad&&(i.onload=e.onLoad);const{onClose:o}=e;if(o){const c=u=>{if(u.data==="__sentry_reportdialog_closed__")try{o()}finally{w.removeEventListener("message",c)}};w.addEventListener("message",c)}const a=w.document.head||w.document.body;a?a.appendChild(i):F&&m.error("Not injecting report dialog. No injection point found in HTML")};function VT(){}function KT(e){e()}function XT(e){return Tt(e)()}function A_(){if(typeof w.document>"u"){F&&m.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}So({ignoreDuration:!0}),bo(),Dn(({from:e,to:t})=>{e!==void 0&&e!==t&&(So({ignoreDuration:!0}),bo())})}function JT(e){const t=x();t&&t.captureUserFeedback(e)}const M_=Object.freeze(Object.defineProperty({__proto__:null,Breadcrumbs:Kg,Dedupe:s_,GlobalHandlers:u_,HttpContext:g_,LinkedErrors:b_,TryCatch:T_},Symbol.toStringTag,{value:"Module"})),K=M,Ci="sentryReplaySession",O_="replay_event",xi="Unable to send Replay",N_=3e5,D_=9e5,L_=5e3,P_=5500,$_=6e4,F_=5e3,B_=3,Xo=15e4,rr=5e3,H_=3e3,U_=300,Ai=2e7,j_=4999,W_=15e3,Jo=36e5;function z_(e,t){return e??t()}function wr(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(t,...o)),t=void 0)}return n}var oe;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(oe||(oe={}));function G_(e){return e.nodeType===e.ELEMENT_NODE}function In(e){const t=wr([e,"optionalAccess",n=>n.host]);return wr([t,"optionalAccess",n=>n.shadowRoot])===e}function wn(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function q_(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),e}function Y_(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function kr(e){try{const t=e.rules||e.cssRules;return t?q_(Array.from(t,el).join("")):null}catch{return null}}function el(e){let t;if(K_(e))try{t=kr(e.styleSheet)||Y_(e)}catch{}else if(X_(e)&&e.selectorText.includes(":"))return V_(e.cssText);return t||e.cssText}function V_(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function K_(e){return"styleSheet"in e}function X_(e){return"selectorText"in e}class tl{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){if(!t)return-1;const n=wr([this,"access",r=>r.getMeta,"call",r=>r(t),"optionalAccess",r=>r.id]);return z_(n,()=>-1)}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const s=this.nodeMetaMap.get(r);s&&this.nodeMetaMap.set(n,s)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function J_(){return new tl}function Kr({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function Cn({isMasked:e,element:t,value:n,maskInputFn:r}){let s=n||"";return e?(r&&(s=r(s,t)),"*".repeat(s.length)):s}function Qt(e){return e.toLowerCase()}function Ks(e){return e.toUpperCase()}const Zo="__rrweb_original__";function Z_(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let s=0;s<e.height;s+=n){const i=t.getImageData,o=Zo in i?i[Zo]:i;if(new Uint32Array(o.call(t,r,s,Math.min(n,e.width-r),Math.min(n,e.height-s)).data.buffer).some(c=>c!==0))return!1}return!0}function Mi(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Qt(t):null}function Rr(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}let Q_=1;const ey=new RegExp("[^a-z0-9-_:]"),xn=-2;function Oi(){return Q_++}function ty(e){if(e instanceof HTMLFormElement)return"form";const t=Qt(e.tagName);return ey.test(t)?"div":t}function ny(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let Ot,Qo;const ry=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,sy=/^(?:[a-z+]+:)?\/\//i,iy=/^www\..*/i,oy=/^(data:)([^,]*),(.*)/i;function Cr(e,t){return(e||"").replace(ry,(n,r,s,i,o,a)=>{const c=s||o||a,u=r||i||"";if(!c)return n;if(sy.test(c)||iy.test(c))return`url(${u}${c}${u})`;if(oy.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${ny(t)+c}${u})`;const l=t.split("/"),d=c.split("/");l.pop();for(const f of d)f!=="."&&(f===".."?l.pop():l.push(f));return`url(${u}${l.join("/")}${u})`})}const ay=/^[^ \t\n\r\u000c]+/,cy=/^[, \t\n\r\u000c]+/;function uy(e,t){if(t.trim()==="")return t;let n=0;function r(i){let o;const a=i.exec(t.substring(n));return a?(o=a[0],n+=o.length,o):""}const s=[];for(;r(cy),!(n>=t.length);){let i=r(ay);if(i.slice(-1)===",")i=Ft(e,i.substring(0,i.length-1)),s.push(i);else{let o="";i=Ft(e,i);let a=!1;for(;;){const c=t.charAt(n);if(c===""){s.push((i+o).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,s.push((i+o).trim());break}else c==="("&&(a=!0);o+=c,n+=1}}}return s.join(", ")}function Ft(e,t){if(!t||t.trim()==="")return t;const n=e.createElement("a");return n.href=t,n.href}function ly(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function Ni(){const e=document.createElement("a");return e.href="",e.href}function nl(e,t,n,r,s,i){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?Ft(e,r):n==="srcset"?uy(e,r):n==="style"?Cr(r,Ni()):t==="object"&&n==="data"?Ft(e,r):typeof i=="function"?i(n,r,s):r)}function rl(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function dy(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let s=e.classList.length;s--;){const i=e.classList[s];if(t.test(i))return!0}if(n)return e.matches(n)}catch{}return!1}function fy(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function ft(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:ft(e.parentNode,t,n,r+1)}function Bt(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(fy(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function en(e,t,n,r,s,i){try{const o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(o===null)return!1;if(o.tagName==="INPUT"){const u=o.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,c=-1;if(i){if(c=ft(o,Bt(r,s)),c<0)return!0;a=ft(o,Bt(t,n),c>=0?c:1/0)}else{if(a=ft(o,Bt(t,n)),a<0)return!1;c=ft(o,Bt(r,s),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!i}catch{}return!!i}function py(e,t,n){const r=e.contentWindow;if(!r)return;let s=!1,i;try{i=r.document.readyState}catch{return}if(i!=="complete"){const a=setTimeout(()=>{s||(t(),s=!0)},n);e.addEventListener("load",()=>{clearTimeout(a),s=!0,t()});return}const o="about:blank";if(r.location.href!==o||e.src===o||e.src==="")return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function hy(e,t,n){let r=!1,s;try{s=e.sheet}catch{return}if(s)return;const i=setTimeout(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{clearTimeout(i),r=!0,t()})}function my(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,inlineStylesheet:p,maskInputOptions:h={},maskTextFn:_,maskInputFn:b,dataURLOptions:g={},inlineImages:S,recordCanvas:E,keepIframeSrcFn:T,newlyAddedElement:y=!1}=t,v=gy(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:oe.Document,childNodes:[],compatMode:e.compatMode}:{type:oe.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:oe.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:v};case e.ELEMENT_NODE:return yy(e,{doc:n,blockClass:s,blockSelector:i,unblockSelector:o,inlineStylesheet:p,maskAttributeFn:c,maskInputOptions:h,maskInputFn:b,dataURLOptions:g,inlineImages:S,recordCanvas:E,keepIframeSrcFn:T,newlyAddedElement:y,rootId:v,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f});case e.TEXT_NODE:return _y(e,{maskAllText:a,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,maskTextFn:_,maskInputOptions:h,maskInputFn:b,rootId:v});case e.CDATA_SECTION_NODE:return{type:oe.CDATA,textContent:"",rootId:v};case e.COMMENT_NODE:return{type:oe.Comment,textContent:e.textContent||"",rootId:v};default:return!1}}function gy(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function _y(e,t){const{maskAllText:n,maskTextClass:r,unmaskTextClass:s,maskTextSelector:i,unmaskTextSelector:o,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:l}=t,d=e.parentNode&&e.parentNode.tagName;let f=e.textContent;const p=d==="STYLE"?!0:void 0,h=d==="SCRIPT"?!0:void 0,_=d==="TEXTAREA"?!0:void 0;if(p&&f){try{e.nextSibling||e.previousSibling||wr([e,"access",g=>g.parentNode,"access",g=>g.sheet,"optionalAccess",g=>g.cssRules])&&(f=kr(e.parentNode.sheet))}catch(g){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${g}`,e)}f=Cr(f,Ni())}h&&(f="SCRIPT_PLACEHOLDER");const b=en(e,r,i,s,o,n);if(!p&&!h&&!_&&f&&b&&(f=a?a(f,e.parentElement):f.replace(/[\S]/g,"*")),_&&f&&(c.textarea||b)&&(f=u?u(f,e.parentNode):f.replace(/[\S]/g,"*")),d==="OPTION"&&f){const g=Kr({type:null,tagName:d,maskInputOptions:c});f=Cn({isMasked:en(e,r,i,s,o,g),element:e,value:f,maskInputFn:u})}return{type:oe.Text,textContent:f||"",isStyle:p,rootId:l}}function yy(e,t){const{doc:n,blockClass:r,blockSelector:s,unblockSelector:i,inlineStylesheet:o,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:l={},inlineImages:d,recordCanvas:f,keepIframeSrcFn:p,newlyAddedElement:h=!1,rootId:_,maskTextClass:b,unmaskTextClass:g,maskTextSelector:S,unmaskTextSelector:E}=t,T=dy(e,r,s,i),y=ty(e);let v={};const A=e.attributes.length;for(let k=0;k<A;k++){const C=e.attributes[k];C.name&&!rl(y,C.name,C.value)&&(v[C.name]=nl(n,y,Qt(C.name),C.value,e,c))}if(y==="link"&&o){const k=Array.from(n.styleSheets).find(L=>L.href===e.href);let C=null;k&&(C=kr(k)),C&&(delete v.rel,delete v.href,v._cssText=Cr(C,k.href))}if(y==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const k=kr(e.sheet);k&&(v._cssText=Cr(k,Ni()))}if(y==="input"||y==="textarea"||y==="select"||y==="option"){const k=e,C=Mi(k),L=Rr(k,Ks(y),C),X=k.checked;if(C!=="submit"&&C!=="button"&&L){const ie=en(k,b,S,g,E,Kr({type:C,tagName:Ks(y),maskInputOptions:a}));v.value=Cn({isMasked:ie,element:k,value:L,maskInputFn:u})}X&&(v.checked=X)}if(y==="option"&&(e.selected&&!a.select?v.selected=!0:delete v.selected),y==="canvas"&&f){if(e.__context==="2d")Z_(e)||(v.rr_dataURL=e.toDataURL(l.type,l.quality));else if(!("__context"in e)){const k=e.toDataURL(l.type,l.quality),C=document.createElement("canvas");C.width=e.width,C.height=e.height;const L=C.toDataURL(l.type,l.quality);k!==L&&(v.rr_dataURL=k)}}if(y==="img"&&d){Ot||(Ot=n.createElement("canvas"),Qo=Ot.getContext("2d"));const k=e,C=k.crossOrigin;k.crossOrigin="anonymous";const L=()=>{k.removeEventListener("load",L);try{Ot.width=k.naturalWidth,Ot.height=k.naturalHeight,Qo.drawImage(k,0,0),v.rr_dataURL=Ot.toDataURL(l.type,l.quality)}catch(X){console.warn(`Cannot inline img src=${k.currentSrc}! Error: ${X}`)}C?v.crossOrigin=C:k.removeAttribute("crossorigin")};k.complete&&k.naturalWidth!==0?L():k.addEventListener("load",L)}if((y==="audio"||y==="video")&&(v.rr_mediaState=e.paused?"paused":"played",v.rr_mediaCurrentTime=e.currentTime),h||(e.scrollLeft&&(v.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(v.rr_scrollTop=e.scrollTop)),T){const{width:k,height:C}=e.getBoundingClientRect();v={class:v.class,rr_width:`${k}px`,rr_height:`${C}px`}}y==="iframe"&&!p(v.src)&&(e.contentDocument||(v.rr_src=v.src),delete v.src);let O;try{customElements.get(y)&&(O=!0)}catch{}return{type:oe.Element,tagName:y,attributes:v,childNodes:[],isSVG:ly(e)||void 0,needBlock:T,rootId:_,isCustom:O}}function V(e){return e==null?"":e.toLowerCase()}function Sy(e,t){if(t.comment&&e.type===oe.Comment)return!0;if(e.type===oe.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")&&e.attributes.as==="script"||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&e.attributes.href.endsWith(".js")))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(V(e.attributes.name).match(/^msapplication-tile(image|color)$/)||V(e.attributes.name)==="application-name"||V(e.attributes.rel)==="icon"||V(e.attributes.rel)==="apple-touch-icon"||V(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&V(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(V(e.attributes.property).match(/^(og|twitter|fb):/)||V(e.attributes.name).match(/^(og|twitter):/)||V(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(V(e.attributes.name)==="robots"||V(e.attributes.name)==="googlebot"||V(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(V(e.attributes.name)==="author"||V(e.attributes.name)==="generator"||V(e.attributes.name)==="framework"||V(e.attributes.name)==="publisher"||V(e.attributes.name)==="progid"||V(e.attributes.property).match(/^article:/)||V(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(V(e.attributes.name)==="google-site-verification"||V(e.attributes.name)==="yandex-verification"||V(e.attributes.name)==="csrf-token"||V(e.attributes.name)==="p:domain_verify"||V(e.attributes.name)==="verify-v1"||V(e.attributes.name)==="verification"||V(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function Ht(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:f=!1,inlineStylesheet:p=!0,maskInputOptions:h={},maskAttributeFn:_,maskTextFn:b,maskInputFn:g,slimDOMOptions:S,dataURLOptions:E={},inlineImages:T=!1,recordCanvas:y=!1,onSerialize:v,onIframeLoad:A,iframeLoadTimeout:O=5e3,onStylesheetLoad:k,stylesheetLoadTimeout:C=5e3,keepIframeSrcFn:L=()=>!1,newlyAddedElement:X=!1}=t;let{preserveWhiteSpace:ie=!0}=t;const le=my(e,{doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:a,unblockSelector:o,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:_,maskTextFn:b,maskInputFn:g,dataURLOptions:E,inlineImages:T,recordCanvas:y,keepIframeSrcFn:L,newlyAddedElement:X});if(!le)return console.warn(e,"not serialized"),null;let ge;r.hasNode(e)?ge=r.getId(e):Sy(le,S)||!ie&&le.type===oe.Text&&!le.isStyle&&!le.textContent.replace(/^\s+|\s+$/gm,"").length?ge=xn:ge=Oi();const q=Object.assign(le,{id:ge});if(r.add(e,q),ge===xn)return null;v&&v(e);let Ee=!f;if(q.type===oe.Element){Ee=Ee&&!q.needBlock,delete q.needBlock;const ne=e.shadowRoot;ne&&wn(ne)&&(q.isShadowHost=!0)}if((q.type===oe.Document||q.type===oe.Element)&&Ee){S.headWhitespace&&q.type===oe.Element&&q.tagName==="head"&&(ie=!1);const ne={doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:a,unblockSelector:o,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:f,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:_,maskTextFn:b,maskInputFn:g,slimDOMOptions:S,dataURLOptions:E,inlineImages:T,recordCanvas:y,preserveWhiteSpace:ie,onSerialize:v,onIframeLoad:A,iframeLoadTimeout:O,onStylesheetLoad:k,stylesheetLoadTimeout:C,keepIframeSrcFn:L};for(const me of Array.from(e.childNodes)){const ve=Ht(me,ne);ve&&q.childNodes.push(ve)}if(G_(e)&&e.shadowRoot)for(const me of Array.from(e.shadowRoot.childNodes)){const ve=Ht(me,ne);ve&&(wn(e.shadowRoot)&&(ve.isShadow=!0),q.childNodes.push(ve))}}return e.parentNode&&In(e.parentNode)&&wn(e.parentNode)&&(q.isShadow=!0),q.type===oe.Element&&q.tagName==="iframe"&&py(e,()=>{const ne=e.contentDocument;if(ne&&A){const me=Ht(ne,{doc:ne,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:_,maskTextFn:b,maskInputFn:g,slimDOMOptions:S,dataURLOptions:E,inlineImages:T,recordCanvas:y,preserveWhiteSpace:ie,onSerialize:v,onIframeLoad:A,iframeLoadTimeout:O,onStylesheetLoad:k,stylesheetLoadTimeout:C,keepIframeSrcFn:L});me&&A(e,me)}},O),q.type===oe.Element&&q.tagName==="link"&&q.attributes.rel==="stylesheet"&&hy(e,()=>{if(k){const ne=Ht(e,{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:_,maskTextFn:b,maskInputFn:g,slimDOMOptions:S,dataURLOptions:E,inlineImages:T,recordCanvas:y,preserveWhiteSpace:ie,onSerialize:v,onIframeLoad:A,iframeLoadTimeout:O,onStylesheetLoad:k,stylesheetLoadTimeout:C,keepIframeSrcFn:L});ne&&k(e,ne)}},C),q}function by(e,t){const{mirror:n=new tl,blockClass:r="rr-block",blockSelector:s=null,unblockSelector:i=null,maskAllText:o=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:l=null,inlineStylesheet:d=!0,inlineImages:f=!1,recordCanvas:p=!1,maskAllInputs:h=!1,maskAttributeFn:_,maskTextFn:b,maskInputFn:g,slimDOM:S=!1,dataURLOptions:E,preserveWhiteSpace:T,onSerialize:y,onIframeLoad:v,iframeLoadTimeout:A,onStylesheetLoad:O,stylesheetLoadTimeout:k,keepIframeSrcFn:C=()=>!1}=t||{};return Ht(e,{doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,maskAllText:o,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:d,maskInputOptions:h===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:h===!1?{}:h,maskAttributeFn:_,maskTextFn:b,maskInputFn:g,slimDOMOptions:S===!0||S==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:S==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:S===!1?{}:S,dataURLOptions:E,inlineImages:f,recordCanvas:p,preserveWhiteSpace:T,onSerialize:y,onIframeLoad:v,iframeLoadTimeout:A,onStylesheetLoad:O,stylesheetLoadTimeout:k,keepIframeSrcFn:C,newlyAddedElement:!1})}function Ve(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(t,...o)),t=void 0)}return n}function he(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const Lt=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let ea={map:{},getId(){return console.error(Lt),-1},getNode(){return console.error(Lt),null},removeNodeFromMap(){console.error(Lt)},has(){return console.error(Lt),!1},reset(){console.error(Lt)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(ea=new Proxy(ea,{get(e,t,n){return t==="map"&&console.error(Lt),Reflect.get(e,t,n)}}));function An(e,t,n={}){let r=null,s=0;return function(...i){const o=Date.now();!s&&n.leading===!1&&(s=o);const a=t-(o-s),c=this;a<=0||a>t?(r&&(Ry(r),r=null),s=o,e.apply(c,i)):!r&&n.trailing!==!1&&(r=Xr(()=>{s=n.leading===!1?0:Date.now(),r=null,e.apply(c,i)},a))}}function sl(e,t,n,r,s=window){const i=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(o){Xr(()=>{n.set.call(this,o)},0),i&&i.set&&i.set.call(this,o)}}),()=>sl(e,t,i||{},!0)}function Di(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch{return()=>{}}}let xr=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(xr=()=>new Date().getTime());function il(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:Ve([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollLeft])||Ve([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollLeft])||Ve([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:Ve([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollTop])||Ve([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollTop])||Ve([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollTop])||0}}function ol(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function al(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function cl(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function ke(e,t,n,r,s){if(!e)return!1;const i=cl(e);if(!i)return!1;const o=Bt(t,n);if(!s){const u=r&&i.matches(r);return o(i)&&!u}const a=ft(i,o);let c=-1;return a<0?!1:(r&&(c=ft(i,Bt(null,r))),a>-1&&c<0?!0:a<c)}function Ey(e,t){return t.getId(e)!==-1}function Ss(e,t){return t.getId(e)===xn}function ul(e,t){if(In(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?ul(e.parentNode,t):!0:!0}function Xs(e){return!!e.changedTouches}function vy(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function ll(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function dl(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function Js(e){return!!Ve([e,"optionalAccess",t=>t.shadowRoot])}class Ty{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return Kf(this.styleIDMap.get(t),()=>-1)}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function fl(e){let t=null;return Ve([e,"access",n=>n.getRootNode,"optionalCall",n=>n(),"optionalAccess",n=>n.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function Iy(e){let t=e,n;for(;n=fl(t);)t=n;return t}function wy(e){const t=e.ownerDocument;if(!t)return!1;const n=Iy(e);return t.contains(n)}function pl(e){const t=e.ownerDocument;return t?t.contains(e)||wy(e):!1}const ta={};function Li(e){const t=ta[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const i=s.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(s)}catch{}return ta[e]=r.bind(window)}function ky(...e){return Li("requestAnimationFrame")(...e)}function Xr(...e){return Li("setTimeout")(...e)}function Ry(...e){return Li("clearTimeout")(...e)}var N=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(N||{}),D=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(D||{}),fe=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(fe||{}),$e=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))($e||{});function Cy(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(t,...o)),t=void 0)}return n}function na(e){return"__ln"in e}class xy{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=Cy([n,"optionalAccess",s=>s.next])||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&na(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&na(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const ra=(e,t)=>`${e}@${t}`;class Ay{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,r=new xy,s=c=>{let u=c,l=xn;for(;l===xn;)u=u&&u.nextSibling,l=u&&this.mirror.getId(u);return l},i=c=>{if(!c.parentNode||!pl(c))return;const u=In(c.parentNode)?this.mirror.getId(fl(c)):this.mirror.getId(c.parentNode),l=s(c);if(u===-1||l===-1)return r.addNode(c);const d=Ht(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:f=>{ll(f,this.mirror)&&this.iframeManager.addIframe(f),dl(f,this.mirror)&&this.stylesheetManager.trackLinkElement(f),Js(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(f,p)=>{this.iframeManager.attachIframe(f,p),this.shadowDomManager.observeAttachShadow(f)},onStylesheetLoad:(f,p)=>{this.stylesheetManager.attachLinkElement(f,p)}});d&&(t.push({parentId:u,nextId:l,node:d}),n.add(d.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const c of this.movedSet)sa(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||i(c);for(const c of this.addedSet)!ia(this.droppedSet,c)&&!sa(this.removes,c,this.mirror)||ia(this.movedSet,c)?i(c):this.droppedSet.add(c);let o=null;for(;r.length;){let c=null;if(o){const u=this.mirror.getId(o.value.parentNode),l=s(o.value);u!==-1&&l!==-1&&(c=o)}if(!c){let u=r.tail;for(;u;){const l=u;if(u=u.previous,l){const d=this.mirror.getId(l.value.parentNode);if(s(l.value)===-1)continue;if(d!==-1){c=l;break}else{const p=l.value;if(p.parentNode&&p.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const h=p.parentNode.host;if(this.mirror.getId(h)!==-1){c=l;break}}}}}}if(!c){for(;r.head;)r.removeNode(r.head.value);break}o=c.previous,r.removeNode(c.value),i(c.value)}const a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{const{attributes:u}=c;if(typeof u.style=="string"){const l=JSON.stringify(c.styleDiff),d=JSON.stringify(c._unchangedStyles);l.length<u.style.length&&(l+d).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!Ss(t.target,this.mirror))switch(t.type){case"characterData":{const n=t.target.textContent;!ke(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:en(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,cl(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const n=t.target;let r=t.attributeName,s=t.target.getAttribute(r);if(r==="value"){const o=Mi(n),a=n.tagName;s=Rr(n,a,o);const c=Kr({maskInputOptions:this.maskInputOptions,tagName:a,type:o}),u=en(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,c);s=Cn({isMasked:u,element:n,value:s,maskInputFn:this.maskInputFn})}if(ke(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||s===t.oldValue)return;let i=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(s))if(!n.contentDocument)r="rr_src";else return;if(i||(i={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(t.target,i)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!rl(n.tagName,r)&&(i.attributes[r]=nl(this.doc,Qt(n.tagName),Qt(r),s,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const o=this.unattachedDoc.createElement("span");t.oldValue&&o.setAttribute("style",t.oldValue);for(const a of Array.from(n.style)){const c=n.style.getPropertyValue(a),u=n.style.getPropertyPriority(a);c!==o.style.getPropertyValue(a)||u!==o.style.getPropertyPriority(a)?u===""?i.styleDiff[a]=c:i.styleDiff[a]=[c,u]:i._unchangedStyles[a]=[c,u]}for(const a of Array.from(o.style))n.style.getPropertyValue(a)===""&&(i.styleDiff[a]=!1)}break}case"childList":{if(ke(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{const r=this.mirror.getId(n),s=In(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);ke(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Ss(n,this.mirror)||!Ey(n,this.mirror)||(this.addedSet.has(n)?(Zs(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||ul(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[ra(r,s)]?Zs(this.movedSet,n):this.removes.push({parentId:s,id:r,isShadow:In(t.target)&&wn(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(Ss(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[ra(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);ke(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(r=>this.genAdds(r)),Js(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Zs(e,t){e.delete(t),t.childNodes.forEach(n=>Zs(e,n))}function sa(e,t,n){return e.length===0?!1:hl(e,t,n)}function hl(e,t,n){const{parentNode:r}=t;if(!r)return!1;const s=n.getId(r);return e.some(i=>i.id===s)?!0:hl(e,r,n)}function ia(e,t){return e.size===0?!1:ml(e,t)}function ml(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:ml(e,n):!1}let kn;function My(e){kn=e}function Oy(){kn=void 0}const $=e=>kn?((...n)=>{try{return e(...n)}catch(r){if(kn&&kn(r)===!0)return()=>{};throw r}}):e;function Me(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(t,...o)),t=void 0)}return n}const Ut=[];function Gn(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function gl(e,t){const n=new Ay;Ut.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const s=Me([window,"optionalAccess",o=>o.Zone,"optionalAccess",o=>o.__symbol__,"optionalCall",o=>o("MutationObserver")]);s&&window[s]&&(r=window[s]);const i=new r($(o=>{e.onMutation&&e.onMutation(o)===!1||n.processMutations.bind(n)(o)}));return i.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function Ny({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const s=typeof t.mousemove=="number"?t.mousemove:50,i=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let o=[],a;const c=An($(d=>{const f=Date.now()-a;e(o.map(p=>(p.timeOffset-=f,p)),d),o=[],a=null}),i),u=$(An($(d=>{const f=Gn(d),{clientX:p,clientY:h}=Xs(d)?d.changedTouches[0]:d;a||(a=xr()),o.push({x:p,y:h,id:r.getId(f),timeOffset:xr()-a}),c(typeof DragEvent<"u"&&d instanceof DragEvent?D.Drag:d instanceof MouseEvent?D.MouseMove:D.TouchMove)}),s,{trailing:!1})),l=[he("mousemove",u,n),he("touchmove",u,n),he("drag",u,n)];return $(()=>{l.forEach(d=>d())})}function Dy({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:o}){if(o.mouseInteraction===!1)return()=>{};const a=o.mouseInteraction===!0||o.mouseInteraction===void 0?{}:o.mouseInteraction,c=[];let u=null;const l=d=>f=>{const p=Gn(f);if(ke(p,r,s,i,!0))return;let h=null,_=d;if("pointerType"in f){switch(f.pointerType){case"mouse":h=$e.Mouse;break;case"touch":h=$e.Touch;break;case"pen":h=$e.Pen;break}h===$e.Touch?fe[d]===fe.MouseDown?_="TouchStart":fe[d]===fe.MouseUp&&(_="TouchEnd"):$e.Pen}else Xs(f)&&(h=$e.Touch);h!==null?(u=h,(_.startsWith("Touch")&&h===$e.Touch||_.startsWith("Mouse")&&h===$e.Mouse)&&(h=null)):fe[d]===fe.Click&&(h=u,u=null);const b=Xs(f)?f.changedTouches[0]:f;if(!b)return;const g=n.getId(p),{clientX:S,clientY:E}=b;$(e)({type:fe[_],id:g,x:S,y:E,...h!==null&&{pointerType:h}})};return Object.keys(fe).filter(d=>Number.isNaN(Number(d))&&!d.endsWith("_Departed")&&a[d]!==!1).forEach(d=>{let f=Qt(d);const p=l(d);if(window.PointerEvent)switch(fe[d]){case fe.MouseDown:case fe.MouseUp:f=f.replace("mouse","pointer");break;case fe.TouchStart:case fe.TouchEnd:return}c.push(he(f,p,t))}),$(()=>{c.forEach(d=>d())})}function _l({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:o}){const a=$(An($(c=>{const u=Gn(c);if(!u||ke(u,r,s,i,!0))return;const l=n.getId(u);if(u===t&&t.defaultView){const d=il(t.defaultView);e({id:l,x:d.left,y:d.top})}else e({id:l,x:u.scrollLeft,y:u.scrollTop})}),o.scroll||100));return he("scroll",a,t)}function Ly({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const s=$(An($(()=>{const i=ol(),o=al();(n!==i||r!==o)&&(e({width:Number(o),height:Number(i)}),n=i,r=o)}),200));return he("resize",s,t)}const Py=["INPUT","TEXTAREA","SELECT"],oa=new WeakMap;function $y({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,ignoreClass:o,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:l,userTriggeredOnInput:d,maskTextClass:f,unmaskTextClass:p,maskTextSelector:h,unmaskTextSelector:_}){function b(A){let O=Gn(A);const k=A.isTrusted,C=O&&Ks(O.tagName);if(C==="OPTION"&&(O=O.parentElement),!O||!C||Py.indexOf(C)<0||ke(O,r,s,i,!0))return;const L=O;if(L.classList.contains(o)||a&&L.matches(a))return;const X=Mi(O);let ie=Rr(L,C,X),le=!1;const ge=Kr({maskInputOptions:c,tagName:C,type:X}),q=en(O,f,h,p,_,ge);(X==="radio"||X==="checkbox")&&(le=O.checked),ie=Cn({isMasked:q,element:O,value:ie,maskInputFn:u}),g(O,d?{text:ie,isChecked:le,userTriggered:k}:{text:ie,isChecked:le});const Ee=O.name;X==="radio"&&Ee&&le&&t.querySelectorAll(`input[type="radio"][name="${Ee}"]`).forEach(ne=>{if(ne!==O){const me=Cn({isMasked:q,element:ne,value:Rr(ne,C,X),maskInputFn:u});g(ne,d?{text:me,isChecked:!le,userTriggered:!1}:{text:me,isChecked:!le})}})}function g(A,O){const k=oa.get(A);if(!k||k.text!==O.text||k.isChecked!==O.isChecked){oa.set(A,O);const C=n.getId(A);$(e)({...O,id:C})}}const E=(l.input==="last"?["change"]:["input","change"]).map(A=>he(A,$(b),t)),T=t.defaultView;if(!T)return()=>{E.forEach(A=>A())};const y=T.Object.getOwnPropertyDescriptor(T.HTMLInputElement.prototype,"value"),v=[[T.HTMLInputElement.prototype,"value"],[T.HTMLInputElement.prototype,"checked"],[T.HTMLSelectElement.prototype,"value"],[T.HTMLTextAreaElement.prototype,"value"],[T.HTMLSelectElement.prototype,"selectedIndex"],[T.HTMLOptionElement.prototype,"selected"]];return y&&y.set&&E.push(...v.map(A=>sl(A[0],A[1],{set(){$(b)({target:this,isTrusted:!1})}},!1,T))),$(()=>{E.forEach(A=>A())})}function Ar(e){const t=[];function n(r,s){if(sr("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||sr("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||sr("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||sr("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const o=Array.from(r.parentRule.cssRules).indexOf(r);s.unshift(o)}else if(r.parentStyleSheet){const o=Array.from(r.parentStyleSheet.cssRules).indexOf(r);s.unshift(o)}return s}return n(e,t)}function Ke(e,t,n){let r,s;return e?(e.ownerNode?r=t.getId(e.ownerNode):s=n.getId(e),{styleId:s,id:r}):{}}function Fy({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const s=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:$((l,d,f)=>{const[p,h]=f,{id:_,styleId:b}=Ke(d,t,n.styleMirror);return(_&&_!==-1||b&&b!==-1)&&e({id:_,styleId:b,adds:[{rule:p,index:h}]}),l.apply(d,f)})});const i=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:$((l,d,f)=>{const[p]=f,{id:h,styleId:_}=Ke(d,t,n.styleMirror);return(h&&h!==-1||_&&_!==-1)&&e({id:h,styleId:_,removes:[{index:p}]}),l.apply(d,f)})});let o;r.CSSStyleSheet.prototype.replace&&(o=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:$((l,d,f)=>{const[p]=f,{id:h,styleId:_}=Ke(d,t,n.styleMirror);return(h&&h!==-1||_&&_!==-1)&&e({id:h,styleId:_,replace:p}),l.apply(d,f)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:$((l,d,f)=>{const[p]=f,{id:h,styleId:_}=Ke(d,t,n.styleMirror);return(h&&h!==-1||_&&_!==-1)&&e({id:h,styleId:_,replaceSync:p}),l.apply(d,f)})}));const c={};ir("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(ir("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),ir("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),ir("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(c).forEach(([l,d])=>{u[l]={insertRule:d.prototype.insertRule,deleteRule:d.prototype.deleteRule},d.prototype.insertRule=new Proxy(u[l].insertRule,{apply:$((f,p,h)=>{const[_,b]=h,{id:g,styleId:S}=Ke(p.parentStyleSheet,t,n.styleMirror);return(g&&g!==-1||S&&S!==-1)&&e({id:g,styleId:S,adds:[{rule:_,index:[...Ar(p),b||0]}]}),f.apply(p,h)})}),d.prototype.deleteRule=new Proxy(u[l].deleteRule,{apply:$((f,p,h)=>{const[_]=h,{id:b,styleId:g}=Ke(p.parentStyleSheet,t,n.styleMirror);return(b&&b!==-1||g&&g!==-1)&&e({id:b,styleId:g,removes:[{index:[...Ar(p),_]}]}),f.apply(p,h)})})}),$(()=>{r.CSSStyleSheet.prototype.insertRule=s,r.CSSStyleSheet.prototype.deleteRule=i,o&&(r.CSSStyleSheet.prototype.replace=o),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([l,d])=>{d.prototype.insertRule=u[l].insertRule,d.prototype.deleteRule=u[l].deleteRule})})}function yl({mirror:e,stylesheetManager:t},n){let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);const s=n.nodeName==="#document"?Me([n,"access",o=>o.defaultView,"optionalAccess",o=>o.Document]):Me([n,"access",o=>o.ownerDocument,"optionalAccess",o=>o.defaultView,"optionalAccess",o=>o.ShadowRoot]),i=Me([s,"optionalAccess",o=>o.prototype])?Object.getOwnPropertyDescriptor(Me([s,"optionalAccess",o=>o.prototype]),"adoptedStyleSheets"):void 0;return r===null||r===-1||!s||!i?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){return Me([i,"access",o=>o.get,"optionalAccess",o=>o.call,"call",o=>o(this)])},set(o){const a=Me([i,"access",c=>c.set,"optionalAccess",c=>c.call,"call",c=>c(this,o)]);if(r!==null&&r!==-1)try{t.adoptStyleSheets(o,r)}catch{}return a}}),$(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})}))}function By({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:s}){const i=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:$((a,c,u)=>{const[l,d,f]=u;if(n.has(l))return i.apply(c,[l,d,f]);const{id:p,styleId:h}=Ke(Me([c,"access",_=>_.parentRule,"optionalAccess",_=>_.parentStyleSheet]),t,r.styleMirror);return(p&&p!==-1||h&&h!==-1)&&e({id:p,styleId:h,set:{property:l,value:d,priority:f},index:Ar(c.parentRule)}),a.apply(c,u)})});const o=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:$((a,c,u)=>{const[l]=u;if(n.has(l))return o.apply(c,[l]);const{id:d,styleId:f}=Ke(Me([c,"access",p=>p.parentRule,"optionalAccess",p=>p.parentStyleSheet]),t,r.styleMirror);return(d&&d!==-1||f&&f!==-1)&&e({id:d,styleId:f,remove:{property:l},index:Ar(c.parentRule)}),a.apply(c,u)})}),$(()=>{s.CSSStyleDeclaration.prototype.setProperty=i,s.CSSStyleDeclaration.prototype.removeProperty=o})}function Hy({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:s,sampling:i,doc:o}){const a=$(u=>An($(l=>{const d=Gn(l);if(!d||ke(d,t,n,r,!0))return;const{currentTime:f,volume:p,muted:h,playbackRate:_}=d;e({type:u,id:s.getId(d),currentTime:f,volume:p,muted:h,playbackRate:_})}),i.media||500)),c=[he("play",a(0),o),he("pause",a(1),o),he("seeked",a(2),o),he("volumechange",a(3),o),he("ratechange",a(4),o)];return $(()=>{c.forEach(u=>u())})}function Uy({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],s=new WeakMap,i=n.FontFace;n.FontFace=function(c,u,l){const d=new i(c,u,l);return s.set(d,{family:c,buffer:typeof u!="string",descriptors:l,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),d};const o=Di(t.fonts,"add",function(a){return function(c){return Xr($(()=>{const u=s.get(c);u&&(e(u),s.delete(c))}),0),a.apply(this,[c])}});return r.push(()=>{n.FontFace=i}),r.push(o),$(()=>{r.forEach(a=>a())})}function jy(e){const{doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,selectionCb:o}=e;let a=!0;const c=$(()=>{const u=t.getSelection();if(!u||a&&Me([u,"optionalAccess",f=>f.isCollapsed]))return;a=u.isCollapsed||!1;const l=[],d=u.rangeCount||0;for(let f=0;f<d;f++){const p=u.getRangeAt(f),{startContainer:h,startOffset:_,endContainer:b,endOffset:g}=p;ke(h,r,s,i,!0)||ke(b,r,s,i,!0)||l.push({start:n.getId(h),startOffset:_,end:n.getId(b),endOffset:g})}o({ranges:l})});return c(),he("selectionchange",c)}function Wy({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:Di(n.customElements,"define",function(s){return function(i,o,a){try{t({define:{name:i}})}catch{}return s.apply(this,[i,o,a])}})}function zy(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};const r=gl(e,e.doc),s=Ny(e),i=Dy(e),o=_l(e),a=Ly(e,{win:n}),c=$y(e),u=Hy(e),l=Fy(e,{win:n}),d=yl(e,e.doc),f=By(e,{win:n}),p=e.collectFonts?Uy(e):()=>{},h=jy(e),_=Wy(e),b=[];for(const g of e.plugins)b.push(g.observer(g.callback,n,g.options));return $(()=>{Ut.forEach(g=>g.reset()),r.disconnect(),s(),i(),o(),a(),c(),u(),l(),d(),f(),p(),h(),_(),b.forEach(g=>g())})}function sr(e){return typeof window[e]<"u"}function ir(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class Qs{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,s){const i=r||this.getIdToRemoteIdMap(t),o=s||this.getRemoteIdToIdMap(t);let a=i.get(n);return a||(a=this.generateIdFn(),i.set(n,a),o.set(a,n)),a}getIds(t,n){const r=this.getIdToRemoteIdMap(t),s=this.getRemoteIdToIdMap(t);return n.map(i=>this.getId(t,i,r,s))}getRemoteId(t,n,r){const s=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const i=s.get(n);return i||-1}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(s=>this.getRemoteId(t,s,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}function aa(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(t,...o)),t=void 0)}return n}class Gy{constructor(){this.crossOriginIframeMirror=new Qs(Oi),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class qy{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Qs(Oi),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Qs(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),aa([this,"access",r=>r.loadListener,"optionalCall",r=>r(t)]),t.contentDocument&&t.contentDocument.adoptedStyleSheets&&t.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets,this.mirror.getId(t.contentDocument))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const s=this.crossOriginIframeMap.get(t.source);if(!s)return;const i=this.transformCrossOriginEvent(s,n.data.event);i&&this.wrappedEmit(i,n.data.isCheckout)}transformCrossOriginEvent(t,n){switch(n.type){case N.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:N.IncrementalSnapshot,data:{source:D.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case N.Meta:case N.Load:case N.DomContentLoaded:return!1;case N.Plugin:return n;case N.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case N.IncrementalSnapshot:switch(n.data.source){case D.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,t);const s=this.crossOriginIframeRootIdMap.get(t);s&&this.patchRootIdOnNode(r.node,s)}),n.data.removes.forEach(r=>{this.replaceIds(r,t,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,t,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case D.Drag:case D.TouchMove:case D.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case D.ViewportResize:return!1;case D.MediaInteraction:case D.MouseInteraction:case D.Scroll:case D.CanvasMutation:case D.Input:return this.replaceIds(n.data,t,["id"]),n;case D.StyleSheetRule:case D.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case D.Font:return n;case D.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,t,["start","end"])}),n;case D.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),aa([n,"access",r=>r.data,"access",r=>r.styles,"optionalAccess",r=>r.forEach,"call",r=>r(s=>{this.replaceStyleIds(s,t,["styleId"])})]),n}}return!1}replace(t,n,r,s){for(const i of s)!Array.isArray(n[i])&&typeof n[i]!="number"||(Array.isArray(n[i])?n[i]=t.getIds(r,n[i]):n[i]=t.getId(r,n[i]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==oe.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class Yy{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class Vy{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!wn(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t);const r=gl({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(_l({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),Xr(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(yl({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){!t.contentWindow||!t.contentDocument||this.patchAttachShadow(t.contentWindow.Element,t.contentDocument)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(Di(t.prototype,"attachShadow",function(s){return function(i){const o=s.call(this,i);return this.shadowRoot&&pl(this)&&r.addShadowRoot(this.shadowRoot,n),o}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}class ca{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}}class Ky{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new Ty,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const r={id:n,styleIds:[]},s=[];for(const i of t){let o;this.styleMirror.has(i)?o=this.styleMirror.getId(i):(o=this.styleMirror.add(i),s.push({styleId:o,rules:Array.from(i.rules||CSSRule,(a,c)=>({rule:el(a),index:c}))})),r.styleIds.push(o)}s.length>0&&(r.styles=s),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class Xy{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){ky(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(s=>s!==n)}add(t,n){this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}let Q,Mr;const Ie=J_();function Qe(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:s="rr-block",blockSelector:i=null,unblockSelector:o=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:l="rr-mask",unmaskTextClass:d=null,maskTextSelector:f=null,unmaskTextSelector:p=null,inlineStylesheet:h=!0,maskAllInputs:_,maskInputOptions:b,slimDOMOptions:g,maskAttributeFn:S,maskInputFn:E,maskTextFn:T,maxCanvasSize:y=null,packFn:v,sampling:A={},dataURLOptions:O={},mousemoveWait:k,recordCanvas:C=!1,recordCrossOriginIframes:L=!1,recordAfter:X=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:ie=!1,collectFonts:le=!1,inlineImages:ge=!1,plugins:q,keepIframeSrcFn:Ee=()=>!1,ignoreCSSAttributes:ne=new Set([]),errorHandler:me,onMutation:ve,getCanvasManager:is}=e;My(me);const xt=L?window.parent===window:!0;let Ye=!1;if(!xt)try{window.parent.document&&(Ye=!1)}catch{Ye=!0}if(xt&&!t)throw new Error("emit function is required");k!==void 0&&A.mousemove===void 0&&(A.mousemove=k),Ie.reset();const At=_===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:b!==void 0?b:{},mn=g===!0||g==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:g==="all",headMetaDescKeywords:g==="all"}:g||{};vy();let os,as=0;const Ki=U=>{for(const Te of q||[])Te.eventProcessor&&(U=Te.eventProcessor(U));return v&&!Ye&&(U=v(U)),U};Q=(U,Te)=>{const B=U;if(B.timestamp=xr(),dr([Ut,"access",Z=>Z[0],"optionalAccess",Z=>Z.isFrozen,"call",Z=>Z()])&&B.type!==N.FullSnapshot&&!(B.type===N.IncrementalSnapshot&&B.data.source===D.Mutation)&&Ut.forEach(Z=>Z.unfreeze()),xt)dr([t,"optionalCall",Z=>Z(Ki(B),Te)]);else if(Ye){const Z={type:"rrweb",event:Ki(B),origin:window.location.origin,isCheckout:Te};window.parent.postMessage(Z,"*")}if(B.type===N.FullSnapshot)os=B,as=0;else if(B.type===N.IncrementalSnapshot){if(B.data.source===D.Mutation&&B.data.isAttachIframe)return;as++;const Z=r&&as>=r,j=n&&os&&B.timestamp-os.timestamp>n;(Z||j)&&us(!0)}};const Yn=U=>{Q({type:N.IncrementalSnapshot,data:{source:D.Mutation,...U}})},Xi=U=>Q({type:N.IncrementalSnapshot,data:{source:D.Scroll,...U}}),xd=U=>Q({type:N.IncrementalSnapshot,data:{source:D.CanvasMutation,...U}}),Ad=U=>Q({type:N.IncrementalSnapshot,data:{source:D.AdoptedStyleSheet,...U}}),ot=new Ky({mutationCb:Yn,adoptedStyleSheetCb:Ad}),at=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new Gy:new qy({mirror:Ie,mutationCb:Yn,stylesheetManager:ot,recordCrossOriginIframes:L,wrappedEmit:Q});for(const U of q||[])U.getMirror&&U.getMirror({nodeMirror:Ie,crossOriginIframeMirror:at.crossOriginIframeMirror,crossOriginIframeStyleMirror:at.crossOriginIframeStyleMirror});const cs=new Xy,Ji=Zy(is,{mirror:Ie,win:window,mutationCb:U=>Q({type:N.IncrementalSnapshot,data:{source:D.CanvasMutation,...U}}),recordCanvas:C,blockClass:s,blockSelector:i,unblockSelector:o,maxCanvasSize:y,sampling:A.canvas,dataURLOptions:O,errorHandler:me}),Vn=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new Yy:new Vy({mutationCb:Yn,scrollCb:Xi,bypassOptions:{onMutation:ve,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:h,maskInputOptions:At,dataURLOptions:O,maskAttributeFn:S,maskTextFn:T,maskInputFn:E,recordCanvas:C,inlineImages:ge,sampling:A,slimDOMOptions:mn,iframeManager:at,stylesheetManager:ot,canvasManager:Ji,keepIframeSrcFn:Ee,processedNodeManager:cs},mirror:Ie}),us=(U=!1)=>{Q({type:N.Meta,data:{href:window.location.href,width:al(),height:ol()}},U),ot.reset(),Vn.init(),Ut.forEach(B=>B.lock());const Te=by(document,{mirror:Ie,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:h,maskAllInputs:At,maskAttributeFn:S,maskInputFn:E,maskTextFn:T,slimDOM:mn,dataURLOptions:O,recordCanvas:C,inlineImages:ge,onSerialize:B=>{ll(B,Ie)&&at.addIframe(B),dl(B,Ie)&&ot.trackLinkElement(B),Js(B)&&Vn.addShadowRoot(B.shadowRoot,document)},onIframeLoad:(B,Z)=>{at.attachIframe(B,Z),Vn.observeAttachShadow(B)},onStylesheetLoad:(B,Z)=>{ot.attachLinkElement(B,Z)},keepIframeSrcFn:Ee});if(!Te)return console.warn("Failed to snapshot the document");Q({type:N.FullSnapshot,data:{node:Te,initialOffset:il(window)}}),Ut.forEach(B=>B.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&ot.adoptStyleSheets(document.adoptedStyleSheets,Ie.getId(document))};Mr=us;try{const U=[],Te=Z=>$(zy)({onMutation:ve,mutationCb:Yn,mousemoveCb:(j,ct)=>Q({type:N.IncrementalSnapshot,data:{source:ct,positions:j}}),mouseInteractionCb:j=>Q({type:N.IncrementalSnapshot,data:{source:D.MouseInteraction,...j}}),scrollCb:Xi,viewportResizeCb:j=>Q({type:N.IncrementalSnapshot,data:{source:D.ViewportResize,...j}}),inputCb:j=>Q({type:N.IncrementalSnapshot,data:{source:D.Input,...j}}),mediaInteractionCb:j=>Q({type:N.IncrementalSnapshot,data:{source:D.MediaInteraction,...j}}),styleSheetRuleCb:j=>Q({type:N.IncrementalSnapshot,data:{source:D.StyleSheetRule,...j}}),styleDeclarationCb:j=>Q({type:N.IncrementalSnapshot,data:{source:D.StyleDeclaration,...j}}),canvasMutationCb:xd,fontCb:j=>Q({type:N.IncrementalSnapshot,data:{source:D.Font,...j}}),selectionCb:j=>{Q({type:N.IncrementalSnapshot,data:{source:D.Selection,...j}})},customElementCb:j=>{Q({type:N.IncrementalSnapshot,data:{source:D.CustomElement,...j}})},blockClass:s,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:p,maskInputOptions:At,inlineStylesheet:h,sampling:A,recordCanvas:C,inlineImages:ge,userTriggeredOnInput:ie,collectFonts:le,doc:Z,maskAttributeFn:S,maskInputFn:E,maskTextFn:T,keepIframeSrcFn:Ee,blockSelector:i,unblockSelector:o,slimDOMOptions:mn,dataURLOptions:O,mirror:Ie,iframeManager:at,stylesheetManager:ot,shadowDomManager:Vn,processedNodeManager:cs,canvasManager:Ji,ignoreCSSAttributes:ne,plugins:dr([q,"optionalAccess",j=>j.filter,"call",j=>j(ct=>ct.observer),"optionalAccess",j=>j.map,"call",j=>j(ct=>({observer:ct.observer,options:ct.options,callback:Md=>Q({type:N.Plugin,data:{plugin:ct.name,payload:Md}})}))])||[]},{});at.addLoadListener(Z=>{try{U.push(Te(Z.contentDocument))}catch(j){console.warn(j)}});const B=()=>{us(),U.push(Te(document))};return document.readyState==="interactive"||document.readyState==="complete"?B():(U.push(he("DOMContentLoaded",()=>{Q({type:N.DomContentLoaded,data:{}}),X==="DOMContentLoaded"&&B()})),U.push(he("load",()=>{Q({type:N.Load,data:{}}),X==="load"&&B()},window))),()=>{U.forEach(Z=>Z()),cs.destroy(),Mr=void 0,Oy()}}catch(U){console.warn(U)}}function Jy(e){if(!Mr)throw new Error("please take full snapshot after start recording");Mr(e)}Qe.mirror=Ie;Qe.takeFullSnapshot=Jy;function Zy(e,t){try{return e?e(t):new ca}catch{return console.warn("Unable to initialize CanvasManager"),new ca}}const Qy=3,eS=5;function Pi(e){return e>9999999999?e:e*1e3}function bs(e){return e>9999999999?e/1e3:e}function qn(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:N.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:we(t,10,1e3)}}),t.category==="console")))}const tS="button,a";function Sl(e){return e.closest(tS)||e}function bl(e){const t=El(e);return!t||!(t instanceof Element)?t:Sl(t)}function El(e){return nS(e)?e.target:e}function nS(e){return typeof e=="object"&&!!e&&"target"in e}let Xe;function rS(e){return Xe||(Xe=[],sS()),Xe.push(e),()=>{const t=Xe?Xe.indexOf(e):-1;t>-1&&Xe.splice(t,1)}}function sS(){ce(K,"open",function(e){return function(...t){if(Xe)try{Xe.forEach(n=>n())}catch{}return e.apply(K,t)}})}function iS(e,t,n){e.handleClick(t,n)}class oS{constructor(t,n,r=qn){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const t=rS(()=>{this._lastMutation=ua()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(cS(n,this._ignoreSelector)||!uS(t))return;const r={timestamp:bs(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(s=>s.node===r.node&&Math.abs(s.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=bs(t)}registerScroll(t=Date.now()){this._lastScroll=bs(t)}registerClick(t){const n=Sl(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=ua();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(const r of t){const s=this._clicks.indexOf(r);s>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(s,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scollTimeout,s=t.mutationAfter&&t.mutationAfter<=this._threshold,i=!r&&!s,{clickCount:o,clickBreadcrumb:a}=t;if(i){const c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",l={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:K.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:o||1}};this._addBreadcrumbEvent(n,l);return}if(o>1){const c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:K.location.href,route:n.getCurrentRoute(),clickCount:o,metric:!0}};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout(()=>this._checkClicks(),1e3)}}const aS=["A","BUTTON","INPUT"];function cS(e,t){return!!(!aS.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function uS(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function ua(){return Date.now()/1e3}function lS(e,t){try{if(!dS(t))return;const{source:n}=t.data;if(n===D.Mutation&&e.registerMutation(t.timestamp),n===D.Scroll&&e.registerScroll(t.timestamp),fS(t)){const{type:r,id:s}=t.data,i=Qe.mirror.getNode(s);i instanceof HTMLElement&&r===fe.Click&&e.registerClick(i)}}catch{}}function dS(e){return e.type===Qy}function fS(e){return e.data.source===D.MouseInteraction}function Ne(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var Or;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(Or||(Or={}));const pS=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function hS(e){const t={};for(const n in e)if(pS.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}const mS=e=>t=>{if(!e.isEnabled())return;const n=gS(t);if(!n)return;const r=t.name==="click",s=r?t.event:void 0;r&&e.clickDetector&&s&&s.target&&!s.altKey&&!s.metaKey&&!s.ctrlKey&&!s.shiftKey&&iS(e.clickDetector,n,bl(t.event)),qn(e,n)};function vl(e,t){const n=Qe.mirror.getId(e),r=n&&Qe.mirror.getNode(n),s=r&&Qe.mirror.getMeta(r),i=s&&yS(s)?s:null;return{message:t,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map(o=>o.type===Or.Text&&o.textContent).filter(Boolean).map(o=>o.trim()).join(""),attributes:hS(i.attributes)}}:{}}}function gS(e){const{target:t,message:n}=_S(e);return Ne({category:`ui.${e.name}`,...vl(t,n)})}function _S(e){const t=e.name==="click";let n,r=null;try{r=t?bl(e.event):El(e.event),n=tt(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function yS(e){return e.type===Or.Element}function SS(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=bS(t);n&&qn(e,n)}function bS(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:i,target:o}=e;if(!o||ES(o)||!i)return null;const a=t||r||s,c=i.length===1;if(!a&&c)return null;const u=tt(o,{maxStringLength:200})||"<unknown>",l=vl(o,u);return Ne({category:"ui.keyDown",message:u,data:{...l.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:i}})}function ES(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const la={resource:kS,paint:IS,navigation:wS};function vS(e){return e.map(TS).filter(Boolean)}function TS(e){return la[e.entryType]?la[e.entryType](e):null}function tn(e){return((de||K.performance.timeOrigin)+e)/1e3}function IS(e){const{duration:t,entryType:n,name:r,startTime:s}=e,i=tn(s);return{type:n,name:r,start:i,end:i+t,data:void 0}}function wS(e){const{entryType:t,name:n,decodedBodySize:r,duration:s,domComplete:i,encodedBodySize:o,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:l,loadEventEnd:d,redirectCount:f,startTime:p,transferSize:h,type:_}=e;return s===0?null:{type:`${t}.${_}`,start:tn(p),end:tn(i),name:n,data:{size:h,decodedBodySize:r,encodedBodySize:o,duration:s,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:l,loadEventEnd:d,domComplete:i,redirectCount:f}}}function kS(e){const{entryType:t,initiatorType:n,name:r,responseEnd:s,startTime:i,decodedBodySize:o,encodedBodySize:a,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:tn(i),end:tn(s),name:r,data:{size:u,statusCode:c,decodedBodySize:o,encodedBodySize:a}}}function RS(e){const t=e.entries,n=t[t.length-1],r=n?n.element:void 0,s=e.value,i=tn(s);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:i,end:i,data:{value:s,size:s,nodeId:r?Qe.mirror.getId(r):void 0}}}function CS(e){function t(s){e.performanceEntries.includes(s)||e.performanceEntries.push(s)}function n({entries:s}){s.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(s=>{r.push(st(s,n))}),r.push(wu(({metric:s})=>{e.replayPerformanceEntries.push(RS(s))})),()=>{r.forEach(s=>s())}}const Y=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,xS='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function AS(){const e=new Blob([xS]);return URL.createObjectURL(e)}function pe(e,t){Y&&(m.info(e),t&&Tl(e))}function qt(e,t){Y&&(m.info(e),t&&setTimeout(()=>{Tl(e)},0))}function Tl(e){rt({category:"console",data:{logger:"replay"},level:"info",message:e},{level:"info"})}class $i extends Error{constructor(){super(`Event buffer exceeded maximum size of ${Ai}.`)}}class Il{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>Ai)throw new $i;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?Pi(t):null}}class MS{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){pe("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const r=this._getAndIncrementId();return new Promise((s,i)=>{const o=({data:a})=>{const c=a;if(c.method===t&&c.id===r){if(this._worker.removeEventListener("message",o),!c.success){Y&&m.error("[Replay]",c.response),i(new Error("Error in compression worker"));return}s(c.response)}};this._worker.addEventListener("message",o),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class OS{constructor(t){this._worker=new MS(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=Pi(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>Ai?Promise.reject(new $i):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{Y&&m.warn('[Replay] Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class NS{constructor(t){this._fallback=new Il,this._compression=new OS(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch{pe("[Replay] Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n}=this._fallback,r=[];for(const s of t)r.push(this._compression.addEvent(s));this._compression.hasCheckout=n,this._used=this._compression;try{await Promise.all(r)}catch(s){Y&&m.warn("[Replay] Failed to add events when switching buffers.",s)}}}function DS({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=LS(t);if(n)return n}return pe("[Replay] Using simple buffer"),new Il}function LS(e){try{const t=e||PS();if(!t)return;pe(`[Replay] Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new NS(n)}catch{pe("[Replay] Failed to create compression worker")}}function PS(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?AS():""}function Fi(){try{return"sessionStorage"in K&&!!K.sessionStorage}catch{return!1}}function $S(e){FS(),e.session=void 0}function FS(){if(Fi())try{K.sessionStorage.removeItem(Ci)}catch{}}function wl(e){return e===void 0?!1:Math.random()<e}function kl(e){const t=Date.now(),n=e.id||z(),r=e.started||t,s=e.lastActivity||t,i=e.segmentId||0,o=e.sampled,a=e.previousSessionId;return{id:n,started:r,lastActivity:s,segmentId:i,sampled:o,previousSessionId:a}}function Bi(e){if(Fi())try{K.sessionStorage.setItem(Ci,JSON.stringify(e))}catch{}}function BS(e,t){return wl(e)?"session":t?"buffer":!1}function da({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const s=BS(e,t),i=kl({sampled:s,previousSessionId:r});return n&&Bi(i),i}function HS(e){if(!Fi())return null;try{const t=K.sessionStorage.getItem(Ci);if(!t)return null;const n=JSON.parse(t);return qt("[Replay] Loading existing session",e),kl(n)}catch{return null}}function ei(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function Rl(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return ei(e.started,t,r)||ei(e.lastActivity,n,r)}function Cl(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!Rl(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function Es({traceInternals:e,sessionIdleExpire:t,maxReplayDuration:n,previousSessionId:r},s){const i=s.stickySession&&HS(e);return i?Cl(i,{sessionIdleExpire:t,maxReplayDuration:n})?(qt("[Replay] Session in sessionStorage is expired, creating new one..."),da(s,{previousSessionId:i.id})):i:(qt("[Replay] Creating new session",e),da(s,{previousSessionId:r}))}function US(e){return e.type===N.Custom}function Hi(e,t,n){return Al(e,t)?(xl(e,t,n),!0):!1}function jS(e,t,n){return Al(e,t)?xl(e,t,n):Promise.resolve(null)}async function xl(e,t,n){if(!e.eventBuffer)return null;try{n&&e.recordingMode==="buffer"&&e.eventBuffer.clear(),n&&(e.eventBuffer.hasCheckout=!0);const r=e.getOptions(),s=WS(t,r.beforeAddRecordingEvent);return s?await e.eventBuffer.addEvent(s):void 0}catch(r){const s=r&&r instanceof $i?"addEventSizeExceeded":"addEvent";Y&&m.error(r),await e.stop({reason:s});const i=x();i&&i.recordDroppedEvent("internal_sdk_error","replay")}}function Al(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=Pi(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(pe(`[Replay] Skipping event with timestamp ${n} because it is after maxReplayDuration`,e.getOptions()._experiments.traceInternals),!1):!0}function WS(e,t){try{if(typeof t=="function"&&US(e))return t(e)}catch(n){return Y&&m.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",n),null}return e}function Ui(e){return!e.type}function ti(e){return e.type==="transaction"}function zS(e){return e.type==="replay_event"}function fa(e){return e.type==="feedback"}function Ml(e){const t=YS();return(n,r)=>{if(!e.isEnabled()||!Ui(n)&&!ti(n))return;const s=r&&r.statusCode;if(!(t&&(!s||s<200||s>=300))){if(ti(n)){GS(e,n);return}qS(e,n)}}}function GS(e,t){const n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function qS(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||setTimeout(()=>{e.sendBufferedReplayOrFlush()})}function YS(){const e=x();if(!e)return!1;const t=e.getTransport();return t&&t.send.__sentry__baseTransport__||!1}function VS(e){return t=>{!e.isEnabled()||!Ui(t)||KS(e,t)}}function KS(e,t){const n=t.exception&&t.exception.values&&t.exception.values[0].value;if(typeof n=="string"&&(n.match(/reactjs\.org\/docs\/error-decoder\.html\?invariant=(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const r=Ne({category:"replay.hydrate-error"});qn(e,r)}}function XS(e,t){return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!(t.originalException&&t.originalException.__rrweb__)}function JS(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:N.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function ZS(e,t){return e.recordingMode!=="buffer"||t.message===xi||!t.exception||t.type?!1:wl(e.getOptions().errorSampleRate)}function QS(e,t=!1){const n=t?Ml(e):void 0;return Object.assign((r,s)=>e.isEnabled()?zS(r)?(delete r.breadcrumbs,r):!Ui(r)&&!ti(r)&&!fa(r)||!e.checkAndHandleExpiredSession()?r:fa(r)?(e.flush(),r.contexts.feedback.replay_id=e.getSessionId(),JS(e,r),r):XS(r,s)&&!e.getOptions()._experiments.captureExceptions?(Y&&m.log("[Replay] Ignoring error from rrweb internals",r),null):((ZS(e,r)||e.recordingMode==="session")&&(r.tags={...r.tags,replayId:e.getSessionId()}),n&&n(r,{statusCode:200}),r):r,{id:"Replay"})}function Jr(e,t){return t.map(({type:n,start:r,end:s,name:i,data:o})=>{const a=e.throttledAddEvent({type:N.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:s,data:o}}});return typeof a=="string"?Promise.resolve(null):a})}function eb(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function tb(e){return t=>{if(!e.isEnabled())return;const n=eb(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(Jr(e,[n]),!1)))}}function nb(e,t){return Y&&e.getOptions()._experiments.traceInternals?!1:ou(t,x())}function Zr(e,t){e.isEnabled()&&t!==null&&(nb(e,t.name)||e.addUpdate(()=>(Jr(e,[t]),!0)))}function rb(e){const{startTimestamp:t,endTimestamp:n,fetchData:r,response:s}=e;if(!n)return null;const{method:i,url:o}=r;return{type:"resource.fetch",start:t/1e3,end:n/1e3,name:o,data:{method:i,statusCode:s?s.status:void 0}}}function sb(e){return t=>{if(!e.isEnabled())return;const n=rb(t);Zr(e,n)}}function ib(e){const{startTimestamp:t,endTimestamp:n,xhr:r}=e,s=r[He];if(!t||!n||!s)return null;const{method:i,url:o,status_code:a}=s;return o===void 0?null:{type:"resource.xhr",name:o,start:t/1e3,end:n/1e3,data:{method:i,statusCode:a}}}function ob(e){return t=>{if(!e.isEnabled())return;const n=ib(t);Zr(e,n)}}function Qr(e,t){if(e)try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=Ll(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function Ol(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function Nl(e){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[Ll(e)];if(!e)return[void 0]}catch{return Y&&m.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Y&&m.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Nr(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function Dl(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:s,method:i,statusCode:o,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:s,data:ue({method:i,statusCode:o,request:a,response:c})}}function Mn(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function et(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:s,warnings:i}=ab(n);return r.body=s,i&&i.length>0&&(r._meta={warnings:i}),r}function ni(e,t){return Object.keys(e).reduce((n,r)=>{const s=r.toLowerCase();return t.includes(s)&&e[r]&&(n[s]=e[r]),n},{})}function Ll(e){return new URLSearchParams(e).toString()}function ab(e){if(!e||typeof e!="string")return{body:e};const t=e.length>Xo,n=cb(e);if(t){const r=e.slice(0,Xo);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function cb(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function Dr(e,t){const n=ub(e);return an(n,t)}function ub(e,t=K.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(K.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function lb(e,t,n){try{const r=await fb(e,t,n),s=Dl("resource.fetch",r);Zr(n.replay,s)}catch(r){Y&&m.error("[Replay] Failed to capture fetch breadcrumb",r)}}function db(e,t,n){const{input:r,response:s}=t,i=r?Pl(r):void 0,o=Qr(i,n.textEncoder),a=s?Ol(s.headers.get("content-length")):void 0;o!==void 0&&(e.data.request_body_size=o),a!==void 0&&(e.data.response_body_size=a)}async function fb(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r}=t,{url:o,method:a,status_code:c=0,request_body_size:u,response_body_size:l}=e.data,d=Dr(o,n.networkDetailAllowUrls)&&!Dr(o,n.networkDetailDenyUrls),f=d?pb(n,t.input,u):Mn(u),p=await hb(d,n,t.response,l);return{startTimestamp:s,endTimestamp:i,url:o,method:a,statusCode:c,request:f,response:p}}function pb({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const s=n?_b(n,t):{};if(!e)return et(s,r,void 0);const i=Pl(n),[o,a]=Nl(i),c=et(s,r,o);return a?Nr(c,a):c}async function hb(e,{networkCaptureBodies:t,textEncoder:n,networkResponseHeaders:r},s,i){if(!e&&i!==void 0)return Mn(i);const o=s?$l(s.headers,r):{};if(!s||!t&&i!==void 0)return et(o,i,void 0);const[a,c]=await gb(s),u=mb(a,{networkCaptureBodies:t,textEncoder:n,responseBodySize:i,captureDetails:e,headers:o});return c?Nr(u,c):u}function mb(e,{networkCaptureBodies:t,textEncoder:n,responseBodySize:r,captureDetails:s,headers:i}){try{const o=e&&e.length&&r===void 0?Qr(e,n):r;return s?t?et(i,o,e):et(i,o,void 0):Mn(o)}catch(o){return Y&&m.warn("[Replay] Failed to serialize response body",o),et(i,r,void 0)}}async function gb(e){const t=yb(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await Sb(t)]}catch(n){return Y&&m.warn("[Replay] Failed to get text body from response",n),[void 0,"BODY_PARSE_ERROR"]}}function Pl(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}function $l(e,t){const n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function _b(e,t){return e.length===1&&typeof e[0]!="string"?pa(e[0],t):e.length===2?pa(e[1],t):{}}function pa(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?$l(n,t):Array.isArray(n)?{}:ni(n,t):{}}function yb(e){try{return e.clone()}catch(t){Y&&m.warn("[Replay] Failed to clone response body",t)}}function Sb(e){return new Promise((t,n)=>{const r=setTimeout(()=>n(new Error("Timeout while trying to read response body")),500);bb(e).then(s=>t(s),s=>n(s)).finally(()=>clearTimeout(r))})}async function bb(e){return await e.text()}async function Eb(e,t,n){try{const r=Tb(e,t,n),s=Dl("resource.xhr",r);Zr(n.replay,s)}catch(r){Y&&m.error("[Replay] Failed to capture xhr breadcrumb",r)}}function vb(e,t,n){const{xhr:r,input:s}=t;if(!r)return;const i=Qr(s,n.textEncoder),o=r.getResponseHeader("content-length")?Ol(r.getResponseHeader("content-length")):Rb(r.response,r.responseType,n.textEncoder);i!==void 0&&(e.data.request_body_size=i),o!==void 0&&(e.data.response_body_size=o)}function Tb(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r,input:o,xhr:a}=t,{url:c,method:u,status_code:l=0,request_body_size:d,response_body_size:f}=e.data;if(!c)return null;if(!a||!Dr(c,n.networkDetailAllowUrls)||Dr(c,n.networkDetailDenyUrls)){const v=Mn(d),A=Mn(f);return{startTimestamp:s,endTimestamp:i,url:c,method:u,statusCode:l,request:v,response:A}}const p=a[He],h=p?ni(p.request_headers,n.networkRequestHeaders):{},_=ni(Ib(a),n.networkResponseHeaders),[b,g]=n.networkCaptureBodies?Nl(o):[void 0],[S,E]=n.networkCaptureBodies?wb(a):[void 0],T=et(h,d,b),y=et(_,f,S);return{startTimestamp:s,endTimestamp:i,url:c,method:u,statusCode:l,request:g?Nr(T,g):T,response:E?Nr(y,E):y}}function Ib(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[s,i]=r.split(": ");return n[s.toLowerCase()]=i,n},{}):{}}function wb(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return kb(e.response,e.responseType)}catch(n){t.push(n)}return Y&&m.warn("[Replay] Failed to get xhr response body",...t),[void 0]}function kb(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch{return Y&&m.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Y&&m.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Rb(e,t,n){try{const r=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return Qr(r,n)}catch{return}}function Cb(e){const t=x();try{const n=new TextEncoder,{networkDetailAllowUrls:r,networkDetailDenyUrls:s,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:a}=e.getOptions(),c={replay:e,textEncoder:n,networkDetailAllowUrls:r,networkDetailDenyUrls:s,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:a};t&&t.on?t.on("beforeAddBreadcrumb",(u,l)=>xb(c,u,l)):(Pr(sb(e)),$r(ob(e)))}catch{}}function xb(e,t,n){if(t.data)try{Ab(t)&&Ob(n)&&(vb(t,n,e),Eb(t,n,e)),Mb(t)&&Nb(n)&&(db(t,n,e),lb(t,n,e))}catch{Y&&m.warn("Error when enriching network breadcrumb")}}function Ab(e){return e.category==="xhr"}function Mb(e){return e.category==="fetch"}function Ob(e){return e&&e.xhr}function Nb(e){return e&&e.response}let ha=null;function Db(e){return!!e.category}const Lb=e=>t=>{if(!e.isEnabled())return;const n=Pb(t);n&&qn(e,n)};function Pb(e){const t=e.getLastBreadcrumb&&e.getLastBreadcrumb();return ha===t||!t||(ha=t,!Db(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui."))?null:t.category==="console"?$b(t):Ne(t)}function $b(e){const t=e.data&&e.data.arguments;if(!Array.isArray(t)||t.length===0)return Ne(e);let n=!1;const r=t.map(s=>{if(!s)return s;if(typeof s=="string")return s.length>rr?(n=!0,`${s.slice(0,rr)}`):s;if(typeof s=="object")try{const i=we(s,7);return JSON.stringify(i).length>rr?(n=!0,`${JSON.stringify(i,null,2).slice(0,rr)}`):i}catch{}return s});return Ne({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function Fb(e){const t=se(),n=x();t.addScopeListener(Lb(e)),fc(mS(e)),Dn(tb(e)),Cb(e);const r=QS(e,!ma(n));n&&n.addEventProcessor?n.addEventProcessor(r):rh(r),ma(n)&&(n.on("beforeSendEvent",VS(e)),n.on("afterSendEvent",Ml(e)),n.on("createDsc",s=>{const i=e.getSessionId();i&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(s.replay_id=i)}),n.on("startTransaction",s=>{e.lastTransaction=s}),n.on("finishTransaction",s=>{e.lastTransaction=s}),n.on("beforeSendFeedback",(s,i)=>{const o=e.getSessionId();i&&i.includeReplay&&e.isEnabled()&&o&&s.contexts&&s.contexts.feedback&&(s.contexts.feedback.replay_id=o)}))}function ma(e){return!!(e&&e.on)}async function Bb(e){try{return Promise.all(Jr(e,[Hb(K.performance.memory)]))}catch{return[]}}function Hb(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function Ub(e,t,n){let r,s,i;const o=n&&n.maxWait?Math.max(n.maxWait,t):0;function a(){return c(),r=e(),r}function c(){s!==void 0&&clearTimeout(s),i!==void 0&&clearTimeout(i),s=i=void 0}function u(){return s!==void 0||i!==void 0?a():r}function l(){return s&&clearTimeout(s),s=setTimeout(a,t),o&&i===void 0&&(i=setTimeout(a,o)),r}return l.cancel=c,l.flush=u,l}function jb(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){Y&&m.warn("[Replay] Received replay event after session expired.");return}const s=r||!t;t=!0,e.clickDetector&&lS(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&s&&e.setInitialState(),!Hi(e,n,s))return!0;if(!s)return!1;if(zb(e,s),e.session&&e.session.previousSessionId)return!0;if(e.recordingMode==="buffer"&&e.session&&e.eventBuffer){const i=e.eventBuffer.getEarliestTimestamp();i&&(pe(`[Replay] Updating session start time to earliest event in buffer to ${new Date(i)}`,e.getOptions()._experiments.traceInternals),e.session.started=i,e.getOptions().stickySession&&Bi(e.session))}return e.recordingMode==="session"&&e.flush(),!0})}}function Wb(e){const t=e.getOptions();return{type:N.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function zb(e,t){!t||!e.session||e.session.segmentId!==0||Hi(e,Wb(e),!1)}function Gb(e,t,n,r){return qe(wc(e,mi(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function qb({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{const i=new TextEncoder().encode(r);n=new Uint8Array(i.length+e.length),n.set(i),n.set(e,i.length)}return n}async function Yb({client:e,scope:t,replayId:n,event:r}){const s=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,i={event_id:n,integrations:s};e.emit&&e.emit("preprocessEvent",r,i);const o=await Si(e.getOptions(),r,i,t,e,Pe());if(!o)return null;o.platform=o.platform||"javascript";const a=e.getSdkMetadata&&e.getSdkMetadata(),{name:c,version:u}=a&&a.sdk||{};return o.sdk={...o.sdk,name:c||"sentry.javascript.unknown",version:u||"0.0.0"},o}async function Vb({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:s,session:i}){const o=qb({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:l}=r,d=x(),f=se(),p=d&&d.getTransport(),h=d&&d.getDsn();if(!d||!p||!h||!i.sampled)return;const _={type:O_,replay_start_timestamp:l/1e3,timestamp:s/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:i.sampled},b=await Yb({scope:f,client:d,replayId:t,event:_});if(!b){d.recordDroppedEvent("event_processor","replay",_),pe("An event processor returned `null`, will not send event.");return}delete b.sdkProcessingMetadata;const g=Gb(b,o,h,d.getOptions().tunnel);let S;try{S=await p.send(g)}catch(T){const y=new Error(xi);try{y.cause=T}catch{}throw y}if(!S)return S;if(typeof S.statusCode=="number"&&(S.statusCode<200||S.statusCode>=300))throw new Fl(S.statusCode);const E=Cc({},S);if(Rc(E,"replay"))throw new Bl(E);return S}class Fl extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class Bl extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function Hl(e,t={count:0,interval:F_}){const{recordingData:n,options:r}=e;if(n.length)try{return await Vb(e),!0}catch(s){if(s instanceof Fl||s instanceof Bl)throw s;if(lp("Replays",{_retryCount:t.count}),Y&&r._experiments&&r._experiments.captureExceptions&&$n(s),t.count>=B_){const i=new Error(`${xi} - max retries exceeded`);try{i.cause=s}catch{}throw i}return t.interval*=++t.count,new Promise((i,o)=>{setTimeout(async()=>{try{await Hl(e,t),i(!0)}catch(a){o(a)}},t.interval)})}}const Ul="__THROTTLED",Kb="__SKIPPED";function Xb(e,t,n){const r=new Map,s=a=>{const c=a-n;r.forEach((u,l)=>{l<c&&r.delete(l)})},i=()=>[...r.values()].reduce((a,c)=>a+c,0);let o=!1;return(...a)=>{const c=Math.floor(Date.now()/1e3);if(s(c),i()>=t){const l=o;return o=!0,l?Kb:Ul}o=!1;const u=r.get(c)||0;return r.set(c,u+1),e(...a)}}class Je{constructor({options:t,recordingOptions:n}){Je.prototype.__init.call(this),Je.prototype.__init2.call(this),Je.prototype.__init3.call(this),Je.prototype.__init4.call(this),Je.prototype.__init5.call(this),Je.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:N_,sessionIdleExpire:D_},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=Ub(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=Xb((o,a)=>jS(this,o,a),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:s}=this.getOptions(),i=r?{threshold:Math.min(H_,r),timeout:r,scrollTimeout:U_,ignoreSelector:s?s.join(","):""}:void 0;i&&(this.clickDetector=new oS(this,i))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:r}=this._options;if(!(n<=0&&r<=0)){if(this._initializeSessionForSampling(t),!this.session){this._handleException(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",qt(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session")throw new Error("Replay recording is already in progress");if(this._isEnabled&&this.recordingMode==="buffer")throw new Error("Replay buffering is in progress, call `flush()` to save the replay");qt("[Replay] Starting replay in session mode",this._options._experiments.traceInternals),this._updateUserActivity();const t=Es({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");qt("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);const t=Es({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=Qe({...this._recordingOptions,...this.recordingMode==="buffer"&&{checkoutEveryNms:$_},emit:jb(this),onMutation:this._onMutationHandler,...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this._handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this._handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1;try{pe(`[Replay] Stopping Replay${n?` triggered by ${n}`:""}`,this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,$S(this)}catch(r){this._handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),pe("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),pe("[Replay] Resuming replay",this._options._experiments.traceInternals))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();pe("[Replay] Converting buffer to session",this._options._experiments.traceInternals),await this.flushImmediate();const r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&ei(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${K.location.pathname}${K.location.hash}${K.location.search}`,n=`${K.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const r=this._throttledAddEvent(t,n);if(r===Ul){const s=Ne({category:"replay.throttled"});this.addUpdate(()=>!Hi(this,{type:eS,timestamp:s.timestamp||0,data:{tag:"breadcrumb",payload:s,metric:!0}}))}return r}getCurrentRoute(){const t=this.lastTransaction||se().getTransaction(),r=(t&&H(t).data||{})[re];if(!(!t||!r||!["route","custom"].includes(r)))return H(t).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=DS({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(t){Y&&m.error("[Replay]",t),Y&&this._options._experiments&&this._options._experiments.captureExceptions&&$n(t)}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,r=Es({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const t=this.session;return Cl(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{K.document.addEventListener("visibilitychange",this._handleVisibilityChange),K.addEventListener("blur",this._handleWindowBlur),K.addEventListener("focus",this._handleWindowFocus),K.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(Fb(this),this._hasInitializedCoreListeners=!0)}catch(t){this._handleException(t)}this._performanceCleanupCallback=CS(this)}_removeListeners(){try{K.document.removeEventListener("visibilitychange",this._handleVisibilityChange),K.removeEventListener("blur",this._handleWindowBlur),K.removeEventListener("focus",this._handleWindowFocus),K.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this._handleException(t)}}__init(){this._handleVisibilityChange=()=>{K.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const t=Ne({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init3(){this._handleWindowFocus=()=>{const t=Ne({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}__init4(){this._handleKeyboardEvent=t=>{SS(this,t)}}_doChangeToBackgroundTasks(t){!this.session||Rl(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){pe("[Replay] Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:N.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){const t=vS(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(Jr(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||t.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){Y&&m.error("[Replay] No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(await Bb(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const r=this._popEventContext(),s=this.session.segmentId++;this._maybeSaveSession();const i=await this.eventBuffer.finish();await Hl({replayId:t,recordingData:i,segmentId:s,eventContext:r,session:this.session,options:this.getOptions(),timestamp:n})}catch(n){this._handleException(n),this.stop({reason:"sendReplay"});const r=x();r&&r.recordDroppedEvent("send_error","replay")}}__init5(){this._flush=async({force:t=!1}={})=>{if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){Y&&m.error("[Replay] Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,s=Date.now()-n;this._debouncedFlush.cancel();const i=s<this._options.minReplayDuration,o=s>this._options.maxReplayDuration+5e3;if(i||o){pe(`[Replay] Session duration (${Math.floor(s/1e3)}s) is too ${i?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),i&&this._debouncedFlush();return}const a=this.eventBuffer;if(a&&this.session.segmentId===0&&!a.hasCheckout&&pe("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock){this._flushLock=this._runFlush(),await this._flushLock,this._flushLock=void 0;return}try{await this._flushLock}catch(c){Y&&m.error(c)}finally{this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&Bi(this.session)}__init6(){this._onMutationHandler=t=>{const n=t.length,r=this._options.mutationLimit,s=this._options.mutationBreadcrumbLimit,i=r&&n>r;if(n>s||i){const o=Ne({category:"replay.mutations",data:{count:n,limit:i}});this._createCustomBreadcrumb(o)}return i?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}}function yn(e,t,n,r){const s=typeof r=="string"?r.split(","):[],i=[...e,...s,...t];return typeof n<"u"&&(typeof n=="string"&&i.push(`.${n}`),nt(()=>{console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")})),i.join(",")}function Jb({mask:e,unmask:t,block:n,unblock:r,ignore:s,blockClass:i,blockSelector:o,maskTextClass:a,maskTextSelector:c,ignoreClass:u}){const l=['base[href="/"]'],d=yn(e,[".sentry-mask","[data-sentry-mask]"],a,c),f=yn(t,[".sentry-unmask","[data-sentry-unmask]"]),p={maskTextSelector:d,unmaskTextSelector:f,blockSelector:yn(n,[".sentry-block","[data-sentry-block]",...l],i,o),unblockSelector:yn(r,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:yn(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],u)};return i instanceof RegExp&&(p.blockClass=i),a instanceof RegExp&&(p.maskTextClass=a),p}function Zb({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:s,value:i}){return!r||s.unmaskTextSelector&&e.matches(s.unmaskTextSelector)?i:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i}const ga='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',Qb=["content-length","content-type","accept"];let _a=!1;const ZT=(e=>new es(e));class es{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:t=L_,flushMaxDelay:n=P_,minReplayDuration:r=j_,maxReplayDuration:s=Jo,stickySession:i=!0,useCompression:o=!0,workerUrl:a,_experiments:c={},sessionSampleRate:u,errorSampleRate:l,maskAllText:d=!0,maskAllInputs:f=!0,blockAllMedia:p=!0,mutationBreadcrumbLimit:h=750,mutationLimit:_=1e4,slowClickTimeout:b=7e3,slowClickIgnoreSelectors:g=[],networkDetailAllowUrls:S=[],networkDetailDenyUrls:E=[],networkCaptureBodies:T=!0,networkRequestHeaders:y=[],networkResponseHeaders:v=[],mask:A=[],maskAttributes:O=["title","placeholder"],unmask:k=[],block:C=[],unblock:L=[],ignore:X=[],maskFn:ie,beforeAddRecordingEvent:le,beforeErrorSampling:ge,blockClass:q,blockSelector:Ee,maskInputOptions:ne,maskTextClass:me,maskTextSelector:ve,ignoreClass:is}={}){this.name=es.id;const xt=Jb({mask:A,unmask:k,block:C,unblock:L,ignore:X,blockClass:q,blockSelector:Ee,maskTextClass:me,maskTextSelector:ve,ignoreClass:is});if(this._recordingOptions={maskAllInputs:f,maskAllText:d,maskInputOptions:{...ne||{},password:!0},maskTextFn:ie,maskInputFn:ie,maskAttributeFn:(Ye,At,mn)=>Zb({maskAttributes:O,maskAllText:d,privacyOptions:xt,key:Ye,value:At,el:mn}),...xt,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:Ye=>{try{Ye.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,W_),maxReplayDuration:Math.min(s,Jo),stickySession:i,sessionSampleRate:u,errorSampleRate:l,useCompression:o,workerUrl:a,blockAllMedia:p,maskAllInputs:f,maskAllText:d,mutationBreadcrumbLimit:h,mutationLimit:_,slowClickTimeout:b,slowClickIgnoreSelectors:g,networkDetailAllowUrls:S,networkDetailDenyUrls:E,networkCaptureBodies:T,networkRequestHeaders:ya(y),networkResponseHeaders:ya(v),beforeAddRecordingEvent:le,beforeErrorSampling:ge,_experiments:c},typeof u=="number"&&(console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysSessionSampleRate: ${u} })`),this._initialOptions.sessionSampleRate=u),typeof l=="number"&&(console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysOnErrorSampleRate: ${l} })`),this._initialOptions.errorSampleRate=l),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${ga}`:ga),this._isInitialized&&Ps())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return _a}set _isInitialized(t){_a=t}setupOnce(){Ps()&&(this._setup(),setTimeout(()=>this._initialize()))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return!this._replay||!this._replay.isEnabled()?Promise.resolve():this._replay.sendBufferedReplayOrFlush(t)}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}_initialize(){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(),this._replay.initializeSampling())}_setup(){const t=eE(this._initialOptions);this._replay=new Je({options:t,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(){try{const n=x().getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}es.__initStatic();function eE(e){const t=x(),n=t&&t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...ue(e)};return n?(e.sessionSampleRate==null&&e.errorSampleRate==null&&n.replaysSessionSampleRate==null&&n.replaysOnErrorSampleRate==null&&nt(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),typeof n.replaysSessionSampleRate=="number"&&(r.sessionSampleRate=n.replaysSessionSampleRate),typeof n.replaysOnErrorSampleRate=="number"&&(r.errorSampleRate=n.replaysOnErrorSampleRate),r):(nt(()=>{console.warn("SDK client is not available.")}),r)}function ya(e){return[...Qb,...e.map(t=>t.toLowerCase())]}function QT(){const e=x();return e&&e.getIntegrationByName&&e.getIntegrationByName("Replay")}var Sa;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(Sa||(Sa={}));function tE(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function ri(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:ri(e.parentNode,t,n,r+1)}function ba(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(tE(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}const Pt=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let Ea={map:{},getId(){return console.error(Pt),-1},getNode(){return console.error(Pt),null},removeNodeFromMap(){console.error(Pt)},has(){return console.error(Pt),!1},reset(){console.error(Pt)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Ea=new Proxy(Ea,{get(e,t,n){return t==="map"&&console.error(Pt),Reflect.get(e,t,n)}}));function ji(e,t,n,r,s=window){const i=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(o){Wl(()=>{n.set.call(this,o)},0),i&&i.set&&i.set.call(this,o)}}),()=>ji(e,t,i||{},!0)}function Wi(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch{return()=>{}}}/[1-9][0-9]{12}/.test(Date.now().toString());function nE(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function ts(e,t,n,r,s){if(!e)return!1;const i=nE(e);if(!i)return!1;const o=ba(t,n),a=ri(i,o);let c=-1;return a<0?!1:(r&&(c=ri(i,ba(null,r))),a>-1&&c<0?!0:a<c)}const va={};function jl(e){const t=va[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const i=s.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(s)}catch{}return va[e]=r.bind(window)}function ut(...e){return jl("requestAnimationFrame")(...e)}function Wl(...e){return jl("setTimeout")(...e)}var nn=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(nn||{});let fr;function rE(e){fr=e}const Ta=e=>fr?((...n)=>{try{return e(...n)}catch(r){if(fr&&fr(r)===!0)return()=>{};throw r}}):e;var jt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",sE=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var or=0;or<jt.length;or++)sE[jt.charCodeAt(or)]=or;var iE=function(e){var t=new Uint8Array(e),n,r=t.length,s="";for(n=0;n<r;n+=3)s+=jt[t[n]>>2],s+=jt[(t[n]&3)<<4|t[n+1]>>4],s+=jt[(t[n+1]&15)<<2|t[n+2]>>6],s+=jt[t[n+2]&63];return r%3===2?s=s.substring(0,s.length-1)+"=":r%3===1&&(s=s.substring(0,s.length-2)+"=="),s};const Ia=new Map;function oE(e,t){let n=Ia.get(e);return n||(n=new Map,Ia.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}const zl=(e,t,n)=>{if(!e||!(ql(e,t)||typeof e=="object"))return;const r=e.constructor.name,s=oE(n,r);let i=s.indexOf(e);return i===-1&&(i=s.length,s.push(e)),i};function pr(e,t,n){if(e instanceof Array)return e.map(r=>pr(r,t,n));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){const r=e.constructor.name,s=iE(e);return{rr_type:r,base64:s}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[pr(e.buffer,t,n),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){const r=e.constructor.name,{src:s}=e;return{rr_type:r,src:s}}else if(e instanceof HTMLCanvasElement){const r="HTMLImageElement",s=e.toDataURL();return{rr_type:r,src:s}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[pr(e.data,t,n),e.width,e.height]};if(ql(e,t)||typeof e=="object"){const r=e.constructor.name,s=zl(e,t,n);return{rr_type:r,index:s}}}}return e}const Gl=(e,t,n)=>e.map(r=>pr(r,t,n)),ql=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(s=>typeof t[s]=="function").find(s=>e instanceof t[s]);function aE(e,t,n,r,s){const i=[],o=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const a of o)try{if(typeof t.CanvasRenderingContext2D.prototype[a]!="function")continue;const c=Wi(t.CanvasRenderingContext2D.prototype,a,function(u){return function(...l){return ts(this.canvas,n,r,s,!0)||Wl(()=>{const d=Gl(l,t,this);e(this.canvas,{type:nn["2D"],property:a,args:d})},0),u.apply(this,l)}});i.push(c)}catch{const u=ji(t.CanvasRenderingContext2D.prototype,a,{set(l){e(this.canvas,{type:nn["2D"],property:a,args:[l],setter:!0})}});i.push(u)}return()=>{i.forEach(a=>a())}}function cE(e){return e==="experimental-webgl"?"webgl":e}function wa(e,t,n,r,s){const i=[];try{const o=Wi(e.HTMLCanvasElement.prototype,"getContext",function(a){return function(c,...u){if(!ts(this,t,n,r,!0)){const l=cE(c);if("__context"in this||(this.__context=l),s&&["webgl","webgl2"].includes(l))if(u[0]&&typeof u[0]=="object"){const d=u[0];d.preserveDrawingBuffer||(d.preserveDrawingBuffer=!0)}else u.splice(0,1,{preserveDrawingBuffer:!0})}return a.apply(this,[c,...u])}});i.push(o)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{i.forEach(o=>o())}}function ka(e,t,n,r,s,i,o,a){const c=[],u=Object.getOwnPropertyNames(e);for(const l of u)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(l))try{if(typeof e[l]!="function")continue;const d=Wi(e,l,function(f){return function(...p){const h=f.apply(this,p);if(zl(h,a,this),"tagName"in this.canvas&&!ts(this.canvas,r,s,i,!0)){const _=Gl(p,a,this),b={type:t,property:l,args:_};n(this.canvas,b)}return h}});c.push(d)}catch{const f=ji(e,l,{set(p){n(this.canvas,{type:t,property:l,args:[p],setter:!0})}});c.push(f)}return c}function uE(e,t,n,r,s,i){const o=[];return o.push(...ka(t.WebGLRenderingContext.prototype,nn.WebGL,e,n,r,s,i,t)),typeof t.WebGL2RenderingContext<"u"&&o.push(...ka(t.WebGL2RenderingContext.prototype,nn.WebGL2,e,n,r,s,i,t)),()=>{o.forEach(a=>a())}}var lE='for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};';function dE(){const e=new Blob([lE]);return URL.createObjectURL(e)}class fE{reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=(d,f)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(d)||this.pendingCanvasMutations.set(d,[]),this.pendingCanvasMutations.get(d).push(f)};const{sampling:n="all",win:r,blockClass:s,blockSelector:i,unblockSelector:o,maxCanvasSize:a,recordCanvas:c,dataURLOptions:u,errorHandler:l}=t;this.mutationCb=t.mutationCb,this.mirror=t.mirror,this.options=t,l&&rE(l),!t.enableManualSnapshot&&Ta(()=>{c&&n==="all"&&this.initCanvasMutationObserver(r,s,i,o),c&&typeof n=="number"&&this.initCanvasFPSObserver(n,r,s,i,o,a,{dataURLOptions:u})})()}initCanvasFPSObserver(t,n,r,s,i,o,a){const c=wa(n,r,s,i,!0),u=this.takeSnapshot(!1,t,n,r,s,i,o,a.dataURLOptions);this.resetObservers=()=>{c(),cancelAnimationFrame(u)}}initCanvasMutationObserver(t,n,r,s){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const i=wa(t,n,r,s,!1),o=aE(this.processMutation.bind(this),t,n,r,s),a=uE(this.processMutation.bind(this),t,n,r,s,this.mirror);this.resetObservers=()=>{i(),o(),a()}}snapshot(t){const{options:n}=this,r=this.takeSnapshot(!0,n.sampling==="all"?2:n.sampling||2,n.win,n.blockClass,n.blockSelector,n.unblockSelector,n.maxCanvasSize,n.dataURLOptions,t);this.resetObservers=()=>{cancelAnimationFrame(r)}}takeSnapshot(t,n,r,s,i,o,a,c,u){const l=new Map,d=new Worker(dE());d.onmessage=g=>{const S=g.data,{id:E}=S;if(l.set(E,!1),!("base64"in S))return;const{base64:T,type:y,width:v,height:A}=S;this.mutationCb({id:E,type:nn["2D"],commands:[{property:"clearRect",args:[0,0,v,A]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:T}],type:y}]},0,0,v,A]}]})};const f=1e3/n;let p=0,h;const _=g=>{if(g)return[g];const S=[];return r.document.querySelectorAll("canvas").forEach(E=>{ts(E,s,i,o)||S.push(E)}),S},b=g=>{if(p&&g-p<f){h=ut(b);return}p=g,_(u).forEach(S=>{const E=this.mirror.getId(S);if(!l.get(E)&&!(!S.width||!S.height)){if(l.set(E,!0),!t&&["webgl","webgl2"].includes(S.__context)){const T=S.getContext(S.__context);dr([T,"optionalAccess",y=>y.getContextAttributes,"call",y=>y(),"optionalAccess",y=>y.preserveDrawingBuffer])===!1&&T.clear(T.COLOR_BUFFER_BIT)}createImageBitmap(S).then(T=>{d.postMessage({id:E,bitmap:T,width:S.width,height:S.height,dataURLOptions:c,maxCanvasSize:a},[T])}).catch(T=>{Ta(()=>{throw T})()})}}),h=ut(b)};return h=ut(b),h}startPendingCanvasMutationFlusher(){ut(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){const t=n=>{this.rafStamps.latestId=n,ut(t)};ut(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,n)=>{const r=this.mirror.getId(n);this.flushPendingCanvasMutationFor(n,r)}),ut(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,n){if(this.frozen||this.locked)return;const r=this.pendingCanvasMutations.get(t);if(!r||n===-1)return;const s=r.map(o=>{const{type:a,...c}=o;return c}),{type:i}=r[0];this.mutationCb({id:n,type:i,commands:s}),this.pendingCanvasMutations.delete(t)}}const Ra={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},Yl="ReplayCanvas",ar=1280,pE=((e={})=>{const[t,n]=e.maxCanvasSize||[],r={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,ar):ar,n?Math.min(n,ar):ar]};let s;const i=new Promise(o=>s=o);return{name:Yl,setupOnce(){},getOptions(){const{quality:o,enableManualSnapshot:a,maxCanvasSize:c}=r;return{enableManualSnapshot:a,recordCanvas:!0,getCanvasManager:u=>{const l=new fE({...u,enableManualSnapshot:a,maxCanvasSize:c,errorHandler:d=>{try{typeof d=="object"&&(d.__rrweb__=!0)}catch{}}});return s(l),l},...Ra[o]||Ra.medium}},async snapshot(o){(await i).snapshot(o)}}}),hE=pE,eI=te(Yl,hE),Ct=M,vs="#ffffff",Ca="inherit",Ts="rgba(108, 95, 199, 1)",xa={fontFamily:"system-ui, 'Helvetica Neue', Arial, sans-serif",fontSize:"14px",background:vs,backgroundHover:"#f6f6f7",foreground:"#2b2233",border:"1.5px solid rgba(41, 35, 47, 0.13)",borderRadius:"25px",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",success:"#268d75",error:"#df3338",submitBackground:"rgba(88, 74, 192, 1)",submitBackgroundHover:Ts,submitBorder:Ts,submitOutlineFocus:"#29232f",submitForeground:vs,submitForegroundHover:vs,cancelBackground:"transparent",cancelBackgroundHover:"var(--background-hover)",cancelBorder:"var(--border)",cancelOutlineFocus:"var(--input-outline-focus)",cancelForeground:"var(--foreground)",cancelForegroundHover:"var(--foreground)",inputBackground:Ca,inputForeground:Ca,inputBorder:"var(--border)",inputOutlineFocus:Ts,formBorderRadius:"20px",formContentBorderRadius:"6px"},Aa={light:xa,dark:{...xa,background:"#29232f",backgroundHover:"#352f3b",foreground:"#ebe6ef",border:"1.5px solid rgba(235, 230, 239, 0.15)",success:"#2da98c",error:"#f55459"}},mE="Report a Bug",gE="Cancel",_E="Send Bug Report",yE="Report a Bug",SE="your.email@example.org",bE="Email",EE="What's the bug? What did you expect?",vE="Description",TE="Your Name",IE="Name",wE="(required)",kE="Thank you for your report!",Vl="widget",Kl="api";async function RE({client:e,scope:t,event:n}){const r={};e.emit&&e.emit("preprocessEvent",n,r);const s=await Si(e.getOptions(),n,r,t,e,Pe());return s===null?(e.recordDroppedEvent("event_processor","feedback",n),null):(s.platform=s.platform||"javascript",s)}async function CE({feedback:{message:e,email:t,name:n,source:r,url:s}},{includeReplay:i=!0}={}){const o=x(),a=o&&o.getTransport(),c=o&&o.getDsn();if(!o||!a||!c)return;const u={contexts:{feedback:{contact_email:t,name:n,message:e,url:s,source:r}},type:"feedback"};return it(async l=>{l.clearBreadcrumbs(),[Kl,Vl].includes(String(r))&&l.setLevel("info");const d=await RE({scope:l,client:o,event:u});if(!d)return;o.emit&&o.emit("beforeSendFeedback",d,{includeReplay:!!i});const f=Kc(d,c,o.getOptions()._metadata,o.getOptions().tunnel);let p;try{p=await a.send(f)}catch(h){const _=new Error("Unable to send Feedback");try{_.cause=h}catch{}throw _}if(p){if(typeof p.statusCode=="number"&&(p.statusCode<200||p.statusCode>=300))throw new Error("Unable to send Feedback");return p}})}function xE({name:e,email:t,message:n,source:r=Kl,url:s=Qa()},i={}){if(!n)throw new Error("Unable to submit feedback with empty message");return CE({feedback:{name:e,email:t,message:n,url:s,source:r}},i)}const lt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Ma(e,t){return{...e,...t,themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function AE(e){const t=e.createElement("style");return t.textContent=`
.widget__actor {
  position: fixed;
  left: var(--left);
  right: var(--right);
  bottom: var(--bottom);
  top: var(--top);
  z-index: var(--z-index);

  line-height: 16px;

  display: flex;
  align-items: center;
  gap: 8px;

  border-radius: var(--border-radius);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  padding: 16px;
  text-decoration: none;
  z-index: 9000;

  color: var(--foreground);
  background-color: var(--background);
  border: var(--border);
  box-shadow: var(--box-shadow);
  opacity: 1;
  transition: opacity 0.1s ease-in-out;
}

.widget__actor:hover {
  background-color: var(--background-hover);
}

.widget__actor svg {
  width: 16px;
  height: 16px;
}

.widget__actor--hidden {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}

.widget__actor__text {
}

@media (max-width: 600px) {
  .widget__actor__text {
    display: none;
  }
}

.feedback-icon path {
  fill: var(--foreground);
}
`,t}function ME(e){const t=e.createElement("style");return t.textContent=`
.dialog {
  line-height: 25px;
  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  position: fixed;
  inset: 0;
  z-index: 10000;
  width: 100vw;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  position: fixed;
  left: var(--left);
  right: var(--right);
  bottom: var(--bottom);
  top: var(--top);

  border: var(--border);
  border-radius: var(--form-border-radius);
  background-color: var(--background);
  color: var(--foreground);

  width: 320px;
  max-width: 100%;
  max-height: calc(100% - 2rem);
  display: flex;
  flex-direction: column;
  box-shadow: var(--box-shadow);
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}

.dialog__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-size: 20px;
  font-weight: 600;
  padding: 24px 24px 0 24px;
  margin: 0;
  margin-bottom: 16px;
}

.brand-link {
  display: inline-flex;
}

.error {
  color: var(--error);
  margin-bottom: 16px;
}

.form {
  display: grid;
  overflow: auto;
  flex-direction: column;
  gap: 16px;
  padding: 0 24px 24px;
}

.form__error-container {
  color: var(--error);
}

.form__error-container--hidden {
  display: none;
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: grid;
  gap: 4px;
  align-items: center;
  grid-auto-flow: column;
  grid-auto-columns: max-content;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  line-height: inherit;
  background-color: var(--input-background);
  box-sizing: border-box;
  border: var(--input-border);
  border-radius: var(--form-content-border-radius);
  color: var(--input-foreground);
  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 500;
  padding: 6px 12px;
}

.form__input::placeholder {
  color: var(--input-foreground);
  opacity: 0.65;
}

.form__input:focus-visible {
  outline: 1px auto var(--input-outline-focus);
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.btn-group {
  display: grid;
  gap: 8px;
  margin-top: 8px;
}

.btn {
  line-height: inherit;
  border: var(--cancel-border);
  border-radius: var(--form-content-border-radius);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  padding: 6px 16px;
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  background-color: var(--submit-background);
  border-color: var(--submit-border);
  color: var(--submit-foreground);
}
.btn--primary:hover {
  background-color: var(--submit-background-hover);
  color: var(--submit-foreground-hover);
}
.btn--primary:focus-visible {
  outline: 1px auto var(--submit-outline-focus);
}

.btn--default {
  background-color: var(--cancel-background);
  color: var(--cancel-foreground);
  font-weight: 500;
}
.btn--default:hover {
  background-color: var(--cancel-background-hover);
  color: var(--cancel-foreground-hover);
}
.btn--default:focus-visible {
  outline: 1px auto var(--cancel-outline-focus);
}

.success-message {
  background-color: var(--background);
  border: var(--border);
  border-radius: var(--border-radius);
  box-shadow: var(--box-shadow);
  font-weight: 600;
  color: var(--success);
  padding: 12px 24px;
  line-height: 25px;
  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success-icon path {
  fill: var(--success);
}
`,t}function Oa(e){return`
  --background: ${e.background};
  --background-hover: ${e.backgroundHover};
  --foreground: ${e.foreground};
  --error: ${e.error};
  --success: ${e.success};
  --border: ${e.border};
  --border-radius: ${e.borderRadius};
  --box-shadow: ${e.boxShadow};

  --submit-background: ${e.submitBackground};
  --submit-background-hover: ${e.submitBackgroundHover};
  --submit-border: ${e.submitBorder};
  --submit-outline-focus: ${e.submitOutlineFocus};
  --submit-foreground: ${e.submitForeground};
  --submit-foreground-hover: ${e.submitForegroundHover};

  --cancel-background: ${e.cancelBackground};
  --cancel-background-hover: ${e.cancelBackgroundHover};
  --cancel-border: ${e.cancelBorder};
  --cancel-outline-focus: ${e.cancelOutlineFocus};
  --cancel-foreground: ${e.cancelForeground};
  --cancel-foreground-hover: ${e.cancelForegroundHover};

  --input-background: ${e.inputBackground};
  --input-foreground: ${e.inputForeground};
  --input-border: ${e.inputBorder};
  --input-outline-focus: ${e.inputOutlineFocus};

  --form-border-radius: ${e.formBorderRadius};
  --form-content-border-radius: ${e.formContentBorderRadius};
  `}function OE(e,t,n){const r=e.createElement("style");return r.textContent=`
:host {
  --bottom: 1rem;
  --right: 1rem;
  --top: auto;
  --left: auto;
  --z-index: 100000;
  --font-family: ${n.light.fontFamily};
  --font-size: ${n.light.fontSize};

  position: fixed;
  left: var(--left);
  right: var(--right);
  bottom: var(--bottom);
  top: var(--top);
  z-index: var(--z-index);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${Oa(t==="dark"?n.dark:n.light)}
}

${t==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${Oa(n.dark)}
  }
}`:""}
}`,r}function NE({id:e,colorScheme:t,themeDark:n,themeLight:r}){try{const s=Ct.document,i=s.createElement("div");i.id=e;const o=i.attachShadow({mode:"open"});return o.appendChild(OE(s,t,{dark:n,light:r})),o.appendChild(ME(s)),{shadow:o,host:i}}catch{throw m.warn("[Feedback] Browser does not support shadow DOM API"),new Error("Browser does not support shadow DOM API.")}}async function DE(e,t,n){if(!e)return;const r=()=>{e&&e.showError("There was a problem submitting feedback, please wait and try again.")};e.hideError();try{return await xE({...t,source:Vl},n)}catch(s){lt&&m.error(s),r()}}function ye(e,t){return Object.entries(t).forEach(([n,r])=>{e.setAttributeNS(null,n,r)}),e}const Nt=20,LE="http://www.w3.org/2000/svg";function PE(){const e=a=>Ct.document.createElementNS(LE,a),t=ye(e("svg"),{class:"feedback-icon",width:`${Nt}`,height:`${Nt}`,viewBox:`0 0 ${Nt} ${Nt}`,fill:"none"}),n=ye(e("g"),{clipPath:"url(#clip0_57_80)"}),r=ye(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);const s=e("defs"),i=ye(e("clipPath"),{id:"clip0_57_80"}),o=ye(e("rect"),{width:`${Nt}`,height:`${Nt}`,fill:"white"});return i.appendChild(o),s.appendChild(i),t.appendChild(s).appendChild(i).appendChild(o),{get el(){return t}}}function J(e,t,...n){const s=Ct.document.createElement(e);t&&Object.entries(t).forEach(([i,o])=>{i==="className"&&typeof o=="string"?s.setAttribute("class",o):typeof o=="boolean"&&o?s.setAttribute(i,""):typeof o=="string"?s.setAttribute(i,o):i.startsWith("on")&&typeof o=="function"&&s.addEventListener(i.substring(2).toLowerCase(),o)});for(const i of n)Xl(s,i);return s}function Xl(e,t){const n=Ct.document;if(!(typeof t>"u"||t===null))if(Array.isArray(t))for(const r of t)Xl(e,r);else t===!1||(typeof t=="string"?e.appendChild(n.createTextNode(t)):t instanceof Node?e.appendChild(t):e.appendChild(n.createTextNode(String(t))))}function $E({buttonLabel:e,onClick:t}){function n(s){t&&t(s)}const r=J("button",{type:"button",className:"widget__actor","aria-label":e,"aria-hidden":"false"},PE().el,e?J("span",{className:"widget__actor__text"},e):null);return r.addEventListener("click",n),{get el(){return r},show:()=>{r.classList.remove("widget__actor--hidden"),r.setAttribute("aria-hidden","false")},hide:()=>{r.classList.add("widget__actor--hidden"),r.setAttribute("aria-hidden","true")}}}function FE({label:e}){return{el:J("button",{type:"submit",className:"btn btn--primary","aria-label":e},e)}}function Is(e,t){const n=e.get(t);return typeof n=="string"?n.trim():""}function BE({nameLabel:e,namePlaceholder:t,emailLabel:n,emailPlaceholder:r,messageLabel:s,messagePlaceholder:i,isRequiredLabel:o,cancelButtonLabel:a,submitButtonLabel:c,showName:u,showEmail:l,isNameRequired:d,isEmailRequired:f,defaultName:p,defaultEmail:h,onCancel:_,onSubmit:b}){const{el:g}=FE({label:c});function S(L){if(L.preventDefault(),L.target instanceof HTMLFormElement)try{if(b){const X=new FormData(L.target),ie={name:Is(X,"name"),email:Is(X,"email"),message:Is(X,"message")};b(ie)}}catch{}}const E=J("div",{className:"form__error-container form__error-container--hidden","aria-hidden":"true"});function T(L){E.textContent=L,E.classList.remove("form__error-container--hidden"),E.setAttribute("aria-hidden","false")}function y(){E.textContent="",E.classList.add("form__error-container--hidden"),E.setAttribute("aria-hidden","true")}const v=J("input",{id:"name",type:u?"text":"hidden","aria-hidden":u?"false":"true",name:"name",required:d,className:"form__input",placeholder:t,value:p}),A=J("input",{id:"email",type:l?"text":"hidden","aria-hidden":l?"false":"true",name:"email",required:f,className:"form__input",placeholder:r,value:h}),O=J("textarea",{id:"message",autoFocus:"true",rows:"5",name:"message",required:!0,className:"form__input form__input--textarea",placeholder:i}),k=J("button",{type:"button",className:"btn btn--default","aria-label":a,onClick:L=>{_&&_(L)}},a),C=J("form",{className:"form",onSubmit:S},[E,u&&J("label",{htmlFor:"name",className:"form__label"},[J("span",{className:"form__label__text"},e,d&&J("span",{className:"form__label__text--required"},` ${o}`)),v]),!u&&v,l&&J("label",{htmlFor:"email",className:"form__label"},[J("span",{className:"form__label__text"},n,f&&J("span",{className:"form__label__text--required"},` ${o}`)),A]),!l&&A,J("label",{htmlFor:"message",className:"form__label"},[J("span",{className:"form__label__text"},s,J("span",{className:"form__label__text--required"},` ${o}`)),O]),J("div",{className:"btn-group"},[g,k])]);return{get el(){return C},showError:T,hideError:y}}const HE="http://www.w3.org/2000/svg";function UE({colorScheme:e}){const t=o=>Ct.document.createElementNS(HE,o),n=ye(t("svg"),{class:"sentry-logo",width:"32",height:"30",viewBox:"0 0 72 66",fill:"none"}),r=ye(t("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});n.append(r);const s=t("defs"),i=t("style");return i.textContent=`
    path {
      fill: ${e==="dark"?"#fff":"#362d59"};
    }`,e==="system"&&(i.textContent+=`
    @media (prefers-color-scheme: dark) {
      path: {
        fill: '#fff';
      }
    }
    `),s.append(i),n.append(s),{get el(){return n}}}function jE({formTitle:e,showBranding:t,showName:n,showEmail:r,isNameRequired:s,isEmailRequired:i,colorScheme:o,defaultName:a,defaultEmail:c,onClosed:u,onCancel:l,onSubmit:d,...f}){let p=null;function h(){_(),u&&u()}function _(){p&&(p.open=!1)}function b(){p&&(p.open=!0)}function g(){return p&&p.open===!0||!1}const{el:S,showError:E,hideError:T}=BE({showEmail:r,showName:n,isEmailRequired:i,isNameRequired:s,defaultName:a,defaultEmail:c,onSubmit:d,onCancel:l,...f});return p=J("dialog",{className:"dialog",open:!0,onClick:h},J("div",{className:"dialog__content",onClick:y=>{y.stopPropagation()}},J("h2",{className:"dialog__header"},e,t&&J("a",{className:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer"},UE({colorScheme:o}).el)),S)),{get el(){return p},showError:E,hideError:T,open:b,close:_,checkIsOpen:g}}const cr=16,Na=17,WE="http://www.w3.org/2000/svg";function zE(){const e=c=>Ct.document.createElementNS(WE,c),t=ye(e("svg"),{class:"success-icon",width:`${cr}`,height:`${Na}`,viewBox:`0 0 ${cr} ${Na}`,fill:"none"}),n=ye(e("g"),{clipPath:"url(#clip0_57_156)"}),r=ye(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),s=ye(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(s,r);const i=e("defs"),o=ye(e("clipPath"),{id:"clip0_57_156"}),a=ye(e("rect"),{width:`${cr}`,height:`${cr}`,fill:"white",transform:"translate(0 0.5)"});return o.appendChild(a),i.appendChild(o),t.appendChild(i).appendChild(o).appendChild(a),{get el(){return t}}}function GE({message:e,onRemove:t}){function n(){r&&(r.remove(),t&&t())}const r=J("div",{className:"success-message",onClick:n},zE().el,e);return{el:r,remove:n}}function Da({shadow:e,options:{shouldCreateActor:t=!0,...n},attachTo:r}){let s,i,o=!1;function a(){if(e)try{const g=GE({message:n.successMessageText,onRemove:()=>{S&&clearTimeout(S),l()}});if(!g.el)throw new Error("Unable to show success message");e.appendChild(g.el);const S=setTimeout(()=>{g&&g.remove()},5e3)}catch(g){m.error(g)}}async function c(g){if(!i)return;const S=[];if(n.isNameRequired&&!g.name&&S.push(n.nameLabel),n.isEmailRequired&&!g.email&&S.push(n.emailLabel),g.message||S.push(n.messageLabel),S.length>0){i.showError(`Please enter in the following required fields: ${S.join(", ")}`);return}if(!await DE(i,g)){n.onSubmitError&&n.onSubmitError();return}_(),a(),n.onSubmitSuccess&&n.onSubmitSuccess()}function u(){const g=x(),S=g&&g.getIntegrationByName&&g.getIntegrationByName("Replay");S&&S.flush().catch(E=>{lt&&m.error(E)})}function l(){s&&s.show()}function d(){s&&s.hide()}function f(){s&&s.el&&s.el.remove()}function p(){try{if(i){i.open(),o=!0,n.onFormOpen&&n.onFormOpen(),u();return}const g=n.useSentryUser,S=se(),E=S&&S.getUser();if(i=jE({colorScheme:n.colorScheme,showBranding:n.showBranding,showName:n.showName||n.isNameRequired,showEmail:n.showEmail||n.isEmailRequired,isNameRequired:n.isNameRequired,isEmailRequired:n.isEmailRequired,formTitle:n.formTitle,cancelButtonLabel:n.cancelButtonLabel,submitButtonLabel:n.submitButtonLabel,emailLabel:n.emailLabel,emailPlaceholder:n.emailPlaceholder,messageLabel:n.messageLabel,messagePlaceholder:n.messagePlaceholder,nameLabel:n.nameLabel,namePlaceholder:n.namePlaceholder,isRequiredLabel:n.isRequiredLabel,defaultName:g&&E&&E[g.name]||"",defaultEmail:g&&E&&E[g.email]||"",onClosed:()=>{l(),o=!1,n.onFormClose&&n.onFormClose()},onCancel:()=>{h(),l()},onSubmit:c}),!i.el)throw new Error("Unable to open Feedback dialog");e.appendChild(i.el),d(),n.onFormOpen&&n.onFormOpen(),u()}catch(g){m.error(g)}}function h(){i&&(i.close(),o=!1,n.onFormClose&&n.onFormClose())}function _(){if(i){h();const g=i.el;g&&g.remove(),i=void 0}}function b(){o||p(),d()}return r?r.addEventListener("click",b):t&&(s=$E({buttonLabel:n.buttonLabel,onClick:b}),s.el&&e.appendChild(s.el)),{get actor(){return s},get dialog(){return i},showActor:l,hideActor:d,removeActor:f,openDialog:p,closeDialog:h,removeDialog:_}}const ur=Ct.document,tI=(e=>new ns(e));class ns{static __initStatic(){this.id="Feedback"}constructor({autoInject:t=!0,id:n="sentry-feedback",isEmailRequired:r=!1,isNameRequired:s=!1,showBranding:i=!0,showEmail:o=!0,showName:a=!0,useSentryUser:c={email:"email",name:"username"},themeDark:u,themeLight:l,colorScheme:d="system",buttonLabel:f=mE,cancelButtonLabel:p=gE,submitButtonLabel:h=_E,formTitle:_=yE,emailPlaceholder:b=SE,emailLabel:g=bE,messagePlaceholder:S=EE,messageLabel:E=vE,namePlaceholder:T=TE,nameLabel:y=IE,isRequiredLabel:v=wE,successMessageText:A=kE,onFormClose:O,onFormOpen:k,onSubmitError:C,onSubmitSuccess:L}={}){this.name=ns.id,this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1,this.options={autoInject:t,showBranding:i,id:n,isEmailRequired:r,isNameRequired:s,showEmail:o,showName:a,useSentryUser:c,colorScheme:d,themeDark:{...Aa.dark,...u},themeLight:{...Aa.light,...l},buttonLabel:f,cancelButtonLabel:p,submitButtonLabel:h,formTitle:_,emailLabel:g,emailPlaceholder:b,messageLabel:E,messagePlaceholder:S,nameLabel:y,namePlaceholder:T,isRequiredLabel:v,successMessageText:A,onFormClose:O,onFormOpen:k,onSubmitError:C,onSubmitSuccess:L}}setupOnce(){if(Ps())try{this._cleanupWidgetIfExists();const{autoInject:t}=this.options;if(!t)return;this._createWidget(this.options)}catch(t){lt&&m.error(t)}}openDialog(){this._widget||this._createWidget({...this.options,shouldCreateActor:!1}),this._widget&&this._widget.openDialog()}closeDialog(){this._widget&&this._widget.closeDialog()}attachTo(t,n){try{const r=Ma(this.options,n||{});return this._ensureShadowHost(r,({shadow:s})=>{const i=typeof t=="string"?ur.querySelector(t):typeof t.addEventListener=="function"?t:null;if(!i)return lt&&m.error("[Feedback] Unable to attach to target element"),null;const o=Da({shadow:s,options:r,attachTo:i});return this._widgets.add(o),this._widget||(this._widget=o),o})}catch(r){return lt&&m.error(r),null}}createWidget(t){try{return this._createWidget(Ma(this.options,t||{}))}catch(n){return lt&&m.error(n),null}}removeWidget(t){if(!t)return!1;try{if(this._widgets.has(t))return t.removeActor(),t.removeDialog(),this._widgets.delete(t),this._widget===t&&(this._widget=null),!0}catch(n){lt&&m.error(n)}return!1}getWidget(){return this._widget}remove(){this._host&&this._host.remove(),this._initialize()}_initialize(){this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1}_cleanupWidgetIfExists(){this._host&&this.remove();const t=ur.querySelector(`#${this.options.id}`);t&&t.remove()}_createWidget(t){return this._ensureShadowHost(t,({shadow:n})=>{const r=Da({shadow:n,options:t});return!this._hasInsertedActorStyles&&r.actor&&(n.appendChild(AE(ur)),this._hasInsertedActorStyles=!0),this._widgets.add(r),this._widget||(this._widget=r),r})}_ensureShadowHost(t,n){let r=!1;if(!this._shadow||!this._host){const{id:i,colorScheme:o,themeLight:a,themeDark:c}=t,{shadow:u,host:l}=NE({id:i,colorScheme:o,themeLight:a,themeDark:c});this._shadow=u,this._host=l,r=!0}this._host.dataset.sentryFeedbackColorscheme=t.colorScheme;const s=n({shadow:this._shadow,host:this._host});return r&&ur.body.appendChild(this._host),s}}ns.__initStatic();const Jl="CaptureConsole",qE=((e={})=>{const t=e.levels||gr;return{name:Jl,setupOnce(){},setup(n){"console"in M&&uc(({args:r,level:s})=>{x()!==n||!t.includes(s)||VE(r,s)})}}}),YE=qE;te(Jl,YE);function VE(e,t){const n={level:yc(t),extra:{arguments:e}};it(r=>{if(r.addEventProcessor(o=>(o.logger="console",Et(o,{handled:!1,type:"console"}),o)),t==="assert"&&e[0]===!1){const o=`Assertion failed: ${mr(e.slice(1)," ")||"console.assert"}`;r.setExtra("arguments",e.slice(1)),Hs(o,n);return}const s=e.find(o=>o instanceof Error);if(t==="error"&&s){$n(s,n);return}const i=mr(e," ");Hs(i,n)})}const Zl="Debug",KE=((e={})=>{const t={debugger:!1,stringify:!1,...e};return{name:Zl,setupOnce(){},setup(n){n.on&&n.on("beforeSendEvent",(r,s)=>{if(t.debugger)debugger;nt(()=>{t.stringify?(console.log(JSON.stringify(r,null,2)),s&&Object.keys(s).length&&console.log(JSON.stringify(s,null,2))):(console.log(r),s&&Object.keys(s).length&&console.log(s))})})}}}),XE=KE;te(Zl,XE);const rn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Ql="Dedupe",JE=(()=>{let e;return{name:Ql,setupOnce(){},processEvent(t){if(t.type)return t;try{if(QE(t,e))return rn&&m.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}}),ZE=JE;te(Ql,ZE);function QE(e,t){return t?!!(ev(e,t)||tv(e,t)):!1}function ev(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!td(e,t)||!ed(e,t))}function tv(e,t){const n=La(t),r=La(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!td(e,t)||!ed(e,t))}function ed(e,t){let n=Pa(e),r=Pa(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const i=r[s],o=n[s];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function td(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function La(e){return e.exception&&e.exception.values&&e.exception.values[0]}function Pa(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch{return}}const nd="ExtraErrorData",nv=((e={})=>{const t=e.depth||3,n=e.captureErrorCause||!1;return{name:nd,setupOnce(){},processEvent(r,s){return sv(r,s,t,n)}}}),rv=nv;te(nd,rv);function sv(e,t={},n,r){if(!t.originalException||!ht(t.originalException))return e;const s=t.originalException.name||t.originalException.constructor.name,i=iv(t.originalException,r);if(i){const o={...e.contexts},a=we(i,n);return bt(a)&&(We(a,"__sentry_skip_normalization__",!0),o[s]=a),{...e,contexts:o}}return e}function iv(e,t){try{const n=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],r={};for(const s of Object.keys(e)){if(n.indexOf(s)!==-1)continue;const i=e[s];r[s]=ht(i)?i.toString():i}if(t&&e.cause!==void 0&&(r.cause=ht(e.cause)?e.cause.toString():e.cause),typeof e.toJSON=="function"){const s=e.toJSON();for(const i of Object.keys(s)){const o=s[i];r[i]=ht(o)?o.toString():o}}return r}catch(n){rn&&m.error("Unable to extract extra data from the Error object:",n)}return null}const ov=M,rd="ReportingObserver",$a=new WeakMap,av=((e={})=>{const t=e.types||["crash","deprecation","intervention"];function n(r){if($a.has(x()))for(const s of r)it(i=>{i.setExtra("url",s.url);const o=`ReportingObserver [${s.type}]`;let a="No details available";if(s.body){const c={};for(const u in s.body)c[u]=s.body[u];if(i.setExtra("body",c),s.type==="crash"){const u=s.body;a=[u.crashId||"",u.reason||""].join(" ").trim()||a}else a=s.body.message||a}Hs(`${o}: ${a}`)})}return{name:rd,setupOnce(){if(!sf())return;new ov.ReportingObserver(n,{buffered:!0,types:t}).observe()},setup(r){$a.set(r,!0)}}}),cv=av;te(rd,cv);const sd="RewriteFrames",uv=((e={})=>{const t=e.root,n=e.prefix||"app:///",r=e.iteratee||(o=>{if(!o.filename)return o;const a=/^[a-zA-Z]:\\/.test(o.filename)||o.filename.includes("\\")&&!o.filename.includes("/"),c=/^\//.test(o.filename);if(a||c){const u=a?o.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):o.filename,l=t?Rf(t,u):Cf(u);o.filename=`${n}${l}`}return o});function s(o){try{return{...o,exception:{...o.exception,values:o.exception.values.map(a=>({...a,...a.stacktrace&&{stacktrace:i(a.stacktrace)}}))}}}catch{return o}}function i(o){return{...o,frames:o&&o.frames&&o.frames.map(a=>r(a))}}return{name:sd,setupOnce(){},processEvent(o){let a=o;return o.exception&&Array.isArray(o.exception.values)&&(a=s(a)),a}}}),lv=uv;te(sd,lv);const id="SessionTiming",dv=(()=>{const e=Date.now();return{name:id,setupOnce(){},processEvent(t){const n=Date.now();return{...t,extra:{...t.extra,"session:start":e,"session:duration":n-e,"session:end":n}}}}}),fv=dv;te(id,fv);const od="HttpClient",pv=((e={})=>{const t={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...e};return{name:od,setupOnce(){},setup(n){vv(n,t),Tv(n,t)}}}),hv=pv;te(od,hv);function mv(e,t,n,r){if(cd(e,n.status,n.url)){const s=Iv(t,r);let i,o,a,c;ld()&&([{headers:i,cookies:a},{headers:o,cookies:c}]=[{cookieHeader:"Cookie",obj:s},{cookieHeader:"Set-Cookie",obj:n}].map(({cookieHeader:l,obj:d})=>{const f=yv(d.headers);let p;try{const h=f[l]||f[l.toLowerCase()]||void 0;h&&(p=ad(h))}catch{rn&&m.log(`Could not extract cookies from header ${l}`)}return{headers:f,cookies:p}}));const u=ud({url:s.url,method:s.method,status:n.status,requestHeaders:i,responseHeaders:o,requestCookies:a,responseCookies:c});Hr(u)}}function gv(e,t,n,r){if(cd(e,t.status,t.responseURL)){let s,i,o;if(ld()){try{const c=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;c&&(i=ad(c))}catch{rn&&m.log("Could not extract cookies from response headers")}try{o=Sv(t)}catch{rn&&m.log("Could not extract headers from response")}s=r}const a=ud({url:t.responseURL,method:n,status:t.status,requestHeaders:s,responseHeaders:o,responseCookies:i});Hr(a)}}function _v(e){if(e){const t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}function ad(e){return e.split("; ").reduce((t,n)=>{const[r,s]=n.split("=");return t[r]=s,t},{})}function yv(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function Sv(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[s,i]=r.split(": ");return n[s]=i,n},{}):{}}function bv(e,t){return e.some(n=>typeof n=="string"?t.includes(n):n.test(t))}function Ev(e,t){return e.some(n=>typeof n=="number"?n===t:t>=n[0]&&t<=n[1])}function vv(e,t){hc()&&Pr(n=>{if(x()!==e)return;const{response:r,args:s}=n,[i,o]=s;r&&mv(t,i,r,o)})}function Tv(e,t){"XMLHttpRequest"in M&&$r(n=>{if(x()!==e)return;const r=n.xhr,s=r[He];if(!s)return;const{method:i,request_headers:o}=s;try{gv(t,r,i,o)}catch(a){rn&&m.warn("Error while extracting response event form XHR response",a)}})}function cd(e,t,n){return Ev(e.failedRequestStatusCodes,t)&&bv(e.failedRequestTargets,n)&&!ou(n,x())}function ud(e){const t=`HTTP Client Error with status code: ${e.status}`,n={message:t,exception:{values:[{type:"Error",value:t}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:_v(e.responseHeaders)}}};return Et(n,{type:"http.client",handled:!1}),n}function Iv(e,t){return!t&&e instanceof Request||e instanceof Request&&e.bodyUsed?e:new Request(e,t)}function ld(){const e=x();return e?!!e.getOptions().sendDefaultPii:!1}const ws=M,wv=7,dd="ContextLines",kv=((e={})=>{const t=e.frameContextLines!=null?e.frameContextLines:wv;return{name:dd,setupOnce(){},processEvent(n){return Cv(n,t)}}}),Rv=kv;te(dd,Rv);function Cv(e,t){const n=ws.document,r=ws.location&&Af(ws.location.href);if(!n||!r)return e;const s=e.exception&&e.exception.values;if(!s||!s.length)return e;const i=n.documentElement.innerHTML;if(!i)return e;const o=["<!DOCTYPE html>","<html>",...i.split(`
`),"</html>"];return s.forEach(a=>{const c=a.stacktrace;c&&c.frames&&(c.frames=c.frames.map(u=>xv(u,o,r,t)))}),e}function xv(e,t,n,r){return e.filename!==n||!e.lineno||!t.length||Zd(t,e,r),e}function On(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function Av(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=On(n);return s=>r.then(i=>s(i.transaction(t,"readwrite").objectStore(t)))}function fd(e){return On(e.getAllKeys())}function Mv(e,t,n){return e(r=>fd(r).then(s=>{if(!(s.length>=n))return r.put(t,Math.max(...s,0)+1),On(r.transaction)}))}function Ov(e){return e(t=>fd(t).then(n=>{if(n.length!==0)return On(t.get(n[0])).then(r=>(t.delete(n[0]),On(t.transaction).then(()=>r)))}))}function Nv(e){let t;function n(){return t==null&&(t=Av(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{insert:async r=>{try{const s=await Ic(r,e.textEncoder);await Mv(n(),s,e.maxQueueSize||30)}catch{}},pop:async()=>{try{const r=await Ov(n());if(r)return Uf(r,e.textEncoder||new TextEncoder,e.textDecoder||new TextDecoder)}catch{}}}}function Dv(e){return t=>e({...t,createStore:Nv})}function nI(e){return Dv(gh(e))}const Fa=1e6,hr=String(0),Lv="main";let pd="",hd="",md="",si=w.navigator&&w.navigator.userAgent||"",gd="";const Pv=w.navigator&&w.navigator.language||w.navigator&&w.navigator.languages&&w.navigator.languages[0]||"";function $v(e){return typeof e=="object"&&e!==null&&"getHighEntropyValues"in e}const Ba=w.navigator&&w.navigator.userAgentData;$v(Ba)&&Ba.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{if(pd=e.platform||"",md=e.architecture||"",gd=e.model||"",hd=e.platformVersion||"",e.fullVersionList&&e.fullVersionList.length>0){const t=e.fullVersionList[e.fullVersionList.length-1];si=`${t.brand} ${t.version}`}}).catch(e=>{});function Fv(e){return!("thread_metadata"in e)}function Bv(e){return Fv(e)?jv(e):e}function Hv(e){const t=e&&e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id;return typeof t=="string"&&t.length!==32&&F&&m.log(`[Profiling] Invalid traceId: ${t} on profiled event`),typeof t!="string"?"":t}function Uv(e,t,n,r){if(r.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(n==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);const s=Hv(r),i=Bv(n),o=t||(typeof r.start_timestamp=="number"?r.start_timestamp*1e3:Date.now()),a=typeof r.timestamp=="number"?r.timestamp*1e3:Date.now();return{event_id:e,timestamp:new Date(o).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||Pn,runtime:{name:"javascript",version:w.navigator.userAgent},os:{name:pd,version:hd,build_number:si},device:{locale:Pv,model:gd,manufacturer:si,architecture:md,is_emulator:!1},debug_meta:{images:Gv(n.resources)},profile:i,transactions:[{name:r.transaction||"",id:r.event_id||z(),trace_id:s,active_thread_id:hr,relative_start_ns:"0",relative_end_ns:((a-o)*1e6).toFixed(0)}]}}function _d(e){return e.op==="pageload"}function jv(e){let t,n=0;const r={samples:[],stacks:[],frames:[],thread_metadata:{[hr]:{name:Lv}}};if(!e.samples.length)return r;const s=e.samples[0].timestamp,i=typeof performance.timeOrigin=="number"?performance.timeOrigin:de||0,o=i-(de||i);for(let a=0;a<e.samples.length;a++){const c=e.samples[a];if(c.stackId===void 0){t===void 0&&(t=n,r.stacks[t]=[],n++),r.samples[a]={elapsed_since_start_ns:((c.timestamp+o-s)*Fa).toFixed(0),stack_id:t,thread_id:hr};continue}let u=e.stacks[c.stackId];const l=[];for(;u;){l.push(u.frameId);const f=e.frames[u.frameId];r.frames[u.frameId]===void 0&&(r.frames[u.frameId]={function:f.name,abs_path:typeof f.resourceId=="number"?e.resources[f.resourceId]:void 0,lineno:f.line,colno:f.column}),u=u.parentId===void 0?void 0:e.stacks[u.parentId]}const d={elapsed_since_start_ns:((c.timestamp+o-s)*Fa).toFixed(0),stack_id:n,thread_id:hr};r.stacks[n]=l,r.samples[a]=d,n++}return r}function Wv(e,t){if(!t.length)return e;for(const n of t)e[1].push([{type:"profile"},n]);return e}function zv(e){const t=[];return Kt(e,(n,r)=>{if(r==="transaction")for(let s=1;s<n.length;s++){const i=n[s];i&&i.contexts&&i.contexts.profile&&i.contexts.profile.profile_id&&t.push(n[s])}}),t}const Ha=new WeakMap;function Gv(e){const t=M._sentryDebugIds;if(!t)return[];const n=x(),r=n&&n.getOptions(),s=r&&r.stackParser;if(!s)return[];let i;const o=Ha.get(s);o?i=o:(i=new Map,Ha.set(s,i));const a=Object.keys(t).reduce((u,l)=>{let d;const f=i.get(l);f?d=f:(d=s(l),i.set(l,d));for(let p=d.length-1;p>=0;p--){const h=d[p],_=h&&h.filename;if(h&&_){u[_]=t[l];break}}return u},{}),c=[];for(const u of e)u&&a[u]&&c.push({type:"sourcemap",code_file:u,debug_id:a[u]});return c}function qv(e){return typeof e!="number"&&typeof e!="boolean"||typeof e=="number"&&isNaN(e)?(F&&m.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e===!0||e===!1?!0:e<0||e>1?(F&&m.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function Yv(e){return e.samples.length<2?(F&&m.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):e.frames.length?!0:(F&&m.log("[Profiling] Discarding profile because it contains no frames"),!1)}let yd=!1;const Sd=3e4;function Vv(e){return typeof e=="function"}function Kv(){const e=w.Profiler;if(!Vv(e)){F&&m.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}const t=10,n=Math.floor(Sd/t);try{return new e({sampleInterval:t,maxBufferSize:n})}catch{F&&(m.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),m.log("[Profiling] Disabling profiling for current user session.")),yd=!0}}function ii(e){if(yd)return F&&m.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return F&&m.log("[Profiling] Discarding profile because transaction was not sampled."),!1;const t=x(),n=t&&t.getOptions();if(!n)return F&&m.log("[Profiling] Profiling disabled, no options found."),!1;const r=n.profilesSampleRate;return qv(r)?r?(r===!0?!0:Math.random()<r)?!0:(F&&m.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1):(F&&m.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(F&&m.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function Xv(e,t,n,r){return Yv(n)?Uv(e,t,n,r):null}const pt=new Map;function Jv(){return pt.size}function Zv(e){const t=pt.get(e);return t&&pt.delete(e),t}function Qv(e,t){if(pt.set(e,t),pt.size>30){const n=pt.keys().next().value;pt.delete(n)}}function rI(e){return e?ii(e)?oi(e):e:(F&&m.log("[Profiling] Transaction is undefined, skipping profiling"),e)}function oi(e){let t;_d(e)&&(t=Le()*1e3);const n=Kv();if(!n)return e;F&&m.log(`[Profiling] started profiling transaction: ${H(e).description}`);const r=z();async function s(){return!e||!n?null:n.stop().then(c=>(i&&(w.clearTimeout(i),i=void 0),F&&m.log(`[Profiling] stopped profiling of transaction: ${H(e).description}`),c?(Qv(r,c),null):(F&&m.log(`[Profiling] profiler returned null profile for: ${H(e).description}`,"this may indicate an overlapping transaction or a call to stopProfiling with a profile title that was never started"),null))).catch(c=>(F&&m.log("[Profiling] error while stopping profiler:",c),null))}let i=w.setTimeout(()=>{F&&m.log("[Profiling] max profile duration elapsed, stopping profiling for:",H(e).description),s()},Sd);const o=e.end.bind(e);function a(){return e?(s().then(()=>{e.setContext("profile",{profile_id:r,start_timestamp:t}),o()},()=>{o()}),e):o()}return e.end=a,e}const bd="BrowserProfiling",eT=(()=>({name:bd,setupOnce(){},setup(e){const n=se().getTransaction();if(n&&_d(n)&&ii(n)&&oi(n),typeof e.on!="function"){m.warn("[Profiling] Client does not support hooks, profiling will be disabled");return}e.on("startTransaction",r=>{ii(r)&&oi(r)}),e.on("beforeEnvelope",r=>{if(!Jv())return;const s=zv(r);if(!s.length)return;const i=[];for(const o of s){const a=o&&o.contexts,c=a&&a.profile&&a.profile.profile_id,u=a&&a.profile&&a.profile.start_timestamp;if(typeof c!="string"){F&&m.log("[Profiling] cannot find profile for a transaction without a profile context");continue}if(!c){F&&m.log("[Profiling] cannot find profile for a transaction without a profile context");continue}a&&a.profile&&delete a.profile;const l=Zv(c);if(!l){F&&m.log(`[Profiling] Could not retrieve profile for transaction: ${c}`);continue}const d=Xv(c,u,l,o);d&&i.push(d)}Wv(r,i)})}})),tT=eT,sI=te(bd,tT);let Ed={};w.Sentry&&w.Sentry.Integrations&&(Ed=w.Sentry.Integrations);const iI={...Ed,...sm,...M_};function oI(e){const t={...e};au(t,"react"),x_(t)}var ks={exports:{}},W={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ua;function nT(){if(Ua)return W;Ua=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,s=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,a=e?Symbol.for("react.context"):60110,c=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,l=e?Symbol.for("react.forward_ref"):60112,d=e?Symbol.for("react.suspense"):60113,f=e?Symbol.for("react.suspense_list"):60120,p=e?Symbol.for("react.memo"):60115,h=e?Symbol.for("react.lazy"):60116,_=e?Symbol.for("react.block"):60121,b=e?Symbol.for("react.fundamental"):60117,g=e?Symbol.for("react.responder"):60118,S=e?Symbol.for("react.scope"):60119;function E(y){if(typeof y=="object"&&y!==null){var v=y.$$typeof;switch(v){case t:switch(y=y.type,y){case c:case u:case r:case i:case s:case d:return y;default:switch(y=y&&y.$$typeof,y){case a:case l:case h:case p:case o:return y;default:return v}}case n:return v}}}function T(y){return E(y)===u}return W.AsyncMode=c,W.ConcurrentMode=u,W.ContextConsumer=a,W.ContextProvider=o,W.Element=t,W.ForwardRef=l,W.Fragment=r,W.Lazy=h,W.Memo=p,W.Portal=n,W.Profiler=i,W.StrictMode=s,W.Suspense=d,W.isAsyncMode=function(y){return T(y)||E(y)===c},W.isConcurrentMode=T,W.isContextConsumer=function(y){return E(y)===a},W.isContextProvider=function(y){return E(y)===o},W.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===t},W.isForwardRef=function(y){return E(y)===l},W.isFragment=function(y){return E(y)===r},W.isLazy=function(y){return E(y)===h},W.isMemo=function(y){return E(y)===p},W.isPortal=function(y){return E(y)===n},W.isProfiler=function(y){return E(y)===i},W.isStrictMode=function(y){return E(y)===s},W.isSuspense=function(y){return E(y)===d},W.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===u||y===i||y===s||y===d||y===f||typeof y=="object"&&y!==null&&(y.$$typeof===h||y.$$typeof===p||y.$$typeof===o||y.$$typeof===a||y.$$typeof===l||y.$$typeof===b||y.$$typeof===g||y.$$typeof===S||y.$$typeof===_)},W.typeOf=E,W}var ja;function rT(){return ja||(ja=1,ks.exports=nT()),ks.exports}var Rs,Wa;function sT(){if(Wa)return Rs;Wa=1;var e=rT(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[e.ForwardRef]=r,i[e.Memo]=s;function o(h){return e.isMemo(h)?s:i[h.$$typeof]||t}var a=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,l=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,f=Object.prototype;function p(h,_,b){if(typeof _!="string"){if(f){var g=d(_);g&&g!==f&&p(h,g,b)}var S=c(_);u&&(S=S.concat(u(_)));for(var E=o(h),T=o(_),y=0;y<S.length;++y){var v=S[y];if(!n[v]&&!(b&&b[v])&&!(T&&T[v])&&!(E&&E[v])){var A=l(_,v);try{a(h,v,A)}catch{}}}}return h}return Rs=p,Rs}var iT=sT();const rs=Od(iT),vd="ui.react.render",oT="ui.react.update",Td="ui.react.mount",za="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/profiler.tsx",aT="unknown";class Id extends be.Component{static __initStatic(){this.defaultProps={disabled:!1,includeRender:!0,includeUpdates:!0}}constructor(t){super(t);const{name:n,disabled:r=!1}=this.props;r||(this._mountSpan=gt({name:`<${n}>`,onlyIfParent:!0,op:Td,origin:"auto.ui.react.profiler",attributes:{"ui.component_name":n}}))}componentDidMount(){this._mountSpan&&this._mountSpan.end()}shouldComponentUpdate({updateProps:t,includeUpdates:n=!0}){if(n&&this._mountSpan&&t!==this.props.updateProps){const r=Object.keys(t).filter(s=>t[s]!==this.props.updateProps[s]);if(r.length>0){const s=Le();this._updateSpan=yo(this._mountSpan,()=>gt({name:`<${this.props.name}>`,onlyIfParent:!0,op:oT,origin:"auto.ui.react.profiler",startTimestamp:s,attributes:{"ui.component_name":this.props.name,"ui.react.changed_props":r}}))}}return!0}componentDidUpdate(){this._updateSpan&&(this._updateSpan.end(),this._updateSpan=void 0)}componentWillUnmount(){const t=Le(),{name:n,includeRender:r=!0}=this.props;if(this._mountSpan&&r){const s=H(this._mountSpan).timestamp;yo(this._mountSpan,()=>{const i=gt({onlyIfParent:!0,name:`<${n}>`,op:vd,origin:"auto.ui.react.profiler",startTimestamp:s,attributes:{"ui.component_name":n}});i&&i.end(t)})}}render(){return this.props.children}}Id.__initStatic();function aI(e,t){const n=t&&t.name||e.displayName||e.name||aT,r=s=>be.createElement(Id,{...t,name:n,updateProps:s,__self:this,__source:{fileName:za,lineNumber:159}},be.createElement(e,{...s,__self:this,__source:{fileName:za,lineNumber:160}}));return r.displayName=`profiler(${n})`,rs(r,e),r}function cI(e,t={disabled:!1,hasRenderSpan:!0}){const[n]=be.useState(()=>{if(!(t&&t.disabled))return gt({name:`<${e}>`,onlyIfParent:!0,op:Td,origin:"auto.ui.react.profiler",attributes:{"ui.component_name":e}})});be.useEffect(()=>(n&&n.end(),()=>{if(n&&t.hasRenderSpan){const r=H(n).timestamp,s=Le(),i=gt({name:`<${e}>`,onlyIfParent:!0,op:vd,origin:"auto.ui.react.profiler",startTimestamp:r,attributes:{"ui.component_name":e}});i&&i.end(s)}}),[])}const zi=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Ga="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/errorboundary.tsx";function cT(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}const uT="unknown",qa={componentStack:null,error:null,eventId:null};function lT(e,t){const n=new WeakMap;function r(s,i){if(!n.has(s)){if(s.cause)return n.set(s,!0),r(s.cause,i);s.cause=i}}r(e,t)}class Gi extends be.Component{constructor(t){super(t),Gi.prototype.__init.call(this),this.state=qa,this._openFallbackReportDialog=!0;const n=x();n&&n.on&&t.showDialog&&(this._openFallbackReportDialog=!1,n.on("afterSendEvent",r=>{!r.type&&r.event_id===this._lastEventId&&Ko({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,{componentStack:n}){const{beforeCapture:r,onError:s,showDialog:i,dialogOptions:o}=this.props;it(a=>{if(cT(be.version)&&ht(t)){const u=new Error(t.message);u.name=`React ErrorBoundary ${t.name}`,u.stack=n,lT(t,u)}r&&r(a,t,n);const c=$n(t,{captureContext:{contexts:{react:{componentStack:n}}},mechanism:{handled:!!this.props.fallback}});s&&s(t,n,c),i&&(this._lastEventId=c,this._openFallbackReportDialog&&Ko({...o,eventId:c})),this.setState({error:t,componentStack:n,eventId:c})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:n,eventId:r}=this.state,{onUnmount:s}=this.props;s&&s(t,n,r)}__init(){this.resetErrorBoundary=()=>{const{onReset:t}=this.props,{error:n,componentStack:r,eventId:s}=this.state;t&&t(n,r,s),this.setState(qa)}}render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.error){let s;return typeof t=="function"?s=t({error:r.error,componentStack:r.componentStack,resetError:this.resetErrorBoundary,eventId:r.eventId}):s=t,be.isValidElement(s)?s:(t&&zi&&m.warn("fallback did not produce a valid ReactElement"),null)}return typeof n=="function"?n():n}}function uI(e,t){const n=e.displayName||e.name||uT,r=s=>be.createElement(Gi,{...t,__self:this,__source:{fileName:Ga,lineNumber:240}},be.createElement(e,{...s,__self:this,__source:{fileName:Ga,lineNumber:241}}));return r.displayName=`errorBoundary(${n})`,rs(r,e),r}const dT="redux.action",fT="info",pT={attachReduxState:!0,actionTransformer:e=>e,stateTransformer:e=>e||null};function lI(e){const t={...pT,...e};return n=>(r,s)=>(t.attachReduxState&&Lc().addEventProcessor((o,a)=>{try{o.type===void 0&&o.contexts.state.state.type==="redux"&&(a.attachments=[...a.attachments||[],{filename:"redux_state.json",data:JSON.stringify(o.contexts.state.state.value)}])}catch{}return o}),n((o,a)=>{const c=r(o,a),u=se(),l=t.actionTransformer(a);typeof l<"u"&&l!==null&&u.addBreadcrumb({category:dT,data:l,type:fT});const d=t.stateTransformer(c);if(typeof d<"u"&&d!==null){const p=x(),h=p&&p.getOptions(),_=h&&h.normalizeDepth||3,b={state:{type:"redux",value:d}};We(b,"__sentry_override_normalization_depth__",3+_),u.setContext("state",b)}else u.setContext("state",null);const{configureScopeWithState:f}=t;return typeof f=="function"&&f(u,c),c},s))}function dI(e){const t=Vr({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,match:s,instrumentPageLoad:i=!0,instrumentNavigation:o=!0}=e;return{...t,afterAllSetup(a){t.afterAllSetup(a);const c=d=>{jn(a,d)},u=d=>{Wn(a,d)},l=hT(n,r,s);l(c,i,!1),l(u,!1,o)}}}function hT(e,t,n){return(r,s=!0,i=!0)=>{let o,a;s&&w&&w.location&&Ya(t,w.location,n,(c,u="url")=>{a=c,o=r({name:a,attributes:{[Re]:"pageload",[Se]:"auto.pageload.react.reactrouter_v3",[re]:u}})}),i&&e.listen&&e.listen(c=>{(c.action==="PUSH"||c.action==="POP")&&(o&&o.end(),Ya(t,c,n,(u,l="url")=>{a=u;const d={[Re]:"navigation",[Se]:"auto.navigation.react.reactrouter_v3",[re]:l};o=r({name:a,attributes:d})}))})}}function Ya(e,t,n,r){let s=t.pathname;n({location:t,routes:e},(i,o,a)=>{if(i||!a)return r(s);const c=mT(a.routes||[]);return c.length===0||c==="/*"?r(s):(s=c,r(s,"route"))})}function mT(e){if(!Array.isArray(e)||e.length===0)return"";const t=e.filter(r=>!!r.path);let n=-1;for(let r=t.length-1;r>=0;r--){const s=t[r];if(s.path&&s.path.startsWith("/")){n=r;break}}return t.slice(n).filter(({path:r})=>!!r).map(({path:r})=>r).join("")}const gT="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/reactrouter.tsx";let Wt;function fI(e){const t=Vr({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,matchPath:s,instrumentPageLoad:i=!0,instrumentNavigation:o=!0}=e;return{...t,afterAllSetup(a){t.afterAllSetup(a);const c=d=>{jn(a,d)},u=d=>{Wn(a,d)},l=_T(n,r,s);l(c,i,!1),l(u,!1,o)}}}function pI(e){const t=Vr({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,matchPath:s}=e;return{...t,afterAllSetup(i){t.afterAllSetup(i);const o=u=>{jn(i,u)},a=u=>{Wn(i,u)},c=yT(n,r,s);c(o,e.instrumentPageLoad,!1),c(a,!1,e.instrumentNavigation)}}}function _T(e,t,n){return wd(e,"reactrouter_v4",t,n)}function yT(e,t,n){return wd(e,"reactrouter_v5",t,n)}function wd(e,t,n=[],r){function s(){if(e&&e.location)return e.location.pathname;if(w&&w.location)return w.location.pathname}function i(o){if(n.length===0||!r)return[o,"url"];const a=kd(n,o,r);for(let c=0;c<a.length;c++)if(a[c].match.isExact)return[a[c].match.path,"route"];return[o,"url"]}return(o,a=!0,c=!0)=>{const u=s();if(a&&u){const[l,d]=i(u);Wt=o({name:l,attributes:{[Re]:"pageload",[Se]:`auto.pageload.react.${t}`,[re]:d}})}c&&e.listen&&e.listen((l,d)=>{if(d&&(d==="PUSH"||d==="POP")){Wt&&Wt.end();const[f,p]=i(l.pathname);Wt=o({name:f,attributes:{[Re]:"navigation",[Se]:`auto.navigation.react.${t}`,[re]:p}})}})}}function kd(e,t,n,r=[]){return e.some(s=>{const i=s.path?n(t,s):r.length?r[r.length-1].match:ST(t);return i&&(r.push({route:s,match:i}),s.routes&&kd(s.routes,t,n,r)),!!i}),r}function ST(e){return{path:"/",url:"/",params:{},isExact:e==="/"}}function hI(e){const t=e.displayName||e.name,n=r=>{if(r&&r.computedMatch&&r.computedMatch.isExact){const s=r.computedMatch.path,i=bT();i&&(i.updateName(s),i.setAttribute(re,"route"))}return be.createElement(e,{...r,__self:this,__source:{fileName:gT,lineNumber:279}})};return n.displayName=`sentryRoute(${t})`,rs(n,e),n}function bT(){if(Wt)return Wt;const e=dn(),t=e?Xt(e):void 0;if(!t)return;const n=H(t).op;return n==="navigation"||n==="pageload"?t:void 0}const Rd="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/reactrouterv6.tsx";let Yt,_t,yt,St,Rn,It,sn,ss,dt=!1;function mI(e){const t=Vr({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{useEffect:n,useLocation:r,useNavigationType:s,createRoutesFromChildren:i,matchRoutes:o,stripBasename:a,instrumentPageLoad:c=!0,instrumentNavigation:u=!0}=e;return{...t,afterAllSetup(l){t.afterAllSetup(l);const d=p=>{Wn(l,p)},f=w&&w.location&&w.location.pathname;c&&f&&jn(l,{name:f,attributes:{[re]:"url",[Re]:"pageload",[Se]:"auto.pageload.react.reactrouter_v6"}}),_t=n,yt=r,St=s,It=o,Rn=i,dt=a||!1,sn=d,ss=u}}}function gI(e,t,n,r,s,i){return(o,a=!0,c=!0)=>{const u=w&&w.location&&w.location.pathname;a&&u&&(Yt=o({name:u,attributes:{[re]:"url",[Re]:"pageload",[Se]:"auto.pageload.react.reactrouter_v6"}})),_t=e,yt=t,St=n,It=s,Rn=r,dt=i||!1,sn=o,ss=c}}function Cs(e,t){if(!t||t==="/"||!e.toLowerCase().startsWith(t.toLowerCase()))return e;const n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?e:e.slice(n)||"/"}function Cd(e,t,n,r=""){if(!e||e.length===0)return[dt?Cs(t.pathname,r):t.pathname,"url"];let s="";if(n)for(let i=0;i<n.length;i++){const o=n[i],a=o.route;if(a){if(a.index)return[dt?Cs(o.pathname,r):o.pathname,"route"];const c=a.path;if(c){const u=c[0]==="/"||s[s.length-1]==="/"?c:`/${c}`;if(s+=u,r+o.pathname===t.pathname)return po(s)!==po(o.pathname)&&s.slice(-2)!=="/*"?[(dt?"":r)+u,"route"]:[(dt?"":r)+s,"route"]}}}return[dt?Cs(t.pathname,r):t.pathname,"url"]}function qi(e,t,n,r,s){const i=Array.isArray(r)?r:It(n,t,s);if(e&&i){const[o,a]=Cd(n,t,i,s);e.updateName(o),e.setAttribute(re,a)}}function Yi(e,t,n,r,s){const i=Array.isArray(r)?r:It(t,e,s);if(ss&&(n==="PUSH"||n==="POP")&&i){Yt&&Yt.end();const[o,a]=Cd(t,e,i,s);Yt=sn({name:o,attributes:{[re]:a,[Re]:"navigation",[Se]:"auto.navigation.react.reactrouter_v6"}})}}function _I(e){if(!_t||!yt||!St||!Rn||!It||!sn)return zi&&m.warn(`reactRouterV6Instrumentation was unable to wrap Routes because of one or more missing parameters.
      useEffect: ${_t}. useLocation: ${yt}. useNavigationType: ${St}.
      createRoutesFromChildren: ${Rn}. matchRoutes: ${It}. customStartTransaction: ${sn}.`),e;let t=!0;const n=r=>{const s=yt(),i=St();return _t(()=>{const o=Rn(r.children);t?(qi(Vi(),s,o),t=!1):Yi(s,o,i)},[s,i]),be.createElement(e,{...r,__self:this,__source:{fileName:Rd,lineNumber:329}})};return rs(n,e),n}function yI(e){if(!_t||!yt||!St||!It||!sn)return zi&&m.warn("reactRouterV6Instrumentation was unable to wrap `useRoutes` because of one or more missing parameters."),e;let t=!0;const n=r=>{const{routes:s,locationArg:i}=r,o=e(s,i),a=yt(),c=St(),u=typeof i=="string"||i&&i.pathname?i:a;return _t(()=>{const l=typeof u=="string"?{pathname:u}:u;t?(qi(Vi(),l,s),t=!1):Yi(l,s,c)},[c,u]),o};return(r,s)=>be.createElement(n,{routes:r,locationArg:s,__self:this,__source:{fileName:Rd,lineNumber:386}})}function SI(e){return function(t,n){const r=e(t,n),s=n&&n.basename,i=Vi();return r.state.historyAction==="POP"&&i&&qi(i,r.state.location,t,void 0,s),r.subscribe(o=>{const a=o.location;ss&&(o.historyAction==="PUSH"||o.historyAction==="POP")&&Yi(a,t,o.historyAction,void 0,s)}),r}}function Vi(){if(Yt)return Yt;const e=dn(),t=e?Xt(e):void 0;if(!t)return;const n=H(t).op;return n==="navigation"||n==="pageload"?t:void 0}export{Kg as Breadcrumbs,bg as BrowserClient,sI as BrowserProfilingIntegration,GT as BrowserTracing,s_ as Dedupe,Gi as ErrorBoundary,ns as Feedback,zh as FunctionToString,u_ as GlobalHandlers,g_ as HttpContext,$c as Hub,Nh as InboundFilters,iI as Integrations,b_ as LinkedErrors,WT as ModuleMetadata,Id as Profiler,es as Replay,eI as ReplayCanvas,Us as SDK_VERSION,Re as SEMANTIC_ATTRIBUTE_SENTRY_OP,Se as SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,$t as SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,re as SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,Ue as Scope,T_ as TryCatch,w as WINDOW,rt as addBreadcrumb,rh as addEventProcessor,Xf as addGlobalEventProcessor,HT as addIntegration,Vc as addTracingExtensions,Bu as breadcrumbsIntegration,Qu as browserApiErrorsIntegration,tT as browserProfilingIntegration,Vr as browserTracingIntegration,YE as captureConsoleIntegration,Hr as captureEvent,$n as captureException,Hs as captureMessage,bo as captureSession,JT as captureUserFeedback,Dg as chromeStackLineParser,MT as close,vT as configureScope,Rv as contextLinesIntegration,BT as continueTrace,lI as createReduxEnhancer,su as createTransport,yg as createUserFeedbackEnvelope,XE as debugIntegration,ZE as dedupeIntegration,R_ as defaultIntegrations,Ir as defaultRequestInstrumentationOptions,qg as defaultStackLineParsers,Yg as defaultStackParser,Oc as endSession,hg as eventFromException,mg as eventFromMessage,Pu as exceptionFromError,rv as extraErrorDataIntegration,DT as extractTraceparentData,tI as feedbackIntegration,AT as flush,VT as forceLoad,pu as functionToStringIntegration,Fg as geckoStackLineParser,dn as getActiveSpan,Ge as getActiveTransaction,x as getClient,G as getCurrentHub,se as getCurrentScope,C_ as getDefaultIntegrations,js as getHubFromCarrier,QT as getReplay,Bc as getSpanStatusFromHttpCode,Gu as globalHandlersIntegration,hv as httpClientIntegration,Ku as httpContextIntegration,du as inboundFiltersIntegration,oI as init,Nu as instrumentOutgoingRequests,NT as isInitialized,OT as lastEventId,Ju as linkedErrorsIntegration,nI as makeBrowserOfflineTransport,Tg as makeFetchTransport,To as makeMain,UT as makeMultiplexedTransport,wg as makeXHRTransport,zT as metrics,xh as moduleMetadataIntegration,KT as onLoad,rI as onProfilingStartRouteTransaction,qT as opera10StackLineParser,YT as opera11StackLineParser,jT as parameterize,dI as reactRouterV3BrowserTracingIntegration,hT as reactRouterV3Instrumentation,fI as reactRouterV4BrowserTracingIntegration,_T as reactRouterV4Instrumentation,pI as reactRouterV5BrowserTracingIntegration,yT as reactRouterV5Instrumentation,mI as reactRouterV6BrowserTracingIntegration,gI as reactRouterV6Instrumentation,hE as replayCanvasIntegration,ZT as replayIntegration,cv as reportingObserverIntegration,lv as rewriteFramesIntegration,xE as sendFeedback,fv as sessionTimingIntegration,lp as setContext,dh as setCurrentClient,IT as setExtra,TT as setExtras,bi as setHttpStatus,Mp as setMeasurement,kT as setTag,wT as setTags,RT as setUser,Ko as showReportDialog,LT as spanStatusfromHttpCode,Wn as startBrowserTracingNavigationSpan,jn as startBrowserTracingPageLoadSpan,gt as startInactiveSpan,So as startSession,$T as startSpan,FT as startSpanManual,xT as startTransaction,PT as trace,cI as useProfiler,Ug as winjsStackLineParser,yo as withActiveSpan,uI as withErrorBoundary,CT as withIsolationScope,aI as withProfiler,it as withScope,_I as withSentryReactRouterV6Routing,hI as withSentryRouting,XT as wrap,SI as wrapCreateBrowserRouter,yI as wrapUseRoutes};
