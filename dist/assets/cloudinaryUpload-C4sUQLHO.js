import{g as a}from"./main-AonIQAES.js";async function n(o,r="dishes"){if(console.log("üîç [uploadToCloudinary] Recebido:",{file:o,isFile:o instanceof File,type:typeof o,fileName:o?.name,fileSize:o?.size,fileType:o?.type,folder:r}),!o)throw console.error("‚ùå [uploadToCloudinary] Nenhum arquivo fornecido"),new Error("Nenhum arquivo fornecido");if(!(o instanceof File))throw console.error("‚ùå [uploadToCloudinary] Arquivo n√£o √© inst√¢ncia de File:",typeof o,o),new Error("O arquivo deve ser uma inst√¢ncia de File");if(!o.type||!o.type.startsWith("image/"))throw console.error("‚ùå [uploadToCloudinary] Arquivo n√£o √© imagem:",o.type),new Error("O arquivo deve ser uma imagem");try{console.log("üì§ [uploadToCloudinary] Iniciando upload...",{fileName:o.name,fileSize:o.size,fileType:o.type,folder:r});const e=await a.uploadImageToCloudinary(o,r);if(!e||!e.url)throw console.error("‚ùå [uploadToCloudinary] Resposta inv√°lida do servidor:",e),new Error("Resposta inv√°lida do servidor. Verifique se o backend est√° rodando e configurado corretamente.");return console.log("‚úÖ [uploadToCloudinary] Upload conclu√≠do:",e.url),e.url}catch(e){throw console.error("‚ùå [uploadToCloudinary] Erro ao fazer upload:",e),e.message.includes("Failed to fetch")||e.message.includes("NetworkError")?new Error("N√£o foi poss√≠vel conectar ao servidor. Verifique se o backend est√° rodando."):e.message.includes("404")?new Error("Endpoint de upload n√£o encontrado. Verifique se a rota /api/upload-image est√° configurada no backend."):e.message.includes("500")?new Error("Erro no servidor. Verifique se as credenciais do Cloudinary est√£o configuradas."):new Error(e.message||"Erro ao fazer upload da imagem. Verifique o console para mais detalhes.")}}export{n as uploadToCloudinary};
