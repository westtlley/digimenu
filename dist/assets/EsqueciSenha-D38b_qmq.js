import{r,j as e,g as n,e as l,B as c,L as f,d as j,z as m}from"./main-5wCJ0shd.js";import{L as p,I as b}from"./label-BGurCIwA.js";import{A as y}from"./arrow-left-nPuylZ-_.js";import"./index-BjH-urEE.js";function E(){const[a,d]=r.useState(""),[s,i]=r.useState(!1),[o,x]=r.useState(!1),u=async t=>{t.preventDefault(),i(!0);try{await j.post("/auth/forgot-password",{email:a.trim().toLowerCase()}),x(!0),m.success("Se existir uma conta com este email, você receberá um link para redefinir a senha.")}catch(h){const g=h?.message||"Erro ao enviar. Tente novamente.";m.error(g)}finally{i(!1)}};return o?e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gray-100 dark:bg-gray-900",children:e.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-white rounded-lg shadow-md dark:bg-gray-800",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(n,{className:"w-8 h-8 text-green-500"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Email enviado"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:["Se existir uma conta com ",e.jsx("strong",{children:a}),", você receberá um link para redefinir a senha. Verifique a caixa de entrada e o spam."]})]}),e.jsx(l,{to:"/login",className:"block",children:e.jsx(c,{variant:"outline",className:"w-full",children:"Voltar ao login"})})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gray-100 dark:bg-gray-900",children:e.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-white rounded-lg shadow-md dark:bg-gray-800",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-orange-100 dark:bg-orange-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(n,{className:"w-8 h-8 text-orange-500"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Esqueci minha senha"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Informe seu email para receber um link de redefinição."})]}),e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(p,{htmlFor:"email",children:"Email"}),e.jsx(b,{id:"email",type:"email",placeholder:"seu@email.com",value:a,onChange:t=>d(t.target.value),disabled:s,required:!0,autoFocus:!0})]}),e.jsx(c,{type:"submit",className:"w-full",disabled:s,children:s?e.jsxs(e.Fragment,{children:[e.jsx(f,{className:"w-4 h-4 animate-spin mr-2"})," Enviando..."]}):"Enviar link"})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[e.jsx(y,{className:"w-4 h-4"}),e.jsx(l,{to:"/login",className:"text-orange-500 hover:underline",children:"Voltar ao login"})]})]})})}export{E as default};
