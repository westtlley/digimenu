import{r as a,j as e,B as l,g as s}from"./main-BRmc9wuQ.js";import{A as x,h as p,a as j,b as f,c as A,d as D,e as y,f as v,g as w}from"./alert-dialog-WT2FZKvg.js";import{L as C}from"./log-in-V4EDTWPP.js";import{U as L}from"./user-DROTyYEO.js";import{P as N}from"./power-CSJOf1Dk.js";function B({className:r=""}){const[t,i]=a.useState(null),[o,c]=a.useState(!0),[d,n]=a.useState(!1);a.useEffect(()=>{(async()=>{try{if(await s.auth.isAuthenticated()){const u=await s.auth.me();i(u)}}catch{i(null)}finally{c(!1)}})()},[]);const g=()=>{s.auth.redirectToLogin(window.location.pathname)},h=()=>{n(!1),s.auth.logout()};return o?null:t?e.jsxs("div",{className:`flex items-center gap-2 ${r}`,children:[e.jsxs("div",{className:"hidden sm:flex items-center gap-2 px-3 py-1 rounded-lg bg-gray-100 dark:bg-gray-800",children:[e.jsx(L,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:t.email})]}),e.jsxs(x,{open:d,onOpenChange:n,children:[e.jsx(p,{asChild:!0,children:e.jsxs(l,{size:"sm",variant:"outline",className:"text-red-600 hover:bg-red-50 dark:hover:bg-red-950",title:"Sair",children:[e.jsx(N,{className:"w-4 h-4 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Sair"})]})}),e.jsxs(j,{children:[e.jsxs(f,{children:[e.jsx(A,{children:"Deseja realmente sair?"}),e.jsx(D,{children:"Você precisará fazer login novamente para acessar o painel."})]}),e.jsxs(y,{children:[e.jsx(v,{children:"Cancelar"}),e.jsx(w,{onClick:h,className:"bg-red-600 hover:bg-red-700",children:"Sair"})]})]})]})]}):e.jsxs(l,{onClick:g,size:"sm",variant:"outline",className:r,children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),"Entrar"]})}export{B as U};
