import{d as a}from"./main-5wCJ0shd.js";const s="";async function d(o,r="dishes"){if(!o)throw new Error("Nenhum arquivo fornecido");if(!(o instanceof File))throw new Error("O arquivo deve ser uma instância de File");if(!o.type||!o.type.startsWith("image/"))throw new Error("O arquivo deve ser uma imagem");const n=e=>e?.message?.includes("404")||e?.message?.includes("Cannot POST")||typeof e?.message=="string"&&e.message.includes("upload-image");try{const e=await a.uploadImageToCloudinary(o,r);if(!e?.url)throw new Error("Resposta inválida do servidor");return e.url}catch(e){throw n(e),e.message.includes("Failed to fetch")||e.message.includes("NetworkError")?new Error("Não foi possível conectar ao servidor. Verifique se o backend está rodando."):e.message.includes("404")||e.message.includes("Cannot POST")?new Error("Rota de upload não encontrada no backend. Faça o deploy do backend ou configure upload direto: crie um preset unsigned no Cloudinary e defina VITE_CLOUDINARY_CLOUD_NAME e VITE_CLOUDINARY_UPLOAD_PRESET no .env."):e.message.includes("500")?new Error("Erro no servidor. Verifique as credenciais do Cloudinary no backend."):e}}export{d as uploadToCloudinary};
